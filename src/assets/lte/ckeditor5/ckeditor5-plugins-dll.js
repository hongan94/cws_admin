!function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Align center":"Align center","Align left":"Align left","Align right":"Align right",Justify:"Justify","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function u(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return i[e](t,t.exports,u),t.exports}u.d=(e,t)=>{for(var i in t)u.o(t,i)&&!u.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var g={};(()=>{"use strict";u.r(g),u.d(g,{Alignment:()=>o,AlignmentEditing:()=>t,AlignmentUI:()=>n});var e=u(704),r=u(209);const i=["left","right","center","justify"];function s(e){return i.includes(e)}function m(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}function l(o){const e=o.map(e=>{return"string"==typeof e?{name:e}:e}).filter(e=>{var t=!!i.includes(e.name);return t||(0,r.logWarning)("alignment-config-name-not-recognized",{option:e}),t}),t=e.filter(e=>!!e.className).length;if(t&&t<e.length)throw new r.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:o});return e.forEach((t,e,i)=>{const n=i.slice(e+1);if(n.some(e=>e.name==t.name))throw new r.CKEditorError("alignment-config-name-already-defined",{option:t,configuredOptions:o});if(t.className&&n.some(e=>e.className==t.className))throw new r.CKEditorError("alignment-config-classname-already-defined",{option:t,configuredOptions:o})}),e}const h="alignment";class a extends e.Command{refresh(){const e=this.editor.locale,t=(0,r.first)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value="rtl"===e.contentLanguageDirection?"right":"left"}execute(e={}){const t=this.editor,c=t.locale,i=t.model,d=i.document,u=e.value;i.change(e=>{const t=Array.from(d.selection.getSelectedBlocks()).filter(e=>this._canBeAligned(e)),i=t[0].getAttribute("alignment");if(m(u,c)||i===u||!u){var n=t,o=e;for(const s of n)o.removeAttribute(h,s)}else{var n=t,r=e,a=u;for(const l of n)r.setAttribute(h,a,l)}})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,h)}}class t extends e.Plugin{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:[...i.map(e=>({name:e}))]})}init(){const e=this.editor,t=e.locale,i=e.model.schema,n=l(e.config.get("alignment.options")).filter(e=>s(e.name)&&!m(e.name,t)),o=n.some(e=>!!e.className);i.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(function(e){const t={model:{key:"alignment",values:e.map(e=>e.name)},view:{}};for(const i of e)t.view[i.name]={key:"class",value:i.className};return t}(n)):e.conversion.for("downcast").attributeToAttribute(function(e){const t={model:{key:"alignment",values:e.map(e=>e.name)},view:{}};for(var{name:i}of e)t.view[i]={key:"style",value:{"text-align":i}};return t}(n));for(const t of function(){const e=[];for(var{name:t}of n)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}())e.conversion.for("upcast").attributeToAttribute(t);for(const t of function(){const e=[];for(var{name:t}of n)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}())e.conversion.for("upcast").attributeToAttribute(t);e.commands.add("alignment",new a(e))}}var c=u(273);const d=new Map([["left",e.icons.alignLeft],["right",e.icons.alignRight],["center",e.icons.alignCenter],["justify",e.icons.alignJustify]]);class n extends e.Plugin{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,o=e.ui.componentFactory,r=e.t,a=l(e.config.get("alignment.options"));a.map(e=>e.name).filter(s).forEach(e=>this._addButton(e)),o.add("alignment",e=>{const t=(0,c.createDropdown)(e),i=a.map(e=>o.create("alignment:"+e.name)),n=((0,c.addToolbarToDropdown)(t,i),t.buttonView.set({label:r("Text alignment"),tooltip:!0}),t.toolbarView.isVertical=!0,t.toolbarView.ariaLabel=r("Text alignment toolbar"),t.extendTemplate({attributes:{class:"ck-alignment-dropdown"}}),"rtl"===e.contentLanguageDirection?d.get("right"):d.get("left"));return t.buttonView.bind("icon").toMany(i,"isOn",(...e)=>{e=e.findIndex(e=>e);return e<0?n:i[e].icon}),t.bind("isEnabled").toMany(i,"isEnabled",(...e)=>e.some(e=>e)),t})}_addButton(n){const o=this.editor;o.ui.componentFactory.add("alignment:"+n,e=>{const t=o.commands.get("alignment"),i=new c.ButtonView(e);return i.set({label:this.localizedOptionTitles[n],icon:d.get(n),tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(t),i.bind("isOn").to(t,"value",e=>e===n),this.listenTo(i,"execute",()=>{o.execute("alignment",{value:n}),o.editing.view.focus()}),i})}}class o extends e.Plugin{static get requires(){return[t,n]}static get pluginName(){return"Alignment"}}})(),(window.CKEditor5=window.CKEditor5||{}).alignment=g})(),(()=>{var i={704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return i[e](t,t.exports,a),t.exports}a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{"use strict";a.r(s),a.d(s,{Autoformat:()=>o});var e=a(704),t=a(181),g=a(492),p=a(209);function n(l,c,d,u){let m,h=null;m="function"==typeof u?u:(h=l.commands.get(u),()=>{l.execute(u)}),l.model.document.on("change:data",(e,t)=>{if((!h||h.isEnabled)&&c.isEnabled){const n=(0,p.first)(l.model.document.selection.getRanges());if(n.isCollapsed&&!t.isUndo&&t.isLocal){var t=Array.from(l.model.document.differ.getChanges()),i=t[0];if(1==t.length&&"insert"===i.type&&"$text"==i.name&&1==i.length){const o=i.position.parent;if(!o.is("element","codeBlock")&&(!o.is("element","listItem")||"function"==typeof u||["numberedList","bulletedList","todoList"].includes(u))&&(!h||!0!==h.value)){const r=o.getChild(0),a=l.model.createRangeOn(r);if(a.containsRange(n)||n.end.isEqual(a.end)){const s=d.exec(r.data.substr(0,n.end.offset));s&&l.model.enqueueChange(e=>{const t=e.createPositionAt(o,0),i=e.createPositionAt(o,s[0].length),n=new g.LiveRange(t,i);if(!1!==m({match:s})){e.remove(n);const t=l.model.document.selection.getFirstRange(),i=e.createRangeIn(o);!o.isEmpty||i.isEqual(t)||i.containsRange(t,!0)||e.remove(o)}n.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})}}}}}})}function i(m,h,e,g){let l,p;e instanceof RegExp?l=e:p=e,p=p||(e=>{const t=[],i=[];for(;null!==(s=l.exec(e))&&!(s&&s.length<4);){var{index:n,1:o,2:r,3:a}=s,s=[n+=s[0].length-(o+r+a).length,n+o.length],a=[n+o.length+r.length,n+o.length+r.length+a.length];t.push(s),t.push(a),i.push([n+o.length,n+o.length+r.length])}return{remove:t,format:i}}),m.model.document.on("change:data",(e,t)=>{if(!t.isUndo&&t.isLocal&&h.isEnabled){const n=m.model,o=n.document.selection;if(o.isCollapsed){var t=Array.from(n.document.differ.getChanges()),i=t[0];if(1==t.length&&"insert"===i.type&&"$text"==i.name&&1==i.length){const r=o.focus,a=r.parent,{text:s,range:l}=function(e,i){let n=e.start;return{text:Array.from(e.getItems()).reduce((e,t)=>!t.is("$text")&&!t.is("$textProxy")||t.getAttribute("code")?(n=i.createPositionAfter(t),""):e+t.data,""),range:i.createRange(n,e.end)}}(n.createRange(n.createPositionAt(a,0),r),n),c=p(s),d=f(l.start,c.format,n),u=f(l.start,c.remove,n);d.length&&u.length&&n.enqueueChange(e=>{if(!1!==g(e,d)){for(const m of u.reverse())e.remove(m);n.enqueueChange(()=>{m.plugins.get("Delete").requestUndoOnBackspace()})}})}}}})}function f(t,e,i){return e.filter(e=>void 0!==e[0]&&void 0!==e[1]).map(e=>i.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1])))}class o extends e.Plugin{static get requires(){return[t.Delete]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&n(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&n(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&n(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&n(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=r(this.editor,"bold");i(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),i(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=r(this.editor,"italic");i(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),i(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=r(this.editor,"code");i(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(e.get("strikethrough")){const e=r(this.editor,"strikethrough");i(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const i=this.editor.commands.get("heading");i&&i.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{var t=e[7],t=new RegExp(`^(#{${t}})\\s$`);n(this.editor,this,t,()=>{if(!i.isEnabled||i.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&n(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&n(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&n(this.editor,this,/^---$/,"horizontalLine")}}function r(i,n){return(e,t)=>{if(!i.commands.get(n).isEnabled)return!1;t=i.model.schema.getValidRanges(t,n);for(const i of t)e.setAttribute(n,!0,i);e.removeSelectionAttribute(n)}}})(),(window.CKEditor5=window.CKEditor5||{}).autoformat=s})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{Bold:"Bold",Code:"Code",Italic:"Italic",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript",Underline:"Underline"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={415:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function F(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,F),t.exports}F.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return F.d(t,{a:t}),t},F.d=(e,t)=>{for(var i in t)F.o(t,i)&&!F.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},F.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),F.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},F.nc=void 0;var H={};(()=>{"use strict";F.r(H),F.d(H,{Bold:()=>s,BoldEditing:()=>n,BoldUI:()=>o,Code:()=>p,CodeEditing:()=>d,CodeUI:()=>g,Italic:()=>z,ItalicEditing:()=>b,ItalicUI:()=>v,Strikethrough:()=>D,StrikethroughEditing:()=>y,StrikethroughUI:()=>x,Subscript:()=>R,SubscriptEditing:()=>T,SubscriptUI:()=>A,Superscript:()=>B,SuperscriptEditing:()=>L,SuperscriptUI:()=>M,Underline:()=>O,UnderlineEditing:()=>V,UnderlineUI:()=>P});var e=F(704);class t extends e.Command{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,n=i.document.selection,o=void 0===e.forceValue?!this.value:e.forceValue;i.change(e=>{if(n.isCollapsed)o?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{var t=i.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const i of t)o?e.setAttribute(this.attributeKey,o,i):e.removeAttribute(this.attributeKey,i)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const e of i.getRanges())for(const i of e.getItems())if(t.checkAttribute(i,this.attributeKey))return i.hasAttribute(this.attributeKey);return!1}}const i="bold";class n extends e.Plugin{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:i}),e.model.schema.setAttributeProperties(i,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:i,view:"strong",upcastAlso:["b",e=>{e=e.getStyle("font-weight");return e?"bold"==e||600<=Number(e)?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add(i,new t(e,i)),e.keystrokes.set("CTRL+B",i)}}var r=F(273);const a="bold";class o extends e.Plugin{static get pluginName(){return"BoldUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(a,e=>{const t=n.commands.get(a),i=new r.ButtonView(e);return i.set({label:o("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(a),n.editing.view.focus()}),i})}}class s extends e.Plugin{static get requires(){return[n,o]}static get pluginName(){return"Bold"}}var l=F(181);const c="code";class d extends e.Plugin{static get pluginName(){return"CodeEditing"}static get requires(){return[l.TwoStepCaretMovement]}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:c}),e.model.schema.setAttributeProperties(c,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:c,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),e.commands.add(c,new t(e,c)),e.plugins.get(l.TwoStepCaretMovement).registerAttribute(c),(0,l.inlineHighlight)(e,c,"code","ck-code_selected")}}var u=F(62),u=F.n(u),m=F(415);u()(m.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),m.Z.locals;const h="code";class g extends e.Plugin{static get pluginName(){return"CodeUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(h,e=>{const t=n.commands.get(h),i=new r.ButtonView(e);return i.set({label:o("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(h),n.editing.view.focus()}),i})}}class p extends e.Plugin{static get requires(){return[d,g]}static get pluginName(){return"Code"}}const f="italic";class b extends e.Plugin{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:f}),e.model.schema.setAttributeProperties(f,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:f,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(f,new t(e,f)),e.keystrokes.set("CTRL+I",f)}}const w="italic";class v extends e.Plugin{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(w,e=>{const t=n.commands.get(w),i=new r.ButtonView(e);return i.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(w),n.editing.view.focus()}),i})}}class z extends e.Plugin{static get requires(){return[b,v]}static get pluginName(){return"Italic"}}const k="strikethrough";class y extends e.Plugin{static get pluginName(){return"StrikethroughEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:k}),e.model.schema.setAttributeProperties(k,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:k,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(k,new t(e,k)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const _="strikethrough";class x extends e.Plugin{static get pluginName(){return"StrikethroughUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(_,e=>{const t=n.commands.get(_),i=new r.ButtonView(e);return i.set({label:o("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(_),n.editing.view.focus()}),i})}}class D extends e.Plugin{static get requires(){return[y,x]}static get pluginName(){return"Strikethrough"}}const C="subscript";class T extends e.Plugin{static get pluginName(){return"SubscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:C}),e.model.schema.setAttributeProperties(C,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:C,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(C,new t(e,C))}}const I="subscript";class A extends e.Plugin{static get pluginName(){return"SubscriptUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(I,e=>{const t=n.commands.get(I),i=new r.ButtonView(e);return i.set({label:o("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(I),n.editing.view.focus()}),i})}}class R extends e.Plugin{static get requires(){return[T,A]}static get pluginName(){return"Subscript"}}const S="superscript";class L extends e.Plugin{static get pluginName(){return"SuperscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:S}),e.model.schema.setAttributeProperties(S,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:S,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add(S,new t(e,S))}}const E="superscript";class M extends e.Plugin{static get pluginName(){return"SuperscriptUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(E,e=>{const t=n.commands.get(E),i=new r.ButtonView(e);return i.set({label:o("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(E),n.editing.view.focus()}),i})}}class B extends e.Plugin{static get requires(){return[L,M]}static get pluginName(){return"Superscript"}}const N="underline";class V extends e.Plugin{static get pluginName(){return"UnderlineEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:N}),e.model.schema.setAttributeProperties(N,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:N,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(N,new t(e,N)),e.keystrokes.set("CTRL+U","underline")}}const j="underline";class P extends e.Plugin{static get pluginName(){return"UnderlineUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(j,e=>{const t=n.commands.get(j),i=new r.ButtonView(e);return i.set({label:o("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(j),n.editing.view.focus()}),i})}}class O extends e.Plugin{static get requires(){return[V,P]}static get pluginName(){return"Underline"}}})(),(window.CKEditor5=window.CKEditor5||{}).basicStyles=H})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Block quote":"Block quote"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={446:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},331:(e,t,i)=>{e.exports=i(79)("./src/enter.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function g(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,g),t.exports}g.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return g.d(t,{a:t}),t},g.d=(e,t)=>{for(var i in t)g.o(t,i)&&!g.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),g.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.nc=void 0;var p={};(()=>{"use strict";g.r(p),g.d(p,{BlockQuote:()=>h,BlockQuoteEditing:()=>i,BlockQuoteUI:()=>m});var r=g(704),e=g(331),t=g(181),n=g(209);class a extends r.Command{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.schema,n=t.document.selection,o=Array.from(n.getSelectedBlocks()),r=void 0===e.forceValue?!this.value:e.forceValue;t.change(e=>{var t;r?(t=o.filter(e=>s(e)||l(i,e)),this._applyQuote(e,t)):this._removeQuote(e,o.filter(s))})}_getValue(){const e=this.editor.model.document.selection,t=(0,n.first)(e.getSelectedBlocks());return!(!t||!s(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=(0,n.first)(e.getSelectedBlocks());return!!i&&l(t,i)}_removeQuote(i,e){o(i,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)i.unwrap(e.start.parent);else if(e.start.isAtStart){const t=i.createPositionBefore(e.start.parent);void i.move(e,t)}else{e.end.isAtEnd||i.split(e.end);const t=i.createPositionAfter(e.end.parent);i.move(e,t)}})}_applyQuote(i,e){const n=[];o(i,e).reverse().forEach(e=>{let t=s(e.start);t||(t=i.createElement("blockQuote"),i.wrap(e,t)),n.push(t)}),n.reverse().reduce((e,t)=>e.nextSibling==t?(i.merge(i.createPositionAfter(e)),e):t)}}function s(e){return"blockQuote"==e.parent.name?e.parent:null}function o(e,t){let i,n=0;const o=[];for(;n<t.length;){var r=t[n],a=t[n+1];i=i||e.createPositionBefore(r),a&&r.nextSibling==a||(o.push(e.createRange(i,e.createPositionAfter(r))),i=null),n++}return o}function l(e,t){var i=e.checkChild(t.parent,"blockQuote"),e=e.checkChild(["$root","blockQuote"],t);return i&&e}class i extends r.Plugin{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[e.Enter,t.Delete]}init(){const n=this.editor,i=n.model.schema,e=(n.commands.add("blockQuote",new a(n)),i.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(e=>{const t=n.model.document.differ.getChanges();for(const n of t)if("insert"==n.type){const t=n.position.nodeAfter;if(!t)continue;if(t.is("element","blockQuote")&&t.isEmpty)return e.remove(t),!0;if(t.is("element","blockQuote")&&!i.checkChild(n.position,t))return e.unwrap(t),!0;if(t.is("element")){const n=e.createRangeIn(t);for(const t of n.getItems())if(t.is("element","blockQuote")&&!i.checkChild(e.createPositionBefore(t),t))return e.unwrap(t),!0}}else if("remove"==n.type){const i=n.position.parent;if(i.is("element","blockQuote")&&i.isEmpty)return e.remove(i),!0}return!1}),this.editor.editing.view.document),o=n.model.document.selection,r=n.commands.get("blockQuote");this.listenTo(e,"enter",(e,t)=>{o.isCollapsed&&r.value&&o.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),t.preventDefault(),e.stop())},{context:"blockquote"}),this.listenTo(e,"delete",(e,t)=>{var i;"backward"==t.direction&&o.isCollapsed&&r.value&&((i=o.getLastPosition().parent).isEmpty&&!i.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),t.preventDefault(),e.stop()))},{context:"blockquote"})}}var c=g(273),d=g(62),d=g.n(d),u=g(446);d()(u.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),u.Z.locals;class m extends r.Plugin{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add("blockQuote",e=>{const t=n.commands.get("blockQuote"),i=new c.ButtonView(e);return i.set({label:o("Block quote"),icon:r.icons.quote,tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute("blockQuote"),n.editing.view.focus()}),i})}}class h extends r.Plugin{static get requires(){return[i,m]}static get pluginName(){return"BlockQuote"}}})(),(window.CKEditor5=window.CKEditor5||{}).blockQuote=p})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Insert code block":"Insert code block","Plain text":"Plain text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={67:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},331:(e,t,i)=>{e.exports=i(79)("./src/enter.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function C(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,C),t.exports}C.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return C.d(t,{a:t}),t},C.d=(e,t)=>{for(var i in t)C.o(t,i)&&!C.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},C.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),C.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},C.nc=void 0;var T={};(()=>{"use strict";C.r(T),C.d(T,{CodeBlock:()=>x,CodeBlockEditing:()=>f,CodeBlockUI:()=>_});var e=C(704),t=C(331),c=C(492),o=C(209);function d(e){const t=e.t,i=e.config.get("codeBlock.languages");for(const e of i)"Plain text"===e.label&&(e.label=t("Plain text")),void 0===e.class&&(e.class="language-"+e.language);return i}function n(e,t,i){const n={};for(const o of e)"class"===t?n[o[t].split(" ").shift()]=o[i]:n[o[t]]=o[i];return n}function s(e){return e.data.match(/^(\s*)/)[0]}function r(e){const t=e.document.selection,i=[];if(t.isCollapsed)i.push(t.anchor);else{var n,o,r,a=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:t}of a)t.is("$textProxy")&&t.parent.is("element","codeBlock")&&(n=s(t.textNode),{parent:r,startOffset:o}=t.textNode,r=e.createPositionAt(r,o+n.length),i.push(r))}return i}function i(e){const t=(0,o.first)(e.getSelectedBlocks());return t&&t.is("element","codeBlock")}class u extends e.Command{constructor(e){super(e),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor,i=t.model,n=i.document.selection,o=d(t)[0],r=Array.from(n.getSelectedBlocks()),a=void 0===e.forceValue?!this.value:e.forceValue,s=(e=e,l=this._lastLanguage,c=o.language,e.language||(e.usePreviousLanguageChoice&&l?l:c));var l,c;i.change(e=>{a?this._applyCodeBlock(e,r,s):this._removeCodeBlock(e,r)})}_getValue(){const e=this.editor.model.document.selection,t=(0,o.first)(e.getSelectedBlocks());return!(!t||!t.is("element","codeBlock"))&&t.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=(0,o.first)(e.getSelectedBlocks());return!!i&&a(t,i)}_applyCodeBlock(i,t,e){this._lastLanguage=e;const n=this.editor.model.schema,o=t.filter(e=>a(n,e));for(const t of o)i.rename(t,"codeBlock"),i.setAttribute("language",e,t),n.removeDisallowedAttributes([t],i),Array.from(t.getChildren()).filter(e=>!n.checkChild(t,e)).forEach(e=>i.remove(e));o.reverse().forEach((e,t)=>{t=o[t+1];e.previousSibling===t&&(i.appendElement("softBreak",t),i.merge(i.createPositionBefore(e)))})}_removeCodeBlock(e,t){const i=t.filter(e=>e.is("element","codeBlock"));for(const t of i){const i=e.createRangeOn(t);for(const t of Array.from(i.getItems()).reverse())if(t.is("element","softBreak")&&t.parent.is("element","codeBlock")){const i=e.split(e.createPositionBefore(t))["position"];e.rename(i.nodeAfter,"paragraph"),e.removeAttribute("language",i.nodeAfter),e.remove(t)}e.rename(t,"paragraph"),e.removeAttribute("language",t)}}}function a(e,t){return!t.is("rootElement")&&!e.isLimit(t)&&e.checkChild(t.parent,"codeBlock")}class m extends e.Command{constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(e=>{var t=r(i);for(const i of t)e.insertText(this._indentSequence,i)})}_checkEnabled(){return!!this._indentSequence&&i(this.editor.model.document.selection)}}class h extends e.Command{constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(e=>{const t=r(i);for(const i of t){const t=l(this.editor.model,i,this._indentSequence);t&&e.remove(t)}})}_checkEnabled(){if(!this._indentSequence)return!1;const t=this.editor.model;return!!i(t.document.selection)&&r(t).some(e=>l(t,e,this._indentSequence))}}function l(e,t,i){t=function(e){let t=e.parent.getChild(e.index);return!(t=t&&!t.is("element","softBreak")?t:e.nodeBefore)||t.is("element","softBreak")?null:t}(t);if(!t)return null;const n=s(t),o=n.lastIndexOf(i);if(o+i.length!==n.length)return null;if(-1===o)return null;var{parent:t,startOffset:r}=t;return e.createRange(e.createPositionAt(t,r+o),e.createPositionAt(t,r+o+i.length))}function g(d,e,u=!1){const m=n(e,"language","class"),h=n(e,"language","label");return(e,t,i)=>{const{writer:n,mapper:o,consumable:r}=i;if(r.consume(t.item,"insert")){const s=t.item.getAttribute("language"),l=o.toViewPosition(d.createPositionBefore(t.item)),c={};u&&(c["data-language"]=h[s],c.spellcheck="false");var i=n.createContainerElement("code",{class:m[s]||null}),a=n.createContainerElement("pre",c,i);n.insert(l,a),o.bindElements(t.item,i)}}}const p="paragraph";class f extends e.Plugin{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[t.ShiftEnter]}constructor(e){super(e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"\t"})}init(){const r=this.editor,a=r.model.schema,s=r.model,e=r.editing.view,i=r.plugins.has("DocumentListEditing"),t=d(r);var l;r.commands.add("codeBlock",new u(r)),r.commands.add("indentCodeBlock",new m(r)),r.commands.add("outdentCodeBlock",new h(r)),this.listenTo(e.document,"tab",(e,t)=>{var i=t.shiftKey?"outdentCodeBlock":"indentCodeBlock";r.commands.get(i).isEnabled&&(r.execute(i),t.stopPropagation(),t.preventDefault(),e.stop())},{context:"pre"}),a.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),a.addAttributeCheck((e,t)=>{t=e.endsWith("codeBlock")&&t.startsWith("list")&&"list"!==t;return!(!i||!t)||!e.endsWith("codeBlock $text")&&void 0}),r.model.schema.addChildCheck((e,t)=>{if(e.endsWith("codeBlock")&&t.isObject)return!1}),r.editing.downcastDispatcher.on("insert:codeBlock",g(s,t,!0)),r.data.downcastDispatcher.on("insert:codeBlock",g(s,t)),r.data.downcastDispatcher.on("insert:softBreak",(l=s,(e,t,i)=>{if("codeBlock"===t.item.parent.name){const{writer:n,mapper:o,consumable:r}=i;r.consume(t.item,"insert")&&(i=o.toViewPosition(l.createPositionBefore(t.item)),n.insert(i,n.createText("\n")))}}),{priority:"high"}),r.data.upcastDispatcher.on("element:code",function(e){const c=n(e,"class","language"),d=e[0].language;return(e,t,i)=>{const n=t.viewItem,o=n.parent;if(o&&o.is("element","pre")&&!t.modelCursor.findAncestor("codeBlock")){const{consumable:r,writer:a}=i;if(r.test(n,{name:!0})){const s=a.createElement("codeBlock"),l=[...n.getClassNames()];l.length||l.push("");for(const e of l){const t=c[e];if(t){a.setAttribute("language",t,s);break}}s.hasAttribute("language")||a.setAttribute("language",d,s),i.convertChildren(n,s),i.safeInsert(s,t.modelCursor)&&(r.consume(n,{name:!0}),i.updateConversionResult(s,t))}}}}(t)),r.data.upcastDispatcher.on("text",(e,t,{consumable:i,writer:n})=>{let o=t.modelCursor;if(i.test(t.viewItem)&&o.findAncestor("codeBlock")){i.consume(t.viewItem);var i=t.viewItem.data.split("\n").map(e=>n.createText(e)),r=i[i.length-1];for(const e of i)if(n.insert(e,o),o=o.getShiftedBy(e.offsetSize),e!==r){const e=n.createElement("softBreak");n.insert(e,o),o=n.createPositionAfter(e)}t.modelRange=n.createRange(t.modelCursor,o),t.modelCursor=o}}),r.data.upcastDispatcher.on("element:pre",(e,t,{consumable:i})=>{const n=t.viewItem;if(!n.findAncestor("pre")){const o=Array.from(n.getChildren()),r=o.find(e=>e.is("element","code"));if(r)for(const e of o)e!==r&&e.is("$text")&&i.consume(e,{name:!0})}},{priority:"high"}),this.listenTo(r.editing.view.document,"clipboardInput",(e,t)=>{let i=s.createRange(s.document.selection.anchor);var n,o;(i=t.targetRanges?r.editing.mapper.toModelRange(t.targetRanges[0]):i).start.parent.is("element","codeBlock")&&(n=t.dataTransfer.getData("text/plain"),o=new c.UpcastWriter(r.editing.view.document),t.content=function(n,e){const t=n.createDocumentFragment(),o=e.split("\n"),i=o.reduce((e,t,i)=>(e.push(t),i<o.length-1&&e.push(n.createElement("br")),e),[]);return n.appendChild(i,t),t}(o,n))}),this.listenTo(s,"getSelectedContent",(i,[n])=>{const o=n.anchor;!n.isCollapsed&&o.parent.is("element","codeBlock")&&o.hasSameParentAs(n.focus)&&s.change(e=>{const t=i.return;if(1<t.childCount||n.containsEntireContent(o.parent)){const a=e.createElement("codeBlock",o.parent.getAttributes()),n=(e.append(t,a),e.createDocumentFragment());e.append(a,n),i.return=n}else{const i=t.getChild(0);a.checkAttribute(i,"code")&&e.setAttribute("code",!0,i)}})})}afterInit(){const a=this.editor,e=a.commands,t=e.get("indent"),i=e.get("outdent");t&&t.registerChildCommand(e.get("indentCodeBlock"),{priority:"highest"}),i&&i.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(a.editing.view.document,"enter",(e,t)=>{if(a.model.document.selection.getLastPosition().parent.is("element","codeBlock")){if(!function(i,e){const n=i.model.document,t=i.editing.view,o=n.selection.getLastPosition(),r=o.nodeAfter;return!e&&n.selection.isCollapsed&&o.isAtStart&&(w(r)&&(i.model.change(e=>{i.execute("enter");var t=n.selection.anchor.parent.previousSibling;e.rename(t,p),e.setSelection(t,"in"),i.model.schema.removeDisallowedAttributes([t],e),e.remove(r)}),t.scrollToTheSelection(),1))}(a,t.isSoft)&&!function(i,e){const t=i.model,n=t.document,o=i.editing.view,r=n.selection.getLastPosition(),a=r.nodeBefore;let s;if(!e&&n.selection.isCollapsed&&r.isAtEnd&&a&&a.previousSibling){if(w(a)&&w(a.previousSibling))s=t.createRange(t.createPositionBefore(a.previousSibling),t.createPositionAfter(a));else if(b(a)&&w(a.previousSibling)&&w(a.previousSibling.previousSibling))s=t.createRange(t.createPositionBefore(a.previousSibling.previousSibling),t.createPositionAfter(a));else{if(!(b(a)&&w(a.previousSibling)&&b(a.previousSibling.previousSibling)&&w(a.previousSibling.previousSibling.previousSibling)))return;s=t.createRange(t.createPositionBefore(a.previousSibling.previousSibling.previousSibling),t.createPositionAfter(a))}return i.model.change(e=>{e.remove(s),i.execute("enter");var t=n.selection.anchor.parent;e.rename(t,p),i.model.schema.removeDisallowedAttributes([t],e)}),o.scrollToTheSelection(),1}}(a,t.isSoft)){var i=a;const n=i.model.document,o=n.selection.getLastPosition(),r=o.nodeBefore||o.textNode;let t;r&&r.is("$text")&&(t=s(r)),i.model.change(e=>{i.execute("shiftEnter"),t&&e.insertText(t,n.selection.anchor)})}t.preventDefault(),e.stop()}},{context:"pre"})}}function b(e){return e&&e.is("$text")&&!e.data.match(/\S/)}function w(e){return e&&e.is("element","softBreak")}var v=C(273),k=C(62),k=C.n(k),y=C(67);k()(y.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),y.Z.locals;class _ extends e.Plugin{static get pluginName(){return"CodeBlockUI"}init(){const o=this.editor,r=o.t,e=o.ui.componentFactory,a=d(o);e.add("codeBlock",e=>{const t=o.commands.get("codeBlock"),i=(0,v.createDropdown)(e,v.SplitButtonView),n=i.buttonView;return n.set({label:r("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),n.bind("isOn").to(t,"value",e=>!!e),n.on("execute",()=>{o.execute("codeBlock",{usePreviousLanguageChoice:!0}),o.editing.view.focus()}),i.on("execute",e=>{o.execute("codeBlock",{language:e.source._codeBlockLanguage,forceValue:!0}),o.editing.view.focus()}),i.class="ck-code-block-dropdown",i.bind("isEnabled").to(t),(0,v.addListToDropdown)(i,this._getLanguageListItemDefinitions(a)),i})}_getLanguageListItemDefinitions(t){const e=this.editor.commands.get("codeBlock"),i=new o.Collection;for(const n of t){const t={type:"button",model:new v.Model({_codeBlockLanguage:n.language,label:n.label,withText:!0})};t.model.bind("isOn").to(e,"value",e=>e===t.model._codeBlockLanguage),i.add(t)}return i}}class x extends e.Plugin{static get requires(){return[f,_]}static get pluginName(){return"CodeBlock"}}})(),(window.CKEditor5=window.CKEditor5||{}).codeBlock=T})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{Find:"Find","Find and replace":"Find and replace","Find in text":"Find in text","Match case":"Match case","Next result":"Next result","Previous result":"Previous result",Replace:"Replace","Replace all":"Replace all","Replace with":"Replace with","Show options":"Show options","Text to find must not be empty.":"Text to find must not be empty.","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Whole words only":"Whole words only"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={299:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-find-result{background:#ff0;color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}",""]);const n=i},226:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}",""]);const n=i},764:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-vertical-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function be(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,be),t.exports}be.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return be.d(t,{a:t}),t},be.d=(e,t)=>{for(var i in t)be.o(t,i)&&!be.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},be.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),be.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},be.nc=void 0;var we={};(()=>{"use strict";be.r(we),be.d(we,{FindAndReplace:()=>fe});var r=be(704),a=be(273),c=be(209),e=be(62),e=be.n(e),t=be(764),t=(e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals,be(226));e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;const i='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';class z extends a.View{constructor(e){super(e);const t=e.t;this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(e,t)=>0<e&&!t),this._findInputView=this._createInputField(t("Find in text")),this._replaceInputView=this._createInputField(t("Replace with")),this._findButtonView=this._createButton({label:t("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._findPrevButtonView=this._createButton({label:t("Previous result"),class:"ck-button-prev",icon:i,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:t("Next result"),class:"ck-button-next",icon:i,keystroke:"F3",tooltip:!0}),this._optionsDropdown=this._createOptionsDropdown(),this._replaceButtonView=this._createButton({label:t("Replace"),class:"ck-button-replace",withText:!0}),this._replaceAllButtonView=this._createButton({label:t("Replace all"),class:"ck-button-replaceall",withText:!0}),this._findFieldsetView=this._createFindFieldset(),this._replaceFieldsetView=this._createReplaceFieldset(),this._focusTracker=new c.FocusTracker,this._keystrokes=new c.KeystrokeHandler,this._focusables=new a.ViewCollection,this._focusCycler=new a.FocusCycler({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new a.FormHeaderView(e,{label:t("Find and replace")}),this._findFieldsetView,this._replaceFieldsetView]}),(0,a.injectCssTransitionDisabler)(this)}render(){super.render(),(0,a.submitHandler)({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createFindFieldset(){const e=this.locale,t=new a.View(e);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:e})=>e),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:e})=>e),this._injectFindResultsCounter(),t.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),t}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const e=this.t;this._findInputView.errorText=e("Text to find must not be empty.")}}_injectFindResultsCounter(){const n=this.locale,i=n.t,e=this.bindTemplate,o=new a.View(n);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(e,t)=>i("%0 of %1",[e,t])),o.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",e.if("isDirty","ck-hidden")]},children:[{text:e.to("_resultsCounterText")}]});var t=()=>{const e=this._findInputView.fieldView.element;var t,i;e&&(0,c.isVisible)(e)&&(t=new c.Rect(o.element).width,i="ltr"===n.uiLanguageDirection?"paddingRight":"paddingLeft",e.style[i]=t?`calc( 2 * var(--ck-spacing-standard) + ${t}px )`:null)};this.on("change:_resultsCounterText",t,{priority:"low"}),this.on("change:isDirty",t,{priority:"low"}),this._findInputView.template.children[0].children.push(o)}_createReplaceFieldset(){const e=this.locale,i=e.t,t=new a.View(e);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:e},t)=>e&&t),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:e},t)=>e&&t),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:e},t)=>e&&t),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(e,t)=>e||!t?"":i("Tip: Find some text first in order to replace it.")),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),t.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),t}_createOptionsDropdown(){const e=this.locale,t=e.t,i=(0,a.createDropdown)(e),n=(i.class="ck-options-dropdown",i.buttonView.set({withText:!1,label:t("Show options"),icon:r.icons.cog,tooltip:!0}),new a.Model({withText:!0,label:t("Match case"),_isMatchCaseSwitch:!0})),o=new a.Model({withText:!0,label:t("Whole words only")});return n.bind("isOn").to(this,"_matchCase"),o.bind("isOn").to(this,"_wholeWordsOnly"),i.on("execute",e=>{e.source._isMatchCaseSwitch?this._matchCase=!this._matchCase:this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),(0,a.addListToDropdown)(i,new c.Collection([{type:"switchbutton",model:n},{type:"switchbutton",model:o}])),i}_initFocusCycling(){[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}_initKeystrokeHandling(){const e=e=>e.stopPropagation(),i=e=>{e.stopPropagation(),e.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",e=>{i(e),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",e=>{i(e),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",e=>{var t=e.target;t===this._findInputView.fieldView.element?((this._areCommandsEnabled.findNext?this._findNextButtonView:this._findButtonView).fire("execute"),i(e)):t!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),i(e))}),this._keystrokes.set("shift+enter",e=>{e.target===this._findInputView.fieldView.element&&((this._areCommandsEnabled.findPrevious?this._findPrevButtonView:this._findButtonView).fire("execute"),i(e))}),this._keystrokes.set("arrowright",e),this._keystrokes.set("arrowleft",e),this._keystrokes.set("arrowup",e),this._keystrokes.set("arrowdown",e),this.listenTo(this._findInputView.element,"selectstart",(e,t)=>{t.stopPropagation()},{priority:"high"}),this.listenTo(this._replaceInputView.element,"selectstart",(e,t)=>{t.stopPropagation()},{priority:"high"})}_createButton(e){const t=new a.ButtonView(this.locale);return t.set(e),t}_createInputField(e){const t=new a.LabeledFieldView(this.locale,a.createLabeledInputText);return t.label=e,t}}class D extends r.Plugin{static get pluginName(){return"FindAndReplaceUI"}constructor(e){super(e),this.formView=null}init(){const i=this.editor;i.ui.componentFactory.add("findAndReplace",e=>{const t=(0,a.createDropdown)(e),n=this.formView=new z(i.locale);return t.bind("isEnabled").to(i.commands.get("find")),t.panelView.children.add(n),t.on("change:isOpen",(e,t,i)=>{i?(n.disableCssTransitions(),n.reset(),n._findInputView.fieldView.select(),n.focus(),n.enableCssTransitions()):(n.focus(),this.fire("searchReseted"))},{priority:"low"}),this._setupDropdownButton(t),this._setupFormView(n),t})}_setupDropdownButton(i){const e=this.editor,t=e.locale.t;i.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>',label:t("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),e.keystrokes.set("Ctrl+F",(e,t)=>{i.isOpen=!0,t()})}_setupFormView(e){const t=this.editor.commands,i=this.editor.plugins.get("FindAndReplaceEditing").state,n={before:-1,same:0,after:1};e.bind("highlightOffset").to(i,"highlightedResult",e=>e?Array.from(i.results).sort((e,t)=>n[e.marker.getStart().compareWith(t.marker.getStart())]).indexOf(e)+1:0),e.listenTo(i.results,"change",()=>{e.matchCount=i.results.length}),e.bind("_areCommandsEnabled").to(t.get("findNext"),"isEnabled",t.get("findPrevious"),"isEnabled",t.get("replace"),"isEnabled",t.get("replaceAll"),"isEnabled",(e,t,i,n)=>({findNext:e,findPrevious:t,replace:i,replaceAll:n})),e.delegate("findNext","findPrevious","replace","replaceAll").to(this),e.on("change:isDirty",(e,t,i)=>{i&&this.fire("searchReseted")})}}var t="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self;const o=t||n||Function("return this")();t=o.Symbol;const R=Array.isArray;var n=Object.prototype,B=n.hasOwnProperty,O=n.toString,s=t?t.toStringTag:void 0;var F=Object.prototype.toString;var l=t?t.toStringTag:void 0;const d=function(e){{if(null==e)return void 0===e?"[object Undefined]":"[object Null]";if(l&&l in Object(e)){var t=e,i=B.call(t,s),n=t[s];try{var o=!(t[s]=void 0)}catch(t){}var r=O.call(t);return o&&(i?t[s]=n:delete t[s]),r}return F.call(e)}},u=function(e){return null!=e&&"object"==typeof e},m=function(e){return"symbol"==typeof e||u(e)&&"[object Symbol]"==d(e)};var n=t?t.prototype:void 0,h=n?n.toString:void 0;function g(e){if("string"==typeof e)return e;if(R(e))return function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}(e,g)+"";if(m(e))return h?h.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}const H=function(e){return null==e?"":g(e)};var p,f,b=/[\\^$.*+?()[\]{}|]/g,U=RegExp(b.source);function w(e,i,n,t){const l=t||new c.Collection;return i.change(s=>{[...e].forEach(({type:e,item:a})=>{if("elementStart"===e&&i.schema.checkChild(a,"$text")){const e=n({item:a,text:(t=i.createRangeIn(a),Array.from(t.getItems()).reduce((e,t)=>t.is("text")||t.is("textProxy")?e+t.data:e+`
`,""))});e&&e.forEach(e=>{var t,i,n="findResult:"+(0,c.uid)(),o=s.addMarker(n,{usingOperation:!1,affectsData:!1,range:s.createRange(s.createPositionAt(a,e.start),s.createPositionAt(a,e.end))}),r=(t=l,i=o,(r=t.find(({marker:e})=>i.getStart().isBefore(e.getStart())))?t.getIndex(r):t.length);l.add({id:n,label:e.label,marker:o},r)})}var t})}),l}function W(e){var t=e.length-1;let i=e.index;return 3===e.length&&(i+=e[1].length),{label:e[t],start:i,end:i+e[t].length}}function v(e,t){let i="gu",n=(t.matchCase||(i+="i"),`(${o=e,(o=H(o))&&U.test(o)?o.replace(b,"\\$&"):o})`);var o;if(t.wholeWords){const t="[^a-zA-Z--]";new RegExp("^"+t).test(e)||(n=`(^|${t}|_)`+n),new RegExp(t+"$").test(e)||(n=`${n}(?=_|${t}|$)`)}const r=new RegExp(n,i);return function({text:e}){return[...e.matchAll(r)].map(W)}}class q extends r.Command{constructor(e,t){super(e),this.isEnabled=!0,this.affectsData=!1,this._state=t}execute(e,{matchCase:t,wholeWords:i}={}){const n=this["editor"],o=n["model"];let r;"string"==typeof e?(r=v(e,{matchCase:t,wholeWords:i}),this._state.searchText=e):r=e;const a=o.document.getRootNames().reduce((e,t)=>w(o.createRangeIn(o.document.getRoot(t)),o,r,e),null);return this._state.clear(o),this._state.results.addMany(Array.from(a)),this._state.highlightedResult=a.get(0),"string"==typeof e&&(this._state.searchText=e),this._state.matchCase=!!t,this._state.matchWholeWords=!!i,{results:a,findCallback:r}}}class k extends r.Command{constructor(e,t){super(e),this.isEnabled=!0,this._state=t}execute(n,o){const r=this.editor["model"];r.change(t=>{const i=o.marker.getRange();if("$graveyard"===i.root.rootName)this._state.results.remove(o);else{let e={};for(const n of i.getItems())if(n.is("$text")||n.is("$textProxy")){e=n.getAttributes();break}r.insertContent(t.createText(n,e),i),this._state.results.has(o)&&this._state.results.remove(o)}})}}class Z extends k{execute(t,i){const e=this["editor"],n=e["model"],o=i instanceof c.Collection?i:n.document.getRootNames().reduce((e,t)=>w(n.createRangeIn(n.document.getRoot(t)),n,v(i,this._state),e),null);o.length&&n.change(()=>{[...o].forEach(e=>{super.execute(t,e)})})}}class y extends r.Command{constructor(e,t){super(e),this.affectsData=!1,this._state=t,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=1<this._state.results.length})}refresh(){this.isEnabled=1<this._state.results.length}execute(){const e=this._state.results,t=e.getIndex(this._state.highlightedResult),i=t+1>=e.length?0:t+1;this._state.highlightedResult=this._state.results.get(i)}}class K extends y{execute(){var e=this._state.results.getIndex(this._state.highlightedResult),e=e-1<0?this._state.results.length-1:e-1;this._state.highlightedResult=this._state.results.get(e)}}class _{constructor(o){this.set("results",new c.Collection),this.set("highlightedResult",null),this.set("searchText",""),this.set("replaceText",""),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(e,{removed:n,index:t})=>{if((n=Array.from(n)).length){let i=!1;if(o.change(e=>{for(const t of n)this.highlightedResult===t&&(i=!0),o.markers.has(t.marker.name)&&e.removeMarker(t.marker)}),i){const o=t>=this.results.length?0:t;this.highlightedResult=this.results.get(o)}}})}clear(i){this.searchText="",i.change(t=>{var e;this.highlightedResult&&(e=this.highlightedResult.marker.name.split(":")[1],(e=i.markers.get("findResultHighlighted:"+e))&&t.removeMarker(e)),[...this.results].forEach(({marker:e})=>{t.removeMarker(e)})}),this.results.clear()}}function x(e){return"[object Range]"==Object.prototype.toString.apply(e)}function C(e){e=Object.prototype.toString.apply(e);return"[object Window]"==e||"[object global]"==e}function T(e){return"[object Text]"==Object.prototype.toString.call(e)}(0,c.mix)(_,c.ObservableMixin);p=Object.getPrototypeOf,f=Object;const Y=function(e){return p(f(e))};var t=Function.prototype,n=Object.prototype,I=t.toString,$=n.hasOwnProperty,Q=I.call(Object);function A(e){return u(e)&&1===e.nodeType&&!function(e){if(!u(e)||"[object Object]"!=d(e))return!1;e=Y(e);if(null===e)return!0;e=$.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&I.call(e)==Q}(e)}const S=["top","right","bottom","left","width","height"];class L{constructor(e){const t=x(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),A(e)||t)if(t){const t=L.getDomRangeRects(e);E(this,L.getBoundingRect(t))}else E(this,e.getBoundingClientRect());else if(C(e)){const{innerWidth:t,innerHeight:i}=e;E(this,{top:0,right:t,bottom:i,left:0,width:t,height:i})}else E(this,e)}clone(){return new L(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new L(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let i=this.clone();if(!M(t)){let e=t.parentNode||t.commonAncestorContainer;for(;e&&!M(e);){const t=new L(e),n=i.getIntersection(t);if(!n)return null;n.getArea()<i.getArea()&&(i=n),e=e.parentNode}}return i}isEqual(e){for(const t of S)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,i,n;var o;return C(e)?(t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,n=e.getComputedStyle(e.document.documentElement).direction):(o=function(e){e=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}(this._source),t=e.offsetWidth-e.clientWidth-o.left-o.right,i=e.offsetHeight-e.clientHeight-o.top-o.bottom,n=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top),this.width-=t,"ltr"===n?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const i=[],e=Array.from(t.getClientRects());if(e.length)for(const t of e)i.push(new L(t));else{let e=t.startContainer;T(e)&&(e=e.parentNode);const n=new L(e.getBoundingClientRect());n.right=n.left,n.width=0,i.push(n)}return i}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let i=0;for(const n of e)i++,t.left=Math.min(t.left,n.left),t.top=Math.min(t.top,n.top),t.right=Math.max(t.right,n.right),t.bottom=Math.max(t.bottom,n.bottom);return 0==i?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new L(t))}}function E(e,t){for(const i of S)e[i]=t[i]}function M(e){return A(e)&&e===e.ownerDocument.body}function N({target:e,viewportOffset:t=0}){var i=V(e);let n=i,o=null;for(;n;){G(ie(n==i?e:o),()=>ne(e,n));var r=ne(e,n);if(function(i,n,o){const r=n.clone().moveBy(0,o),a=n.clone().moveBy(0,-o),s=new L(i).excludeScrollbarsAndBorders();if(![a,r].every(e=>s.contains(e))){let{scrollX:e,scrollY:t}=i;X(a,s)?t-=s.top-n.top+o:J(r,s)&&(t+=n.bottom-s.bottom+o),ee(n,s)?e-=s.left-n.left+o:te(n,s)&&(e+=n.right-s.right+o),i.scrollTo(e,t)}}(n,r,t),n.parent!=n){if(o=n.frameElement,n=n.parent,!o)return}else n=null}}function G(e,t){var i=V(e);let n,o;for(;e!=i.document.body;)o=t(),(n=new L(e).excludeScrollbarsAndBorders()).contains(o)||(X(o,n)?e.scrollTop-=n.top-o.top:J(o,n)&&(e.scrollTop+=o.bottom-n.bottom),ee(o,n)?e.scrollLeft-=n.left-o.left:te(o,n)&&(e.scrollLeft+=o.right-n.right)),e=e.parentNode}function J(e,t){return e.bottom>t.bottom}function X(e,t){return e.top<t.top}function ee(e,t){return e.left<t.left}function te(e,t){return e.right>t.right}function V(e){return(x(e)?e.startContainer:e).ownerDocument.defaultView}function ie(t){if(x(t)){let e=t.commonAncestorContainer;return e=T(e)?e.parentNode:e}return t.parentNode}function ne(e,t){const i=V(e),n=new L(e);if(i===t)return n;{let e=i;for(;e!=t;){const t=e.frameElement,i=new L(t).excludeScrollbarsAndBorders();n.moveBy(i.left,i.top),e=e.parent}}return n}Object.assign({},{scrollViewportToShowTarget:N,scrollAncestorsToShowTarget:function(e){G(ie(e),()=>new L(e))}});function j(){return o.Date.now()}const P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var oe=/\s/;var re=/^\s+/;const ae=function(e){return e&&e.slice(0,function(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}(e)+1).replace(re,"")};var se=/^[-+]0x[0-9a-f]+$/i,le=/^0b[01]+$/i,ce=/^0o[0-7]+$/i,de=parseInt;function ue(e){if("number"==typeof e)return e;if(m(e))return NaN;if(P(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=P(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=ae(e);var t=le.test(e);return t||ce.test(e)?de(e.slice(2),t?2:8):se.test(e)?NaN:+e}var me=Math.max,he=Math.min;function ge(n,i,e){var o,r,a,s,l,c,d=0,u=!1,m=!1,t=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function h(e){var t=o,i=r;return o=r=void 0,d=e,s=n.apply(i,t)}function g(e){var t=e-c;return void 0===c||i<=t||t<0||m&&a<=e-d}function p(){var e,t=j();if(g(t))return f(t);l=setTimeout(p,(e=i-(t-c),m?he(e,a-(t-d)):e))}function f(e){return l=void 0,t&&o?h(e):(o=r=void 0,s)}function b(){var e=j(),t=g(e);if(o=arguments,r=this,c=e,t){if(void 0===l)return d=e=c,l=setTimeout(p,i),u?h(e):s;if(m)return clearTimeout(l),l=setTimeout(p,i),h(c)}return void 0===l&&(l=setTimeout(p,i)),s}return i=ue(i)||0,P(e)&&(u=!!e.leading,a=(m="maxWait"in e)?me(ue(e.maxWait)||0,i):a,t="trailing"in e?!!e.trailing:t),b.cancel=function(){void 0!==l&&clearTimeout(l),o=c=r=l=void(d=0)},b.flush=function(){return void 0===l?s:f(j())},b}t=be(299);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class pe extends r.Plugin{static get pluginName(){return"FindAndReplaceEditing"}init(){this._activeResults=null,this.state=new _(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(e,t,n,o)=>{const r=this.editor["model"];r.change(e=>{if(o){const i=o.marker.name.split(":")[1],n=r.markers.get("findResultHighlighted:"+i);n&&e.removeMarker(n)}var t;n&&(t=n.marker.name.split(":")[1],e.addMarker("findResultHighlighted:"+t,{usingOperation:!1,affectsData:!1,range:n.marker.getRange()}))})});var e=ge(function(e,t,i){if(i){const e=this.editor.editing.view.domConverter,t=this.editor.editing.mapper.toViewRange(i.marker.getRange());N({target:e.viewRangeToDom(t),viewportOffset:40})}}.bind(this),32);this.listenTo(this.state,"change:highlightedResult",e,{priority:"low"}),this.listenTo(this.editor,"destroy",e.cancel)}find(e){const t=this["editor"],a=t["model"],{findCallback:s,results:i}=t.execute("find",e);return this._activeResults=i,this.listenTo(a.document,"change:data",()=>{{var i=this._activeResults,t=a,n=s;const o=new Set,r=new Set;return t.document.differ.getChanges().forEach(e=>{"$text"===e.name||t.schema.isInline(e.position.nodeAfter)?(o.add(e.position.parent),[...t.markers.getMarkersAtPosition(e.position)].forEach(e=>{r.add(e.name)})):"insert"===e.type&&o.add(e.position.nodeAfter)}),t.document.differ.getChangedMarkers().forEach(({name:e,data:{newRange:t}})=>{t&&"$graveyard"===t.start.root.rootName&&r.add(e)}),o.forEach(e=>{[...t.markers.getMarkersIntersectingRange(t.createRangeIn(e))].forEach(e=>r.add(e.name))}),t.change(t=>{r.forEach(e=>{i.has(e)&&i.remove(e),t.removeMarker(e)})}),void o.forEach(e=>{w(t.createRangeOn(e),t,n,i)})}}),this._activeResults}stop(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}_defineCommands(){this.editor.commands.add("find",new q(this.editor,this.state)),this.editor.commands.add("findNext",new y(this.editor,this.state)),this.editor.commands.add("findPrevious",new K(this.editor,this.state)),this.editor.commands.add("replace",new k(this.editor,this.state)),this.editor.commands.add("replaceAll",new Z(this.editor,this.state))}_defineConverters(){const e=this["editor"];e.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:e})=>{var[,e]=e.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":e}}}}),e.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:e})=>{var[,e]=e.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":e}}}})}}class fe extends r.Plugin{static get requires(){return[pe,D]}static get pluginName(){return"FindAndReplace"}init(){const e=this.editor.plugins.get("FindAndReplaceUI"),t=this.editor.plugins.get("FindAndReplaceEditing"),n=t.state;e.on("findNext",(e,t)=>{t?(n.searchText=t.searchText,this.editor.execute("find",t.searchText,t)):this.editor.execute("findNext")}),e.on("findPrevious",(e,t)=>{t&&n.searchText!==t.searchText?this.editor.execute("find",t.searchText):this.editor.execute("findPrevious")}),e.on("replace",(e,t)=>{n.searchText!==t.searchText&&this.editor.execute("find",t.searchText);var i=n.highlightedResult;i&&this.editor.execute("replace",t.replaceText,i)}),e.on("replaceAll",(e,t)=>{n.searchText!==t.searchText&&this.editor.execute("find",t.searchText),this.editor.execute("replaceAll",t.replaceText,n.results)}),e.on("searchReseted",()=>{n.clear(this.editor.model),t.stop()})}}})(),(window.CKEditor5=window.CKEditor5||{}).findAndReplace=we})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{Big:"Big",Default:"Default","Document colors":"Document colors","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size",Huge:"Huge",Small:"Small",Tiny:"Tiny"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={159:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck .ck-button.ck-color-table__remove-color{align-items:center;display:flex;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}",""]);const n=i},222:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function F(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,F),t.exports}F.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return F.d(t,{a:t}),t},F.d=(e,t)=>{for(var i in t)F.o(t,i)&&!F.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},F.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),F.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},F.nc=void 0;var H={};(()=>{"use strict";F.r(H),F.d(H,{Font:()=>O,FontBackgroundColor:()=>P,FontBackgroundColorEditing:()=>V,FontBackgroundColorUI:()=>j,FontColor:()=>N,FontColorEditing:()=>L,FontColorUI:()=>M,FontFamily:()=>k,FontFamilyEditing:()=>w,FontFamilyUI:()=>v,FontSize:()=>S,FontSizeEditing:()=>I,FontSizeUI:()=>A});var t=F(704);class e extends t.Command{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,n=i.document.selection,o=e.value;i.change(e=>{if(n.isCollapsed)o?e.setSelectionAttribute(this.attributeKey,o):e.removeSelectionAttribute(this.attributeKey);else{var t=i.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const i of t)o?e.setAttribute(this.attributeKey,o,i):e.removeAttribute(this.attributeKey,i)}})}}var s=F(273),a=F(209);class l extends a.Collection{constructor(e){super(e),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",0===this.length)})}add(t,e){this.find(e=>e.color===t.color)||super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}(0,a.mix)(l,a.ObservableMixin);var i=F(62),i=F.n(i),n=F(159);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class c extends s.View{constructor(e,{colors:t,columns:i,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r}){super(e),this.items=this.createCollection(),this.colorDefinitions=t,this.focusTracker=new a.FocusTracker,this.keystrokes=new a.KeystrokeHandler,this.set("selectedColor"),this.removeButtonLabel=n,this.columns=i,this.documentColors=new l,this.documentColorsCount=r,this._focusCycler=new s.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this._documentColorsLabel=o,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._removeColorButton())}updateDocumentColors(e,t){const i=e.document,n=this.documentColorsCount;this.documentColors.clear();for(const o of i.getRootNames()){const r=i.getRoot(o),a=e.createRangeIn(r);for(const e of a.getItems())if(e.is("$textProxy")&&e.hasAttribute(t)&&(this._addColorToDocumentColors(e.getAttribute(t)),this.documentColors.length>=n))return}}updateSelectedColors(){const e=this.documentColorsGrid,t=this.staticColorsGrid,i=this.selectedColor;t.selectedColor=i,e&&(e.selectedColor=i)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount)){const e=s.Template.bind(this.documentColors,this.documentColors),t=new s.LabelView(this.locale);t.text=this._documentColorsLabel,t.extendTemplate({attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]}}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const e=new s.ButtonView;return e.set({withText:!0,icon:t.icons.eraser,tooltip:!0,label:this.removeButtonLabel}),e.class="ck-color-table__remove-color",e.on("execute",()=>{this.fire("execute",{value:null})}),e}_createStaticColorsGrid(){const e=new s.ColorGridView(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.delegate("execute").to(this),e}_createDocumentColorsGrid(){const e=s.Template.bind(this.documentColors,this.documentColors),n=new s.ColorGridView(this.locale,{columns:this.columns});return n.delegate("execute").to(this),n.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),n.items.bindTo(this.documentColors).using(e=>{const t=new s.ColorTileView;return t.set({color:e.color,hasBorder:e.options&&e.options.hasBorder}),e.label&&t.set({label:e.label,tooltip:!0}),t.on("execute",()=>{this.fire("execute",{value:e.color})}),t}),this.documentColors.on("change:isEmpty",(e,t,i)=>{i&&(n.selectedColor=null)}),n}_addColorToDocumentColors(t){var e=this.colorDefinitions.find(e=>e.color===t);e?this.documentColors.add(Object.assign({},e)):this.documentColors.add({color:t,label:t,options:{hasBorder:!1}})}}const d="fontSize",u="fontFamily",o="fontColor",r="fontBackgroundColor";function m(e,t){const i={model:{key:e,values:[]},view:{},upcastAlso:{}};for(const e of t)i.model.values.push(e.model),i.view[e.model]=e.view,e.upcastAlso&&(i.upcastAlso[e.model]=e.upcastAlso);return i}function h(t){return e=>e.getStyle(t).replace(/\s/g,"")}function g(i){return(e,{writer:t})=>t.createAttributeElement("span",{style:i+":"+e},{priority:7})}class p extends e{constructor(e){super(e,u)}}function f(e){return e.map(b).filter(e=>!!e)}function b(e){{if("object"==typeof e)return e;if("default"===e)return{title:"Default",model:void 0};if("string"==typeof e){const t=e.replace(/"|'/g,"").split(","),i=t[0],n=t.map(z).join(", ");return{title:i,model:n,view:{name:"span",styles:{"font-family":n},priority:7}}}}}function z(e){return e=0<(e=e.trim()).indexOf(" ")?`'${e}'`:e}class w extends t.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(e){super(e),e.config.define(u,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:u}),e.model.schema.setAttributeProperties(u,{isFormatting:!0,copyOnEnter:!0});var t=f(e.config.get("fontFamily.options")).filter(e=>e.model),t=m(u,t);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(t),e.commands.add(u,new p(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for("downcast").attributeToElement({model:u,view:(e,{writer:t})=>t.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}),e.conversion.for("upcast").elementToAttribute({model:{key:u,value:e=>e.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:u,value:e=>e.getAttribute("face")}})}}class v extends t.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const i=this.editor,n=i.t,o=this._getLocalizedOptions(),r=i.commands.get(u);i.ui.componentFactory.add(u,e=>{const t=(0,s.createDropdown)(e);return(0,s.addListToDropdown)(t,function(e,t){const i=new a.Collection;for(const n of e){const e={type:"button",model:new s.Model({commandName:u,commandParam:n.model,label:n.title,withText:!0})};e.model.bind("isOn").to(t,"value",e=>e===n.model||!(!e||!n.model)&&e.split(",")[0].replace(/'/g,"").toLowerCase()===n.model.toLowerCase()),n.view&&n.view.styles&&e.model.set("labelStyle","font-family: "+n.view.styles["font-family"]),i.add(e)}return i}(o,r)),t.buttonView.set({label:n("Font Family"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),t.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),t.bind("isEnabled").to(r),this.listenTo(t,"execute",e=>{i.execute(e.source.commandName,{value:e.source.commandParam}),i.editing.view.focus()}),t})}_getLocalizedOptions(){const e=this.editor,t=e.t;return f(e.config.get(u).options).map(e=>("Default"===e.title&&(e.title=t("Default")),e))}}class k extends t.Plugin{static get requires(){return[w,v]}static get pluginName(){return"FontFamily"}}var y=F(492);class D extends e{constructor(e){super(e,d)}}function _(e){return e.map(e=>{if("object"==typeof e&&e.title&&e.model&&e.view)return C(e);t=e;var t=x[t]||x[t.model];return t?C(t):"default"===e?{model:void 0,title:"Default"}:function(e){let t;if("object"==typeof e){if(!e.model)throw new a.CKEditorError("font-size-invalid-definition",null,e);t=parseFloat(e.model)}else t=parseFloat(e);return isNaN(t)}(e)?void 0:((t="number"!=typeof(t=e)&&"string"!=typeof t?t:{title:String(t),model:parseFloat(t)+"px"}).view={name:"span",styles:{"font-size":t.model}},C(t))}).filter(e=>!!e)}const x={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function C(e){return e.view.priority||(e.view.priority=7),e}const T=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class I extends t.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(e){super(e),e.config.define(d,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:d}),e.model.schema.setAttributeProperties(d,{isFormatting:!0,copyOnEnter:!0});var t=e.config.get("fontSize.supportAllValues"),i=_(this.editor.config.get("fontSize.options")).filter(e=>e.model),i=m(d,i);t?(this._prepareAnyValueConverters(i),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(i),e.commands.add(d,new D(e))}_prepareAnyValueConverters(e){const t=this.editor,i=e.model.values.filter(e=>!(0,y.isLength)(String(e))&&!(0,y.isPercentage)(String(e)));if(i.length)throw new a.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:i});t.conversion.for("downcast").attributeToElement({model:d,view:(e,{writer:t})=>{if(e)return t.createAttributeElement("span",{style:"font-size:"+e},{priority:7})}}),t.conversion.for("upcast").elementToAttribute({model:{key:d,value:e=>e.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:d,value:e=>{var e=e.getAttribute("size"),t="-"===e[0]||"+"===e[0];let i=parseInt(e,10);t&&(i=3+i);e=T.length-1,t=Math.min(Math.max(i,0),e);return T[t]}}})}}n=F(222);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class A extends t.Plugin{static get pluginName(){return"FontSizeUI"}init(){const i=this.editor,n=i.t,o=this._getLocalizedOptions(),r=i.commands.get(d);i.ui.componentFactory.add(d,e=>{const t=(0,s.createDropdown)(e);return(0,s.addListToDropdown)(t,function(e,t){const i=new a.Collection;for(const n of e){const e={type:"button",model:new s.Model({commandName:d,commandParam:n.model,label:n.title,class:"ck-fontsize-option",withText:!0})};n.view&&n.view.styles&&e.model.set("labelStyle","font-size:"+n.view.styles["font-size"]),n.view&&n.view.classes&&e.model.set("class",e.model.class+" "+n.view.classes),e.model.bind("isOn").to(t,"value",e=>e===n.model),i.add(e)}return i}(o,r)),t.buttonView.set({label:n("Font Size"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),t.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),t.bind("isEnabled").to(r),this.listenTo(t,"execute",e=>{i.execute(e.source.commandName,{value:e.source.commandParam}),i.editing.view.focus()}),t})}_getLocalizedOptions(){const e=this.editor,t=e.t,i={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return _(e.config.get(d).options).map(e=>{var t=i[e.title];return e=t&&t!=e.title?Object.assign({},e,{title:t}):e})}}class S extends t.Plugin{static get requires(){return[I,A]}static get pluginName(){return"FontSize"}normalizeSizeOptions(e){return _(e)}}class R extends e{constructor(e){super(e,o)}}class L extends t.Plugin{static get pluginName(){return"FontColorEditing"}constructor(e){super(e),e.config.define(o,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:o,value:h("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:o,value:e=>e.getAttribute("color")}}),e.conversion.for("downcast").attributeToElement({model:o,view:g("color")}),e.commands.add(o,new R(e)),e.model.schema.extend("$text",{allowAttributes:o}),e.model.schema.setAttributeProperties(o,{isFormatting:!0,copyOnEnter:!0})}}class E extends t.Plugin{constructor(e,{commandName:t,icon:i,componentName:n,dropdownLabel:o}){super(e),this.commandName=t,this.componentName=n,this.icon=i,this.dropdownLabel=o,this.columns=e.config.get(this.componentName+".columns"),this.colorTableView=void 0}init(){const o=this.editor,e=o.locale,t=e.t,i=o.commands.get(this.commandName),n=(0,s.normalizeColorOptions)(o.config.get(this.componentName).colors),r=(0,s.getLocalizedColorOptions)(e,n),a=o.config.get(this.componentName+".documentColors");o.ui.componentFactory.add(this.componentName,e=>{const n=(0,s.createDropdown)(e);return this.colorTableView=function({dropdownView:e,colors:t,columns:i,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r}){const a=e.locale,s=new c(a,{colors:t,columns:i,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r});return e.colorTableView=s,e.panelView.children.add(s),s.delegate("execute").to(e,"execute"),s}({dropdownView:n,colors:r.map(e=>({label:e.label,color:e.model,options:{hasBorder:e.hasBorder}})),columns:this.columns,removeButtonLabel:t("Remove color"),documentColorsLabel:0!==a?t("Document colors"):void 0,documentColorsCount:void 0===a?this.columns:a}),this.colorTableView.bind("selectedColor").to(i,"value"),n.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),n.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),n.bind("isEnabled").to(i),n.on("execute",(e,t)=>{o.execute(this.commandName,t),o.editing.view.focus()}),n.on("change:isOpen",(e,t,i)=>{n.colorTableView.appendGrids(),i&&(0!==a&&this.colorTableView.updateDocumentColors(o.model,this.componentName),this.colorTableView.updateSelectedColors())}),n})}}class M extends E{constructor(e){const t=e.locale.t;super(e,{commandName:o,componentName:o,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:t("Font Color")})}static get pluginName(){return"FontColorUI"}}class N extends t.Plugin{static get requires(){return[L,M]}static get pluginName(){return"FontColor"}}class B extends e{constructor(e){super(e,r)}}class V extends t.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(e){super(e),e.config.define(r,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(y.addBackgroundRules),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:r,value:h("background-color")}}),e.conversion.for("downcast").attributeToElement({model:r,view:g("background-color")}),e.commands.add(r,new B(e)),e.model.schema.extend("$text",{allowAttributes:r}),e.model.schema.setAttributeProperties(r,{isFormatting:!0,copyOnEnter:!0})}}class j extends E{constructor(e){const t=e.locale.t;super(e,{commandName:r,componentName:r,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:t("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class P extends t.Plugin{static get requires(){return[V,j]}static get pluginName(){return"FontBackgroundColor"}}class O extends t.Plugin{static get requires(){return[k,S,N,P]}static get pluginName(){return"Font"}}})(),(window.CKEditor5=window.CKEditor5||{}).font=H})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Choose heading":"Choose heading",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Paragraph:"Paragraph","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={609:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(298),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const n=i},298:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},747:(e,t,i)=>{e.exports=i(79)("./src/paragraph.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function _(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,_),t.exports}_.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return _.d(t,{a:t}),t},_.d=(e,t)=>{for(var i in t)_.o(t,i)&&!_.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},_.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),_.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.nc=void 0;var x={};(()=>{"use strict";_.r(x),_.d(x,{Heading:()=>d,HeadingButtonsUI:()=>g,HeadingEditing:()=>i,HeadingUI:()=>c,Title:()=>b});var e=_(704),t=_(747),u=_(209);class o extends e.Command{constructor(e,t){super(e),this.modelElements=t}refresh(){const t=(0,u.first)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>r(t,e,this.editor.model.schema))}execute(e){const i=this.editor.model,n=i.document,o=e.value;i.change(e=>{var t=Array.from(n.selection.getSelectedBlocks()).filter(e=>r(e,o,i.schema));for(const i of t)i.is("element",o)||e.rename(i,o)})}}function r(e,t,i){return i.checkChild(e.parent,t)&&!i.isObject(e)}const a="paragraph";class i extends e.Plugin{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[t.Paragraph]}init(){const e=this.editor,t=e.config.get("heading.options"),i=[];for(const n of t)n.model!==a&&(e.model.schema.register(n.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(n),i.push(n.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new o(e,i))}afterInit(){const n=this.editor,e=n.commands.get("enter"),o=n.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,t)=>{const i=n.model.document.selection.getFirstPosition().parent;o.some(e=>i.is("element",e.model))&&!i.is("element",a)&&0===i.childCount&&t.writer.rename(i,a)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:u.priorities.get("low")+1})}}var m=_(273);function n(e){const t=e.t,i={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map(e=>{var t=i[e.title];return t&&t!=e.title&&(e.title=t),e})}var s=_(62),s=_.n(s),l=_(609);s()(l.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),l.Z.locals;class c extends e.Plugin{static get pluginName(){return"HeadingUI"}init(){const s=this.editor,e=s.t,l=n(s),c=e("Choose heading"),d=e("Heading");s.ui.componentFactory.add("heading",e=>{const i={},t=new u.Collection,n=s.commands.get("heading"),o=s.commands.get("paragraph"),r=[n];for(const s of l){const e={type:"button",model:new m.Model({label:s.title,class:s.class,withText:!0})};"paragraph"===s.model?(e.model.bind("isOn").to(o,"value"),e.model.set("commandName","paragraph"),r.push(o)):(e.model.bind("isOn").to(n,"value",e=>e===s.model),e.model.set({commandName:"heading",commandValue:s.model})),t.add(e),i[s.model]=s.title}const a=(0,m.createDropdown)(e);return(0,m.addListToDropdown)(a,t),a.buttonView.set({isOn:!1,withText:!0,tooltip:d}),a.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),a.bind("isEnabled").toMany(r,"isEnabled",(...e)=>e.some(e=>e)),a.buttonView.bind("label").to(n,"value",o,"value",(e,t)=>{e=e||t&&"paragraph";return i[e]||c}),this.listenTo(a,"execute",e=>{s.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),s.editing.view.focus()}),a})}}class d extends e.Plugin{static get requires(){return[i,c]}static get pluginName(){return"Heading"}}const h={heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'};class g extends e.Plugin{init(){n(this.editor).filter(e=>"paragraph"!==e.model).map(e=>this._createButton(e))}_createButton(n){const o=this.editor;o.ui.componentFactory.add(n.model,e=>{const t=new m.ButtonView(e),i=o.commands.get("heading");return t.label=n.title,t.icon=n.icon||h[n.model],t.tooltip=!0,t.isToggleable=!0,t.bind("isEnabled").to(i),t.bind("isOn").to(i,"value",e=>e==n.model),t.on("execute",()=>{o.execute("heading",{value:n.model}),o.editing.view.focus()}),t})}}var p=_(492);const f=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class b extends e.Plugin{static get pluginName(){return"Title"}static get requires(){return["Paragraph"]}init(){const e=this.editor,t=e.model;this._bodyPlaceholder=null,t.schema.register("title",{isBlock:!0,allowIn:"$root"}),t.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),t.schema.extend("$text",{allowIn:"title-content"}),t.schema.addAttributeCheck(e=>{if(e.endsWith("title-content $text"))return!1}),e.editing.mapper.on("modelToViewPosition",v(e.editing.view)),e.data.mapper.on("modelToViewPosition",v(e.editing.view)),e.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),e.conversion.for("downcast").add(e=>e.on("insert:title",(e,t,i)=>{i.consumable.consume(t.item,e.name)})),e.data.upcastDispatcher.on("element:h1",w,{priority:"high"}),e.data.upcastDispatcher.on("element:h2",w,{priority:"high"}),e.data.upcastDispatcher.on("element:h3",w,{priority:"high"}),t.document.registerPostFixer(e=>this._fixTitleContent(e)),t.document.registerPostFixer(e=>this._fixTitleElement(e)),t.document.registerPostFixer(e=>this._fixBodyElement(e)),t.document.registerPostFixer(e=>this._fixExtraParagraph(e)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(e={}){var t=this._getTitleElement().getChild(0);return this.editor.data.stringify(t,e)}getBody(e={}){const t=this.editor,i=t.data,n=t.model,o=t.model.document.getRoot(),r=t.editing.view,a=new p.DowncastWriter(r.document),s=n.createRangeIn(o),l=a.createDocumentFragment(),c=n.createPositionAfter(o.getChild(0)),d=n.createRange(c,n.createPositionAt(o,"end")),u=new Map;for(const e of n.markers){const t=d.getIntersection(e.getRange());t&&u.set(e.name,t)}return i.mapper.clearBindings(),i.mapper.bindElements(o,l),i.downcastDispatcher.convert(s,u,a,e),a.remove(a.createRangeOn(l.getChild(0))),t.data.processor.toData(l)}_getTitleElement(){const e=this.editor.model.document.getRoot();for(const t of e.getChildren())if(k(t))return t}_fixTitleContent(e){const t=this._getTitleElement();if(!t||1===t.maxOffset)return!1;const i=Array.from(t.getChildren());i.shift();for(const n of i)e.move(e.createRangeOn(n),t,"after"),e.rename(n,"paragraph");return!0}_fixTitleElement(e){const t=this.editor.model,i=t.document.getRoot(),n=Array.from(i.getChildren()).filter(k),o=n[0],r=i.getChild(0);if(r.is("element","title"))return y(n,e,t);if(o||f.has(r.name))return f.has(r.name)?(a=r,s=e,l=t,c=s.createElement("title"),s.insert(c,a,"before"),s.insert(a,c,0),s.rename(a,"title-content"),l.schema.removeDisallowedAttributes([a],s)):e.move(e.createRangeOn(o),i,0),y(n,e,t),!0;{const t=e.createElement("title");return e.insert(t,i),e.insertElement("title-content",t),!0}var a,s,l,c}_fixBodyElement(e){var t=this.editor.model.document.getRoot();return t.childCount<2&&(this._bodyPlaceholder=e.createElement("paragraph"),e.insert(this._bodyPlaceholder,t,1),!0)}_fixExtraParagraph(e){var t,i=this.editor.model.document.getRoot(),n=this._bodyPlaceholder;return i=i,!(!(t=n)||!t.is("element","paragraph")||t.childCount||(i.childCount<=2||i.getChild(i.childCount-1)!==t)||(this._bodyPlaceholder=null,e.remove(n),0))}_attachPlaceholders(){const e=this.editor,t=e.t,n=e.editing.view,o=n.document.getRoot(),i=e.sourceElement,r=e.config.get("title.placeholder")||t("Type your title"),a=e.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder")||t("Type or paste your content here.");let s;e.editing.downcastDispatcher.on("insert:title-content",(e,t,i)=>{(0,p.enablePlaceholder)({view:n,element:i.mapper.toViewElement(t.item),text:r,keepOnFocus:!0})}),n.document.registerPostFixer(e=>{var t=o.getChild(1);let i=!1;return t!==s&&(s&&((0,p.hidePlaceholder)(e,s),e.removeAttribute("data-placeholder",s)),e.setAttribute("data-placeholder",a,t),s=t,i=!0),i=(0,p.needsPlaceholder)(t,!0)&&2===o.childCount&&"p"===t.name?!!(0,p.showPlaceholder)(e,t)||i:!!(0,p.hidePlaceholder)(e,t)||i})}_attachTabPressHandling(){const s=this.editor,l=s.model;s.keystrokes.set("TAB",(e,n)=>{l.change(e=>{const t=l.document.selection,i=Array.from(t.getSelectedBlocks());if(1===i.length&&i[0].is("element","title-content")){const t=l.document.getRoot().getChild(1);e.setSelection(t,0),n()}})}),s.keystrokes.set("SHIFT + TAB",(e,a)=>{l.change(e=>{const t=l.document.selection;if(t.isCollapsed){const i=s.model.document.getRoot(),n=(0,u.first)(t.getSelectedBlocks()),o=t.getFirstPosition(),r=i.getChild(0);n===i.getChild(1)&&o.isAtStart&&(e.setSelection(r.getChild(0),0),a())}})})}}function w(e,t,i){const n=t.modelCursor,o=t.viewItem;if(n.isAtStart&&n.parent.is("element","$root")&&i.consumable.consume(o,{name:!0})){const r=i.writer,a=r.createElement("title"),s=r.createElement("title-content");r.append(s,a),r.insert(a,n),i.convertChildren(o,s),i.updateConversionResult(a,t)}}function v(o){return(e,t)=>{const i=t.modelPosition.parent;var n;i.is("element","title")&&(n=i.parent,n=t.mapper.toViewElement(n),t.viewPosition=o.createPositionAt(n,0),e.stop())}}function k(e){return e.is("element","title")}function y(e,t,i){let n=!1;for(const l of e)0!==l.index&&(o=l,r=t,a=i,s=void 0,s=o.getChild(0),s.isEmpty?r.remove(o):(r.move(r.createRangeOn(s),o,"before"),r.rename(s,"paragraph"),r.remove(o),a.schema.removeDisallowedAttributes([s],r)),n=!0);var o,r,a,s;return n}})(),(window.CKEditor5=window.CKEditor5||{}).heading=x})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Blue marker":"Blue marker","Green marker":"Green marker","Green pen":"Green pen",Highlight:"Highlight","Pink marker":"Pink marker","Red pen":"Red pen","Remove highlight":"Remove highlight","Text highlight toolbar":"Text highlight toolbar","Yellow marker":"Yellow marker"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={458:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,s),t.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nc=void 0;var l={};(()=>{"use strict";s.r(l),s.d(l,{Highlight:()=>a,HighlightEditing:()=>e,HighlightUI:()=>r});var i=s(704);class t extends i.Command{refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("highlight"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"highlight")}execute(e={}){const r=this.editor.model,a=r.document.selection,s=e.value;r.change(e=>{if(a.isCollapsed){const r=a.getFirstPosition();if(a.hasAttribute("highlight")){const a=e=>e.item.hasAttribute("highlight")&&e.item.getAttribute("highlight")===this.value,i=r.getLastMatchingPosition(a,{direction:"backward"}),n=r.getLastMatchingPosition(a),o=e.createRange(i,n);s&&this.value!==s?(r.isEqual(n)||e.setAttribute("highlight",s,o),e.setSelectionAttribute("highlight",s)):(r.isEqual(n)||e.removeAttribute("highlight",o),e.removeSelectionAttribute("highlight"))}else s&&e.setSelectionAttribute("highlight",s)}else{var t=r.schema.getValidRanges(a.getRanges(),"highlight");for(const r of t)s?e.setAttribute("highlight",s,r):e.removeAttribute("highlight",r)}})}}class e extends i.Plugin{static get pluginName(){return"HighlightEditing"}constructor(e){super(e),e.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"highlight"});var i=e.config.get("highlight.options");e.conversion.attributeToElement(function(){const e={model:{key:"highlight",values:[]},view:{}};for(const t of i)e.model.values.push(t.model),e.view[t.model]={name:"mark",classes:t.class};return e}()),e.commands.add("highlight",new t(e))}}var m=s(273),n=s(62),n=s.n(n),o=s(458);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class r extends i.Plugin{get localizedOptionTitles(){const e=this.editor.t;return{"Yellow marker":e("Yellow marker"),"Green marker":e("Green marker"),"Pink marker":e("Pink marker"),"Blue marker":e("Blue marker"),"Red pen":e("Red pen"),"Green pen":e("Green pen")}}static get pluginName(){return"HighlightUI"}init(){var e=this.editor.config.get("highlight.options");for(const t of e)this._addHighlighterButton(t);this._addRemoveHighlightButton(),this._addDropdown(e)}_addRemoveHighlightButton(){const e=this.editor.t,t=this.editor.commands.get("highlight");this._addButton("removeHighlight",e("Remove highlight"),i.icons.eraser,null,e=>{e.bind("isEnabled").to(t,"isEnabled")})}_addHighlighterButton(t){const i=this.editor.commands.get("highlight");this._addButton("highlight:"+t.model,t.title,h(t.type),t.model,function(e){e.bind("isEnabled").to(i,"isEnabled"),e.bind("isOn").to(i,"value",e=>e===t.model),e.iconView.fillColor=t.color,e.isToggleable=!0})}_addButton(e,n,o,r,a){const s=this.editor;s.ui.componentFactory.add(e,e=>{const t=new m.ButtonView(e),i=this.localizedOptionTitles[n]||n;return t.set({label:i,icon:o,tooltip:!0}),t.on("execute",()=>{s.execute("highlight",{value:r}),s.editing.view.focus()}),a(t),t})}_addDropdown(a){const s=this.editor,l=s.t,c=s.ui.componentFactory,d=a[0],u=a.reduce((e,t)=>(e[t.model]=t,e),{});c.add("highlight",e=>{const t=s.commands.get("highlight"),i=(0,m.createDropdown)(e,m.SplitButtonView),n=i.buttonView,o=(n.set({tooltip:l("Highlight"),lastExecuted:d.model,commandValue:d.model,isToggleable:!0}),n.bind("icon").to(t,"value",e=>h(r(e,"type"))),n.bind("color").to(t,"value",e=>r(e,"color")),n.bind("commandValue").to(t,"value",e=>r(e,"model")),n.bind("isOn").to(t,"value",e=>!!e),n.delegate("execute").to(i),a.map(e=>{var t=c.create("highlight:"+e.model);return this.listenTo(t,"execute",()=>i.buttonView.set({lastExecuted:e.model})),t}));function r(e,t){e=e&&e!==n.lastExecuted?e:n.lastExecuted;return u[e][t]}return i.bind("isEnabled").toMany(o,"isEnabled",(...e)=>e.some(e=>e)),o.push(new m.ToolbarSeparatorView),o.push(c.create("removeHighlight")),(0,m.addToolbarToDropdown)(i,o),(e=i).buttonView.actionView.iconView.bind("fillColor").to(e.buttonView,"color"),i.toolbarView.ariaLabel=l("Text highlight toolbar"),n.on("execute",()=>{s.execute("highlight",{value:n.commandValue}),s.editing.view.focus()}),i})}}function h(e){return"marker"===e?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}class a extends i.Plugin{static get requires(){return[e,r]}static get pluginName(){return"Highlight"}}})(),(window.CKEditor5=window.CKEditor5||{}).highlight=l})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Horizontal line":"Horizontal line"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={73:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},995:(e,t,i)=>{e.exports=i(79)("./src/widget.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,c),t.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var i in t)c.o(t,i)&&!c.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nc=void 0;var d={};(()=>{"use strict";c.r(d),c.d(d,{HorizontalLine:()=>l,HorizontalLineEditing:()=>o,HorizontalLineUI:()=>s});var e=c(704),r=c(995);class n extends e.Command{refresh(){var t,i,e=this.editor.model,n=e.schema,o=e.document.selection;this.isEnabled=(t=o,o=n,i=e,n=function(){const e=(0,r.findOptimalInsertionRange)(t,i).start.parent;return e.isEmpty&&!e.is("element","$root")?e.parent:e}(),o.checkChild(n,"horizontalLine"))}execute(){const t=this.editor.model;t.change(e=>{e=e.createElement("horizontalLine");t.insertObject(e,null,null,{setSelection:"after"})})}}var t=c(62),t=c.n(t),i=c(73);t()(i.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),i.Z.locals;class o extends e.Plugin{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,o=e.t,i=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),i.for("dataDowncast").elementToElement({model:"horizontalLine",view:(e,{writer:t})=>t.createEmptyElement("hr")}),i.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(e,{writer:t})=>{var i=o("Horizontal line"),n=t.createContainerElement("div",null,t.createEmptyElement("hr"));return t.addClass("ck-horizontal-line",n),t.setCustomProperty("hr",!0,n),n=n,i=i,(t=t).setCustomProperty("horizontalLine",!0,n),(0,r.toWidget)(n,t,{label:i})}}),i.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new n(e))}}var a=c(273);class s extends e.Plugin{static get pluginName(){return"HorizontalLineUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add("horizontalLine",e=>{const t=n.commands.get("horizontalLine"),i=new a.ButtonView(e);return i.set({label:o("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(t,"isEnabled"),this.listenTo(i,"execute",()=>{n.execute("horizontalLine"),n.editing.view.focus()}),i})}}class l extends e.Plugin{static get requires(){return[o,s,r.Widget]}static get pluginName(){return"HorizontalLine"}}})(),(window.CKEditor5=window.CKEditor5||{}).horizontalLine=d})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Edit source":"Edit source","Empty snippet content":"Empty snippet content","HTML snippet":"HTML snippet","Insert HTML":"Insert HTML","No preview available":"No preview available","Paste raw HTML here...":"Paste raw HTML here...","Save changes":"Save changes"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={600:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},995:(e,t,i)=>{e.exports=i(79)("./src/widget.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,c),t.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var i in t)c.o(t,i)&&!c.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nc=void 0;var d={};(()=>{"use strict";c.r(d),c.d(d,{HtmlEmbed:()=>r,HtmlEmbedEditing:()=>n,HtmlEmbedUI:()=>o});var a=c(704),g=c(995),s=c(273),p=c(209);class t extends a.Command{refresh(){const e=this.editor.model,t=e.schema,i=e.document.selection,n=l(i);var o,r,a,s;this.isEnabled=(o=i,r=t,a=e,s=function(){const e=(0,g.findOptimalInsertionRange)(o,a).start.parent;return e.isEmpty&&!e.is("element","$root")?e.parent:e}(),r.checkChild(s,"rawHtml")),this.value=n?n.getAttribute("value")||"":null}execute(i){const n=this.editor.model,o=n.document.selection;n.change(e=>{let t;null!==this.value?t=l(o):(t=e.createElement("rawHtml"),n.insertObject(t,null,null,{setSelection:"on"})),e.setAttribute("value",i,t)})}}function l(e){const t=e.getSelectedElement();return t&&t.is("element","rawHtml")?t:null}var e=c(62),e=c.n(e),i=c(600);e()(i.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),i.Z.locals;class n extends a.Plugin{static get pluginName(){return"HtmlEmbedEditing"}constructor(e){super(e),e.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:e=>((0,p.logWarning)("html-embed-provide-sanitize-function"),{html:e,hasChanged:!1})}),this._widgetButtonViewReferences=new Set}init(){const e=this.editor;e.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),e.commands.add("htmlEmbed",new t(e)),this._setupConversion()}_setupConversion(){const l=this.editor,c=l.t,d=l.editing.view,s=this._widgetButtonViewReferences,u=l.config.get("htmlEmbed");function m({domElement:e,editor:t,state:i,props:n}){e.textContent="";var o=e.ownerDocument;let r;if(i.isEditable){const t={isDisabled:!1,placeholder:n.textareaPlaceholder};r=h({domDocument:o,state:i,props:t}),e.append(r)}else if(i.showPreviews){const s={sanitizeHtml:n.sanitizeHtml};e.append(function({domDocument:e,state:t,props:i,editor:n}){const o=i.sanitizeHtml(t.getRawHtmlValue()),r=0<t.getRawHtmlValue().length?c("No preview available"):c("Empty snippet content"),a=(0,p.createElement)(e,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},r),s=(0,p.createElement)(e,"div",{class:"raw-html-embed__preview-content",dir:n.locale.contentLanguageDirection}),l=e.createRange().createContextualFragment(o.html);return s.appendChild(l),(0,p.createElement)(e,"div",{class:"raw-html-embed__preview"},[a,s])}({domDocument:o,state:i,props:s,editor:t}))}else{const t={isDisabled:!0,placeholder:n.textareaPlaceholder};e.append(h({domDocument:o,state:i,props:t}))}var a={onEditClick:n.onEditClick,onSaveClick:()=>{n.onSaveClick(r.value)},onCancelClick:n.onCancelClick};e.prepend(function({editor:e,domDocument:t,state:i,props:n}){const o=(0,p.createElement)(t,"div",{class:"raw-html-embed__buttons-wrapper"});if(i.isEditable){const t=f(e,"save",n.onSaveClick),i=f(e,"cancel",n.onCancelClick);o.append(t.element,i.element),s.add(t).add(i)}else{const t=f(e,"edit",n.onEditClick);o.append(t.element),s.add(t)}return o}({editor:t,domDocument:o,state:i,props:a}))}function h({domDocument:e,state:t,props:i}){const n=(0,p.createElement)(e,"textarea",{placeholder:i.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return n.disabled=i.isDisabled,n.value=t.getRawHtmlValue(),n}this.editor.editing.view.on("render",()=>{for(const e of s){if(e.element.isConnected)return;e.destroy(),s.delete(e)}},{priority:"lowest"}),l.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),l.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(e,{writer:t})=>t.createElement("rawHtml",{value:e.getCustomProperty("$rawContent")})}),l.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(t,{writer:e})=>e.createRawElement("div",{class:"raw-html-embed"},function(e){e.innerHTML=t.getAttribute("value")||""})}),l.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(t,{writer:e})=>{let i,n,o;const r=e.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(e){m({domElement:i=e,editor:l,state:n,props:o}),i.addEventListener("mousedown",()=>{if(n.isEditable){const e=l.model;e.document.selection.getSelectedElement()!==t&&e.change(e=>e.setSelection(t,"on"))}},!0)}),a={makeEditable(){n=Object.assign({},n,{isEditable:!0}),m({domElement:i,editor:l,state:n,props:o}),d.change(e=>{e.setAttribute("data-cke-ignore-events","true",r)}),i.querySelector("textarea").focus()},save(e){e!==n.getRawHtmlValue()?(l.execute("htmlEmbed",e),l.editing.view.focus()):this.cancel()},cancel(){n=Object.assign({},n,{isEditable:!1}),m({domElement:i,editor:l,state:n,props:o}),l.editing.view.focus(),d.change(e=>{e.removeAttribute("data-cke-ignore-events",r)})}};n={showPreviews:u.showPreviews,isEditable:!1,getRawHtmlValue:()=>t.getAttribute("value")||""},o={sanitizeHtml:u.sanitizeHtml,textareaPlaceholder:c("Paste raw HTML here..."),onEditClick(){a.makeEditable()},onSaveClick(e){a.save(e)},onCancelClick(){a.cancel()}};var s=e.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":c("HTML snippet"),dir:l.locale.uiLanguageDirection},r);return e.setCustomProperty("rawHtmlApi",a,s),e.setCustomProperty("rawHtml",!0,s),(0,g.toWidget)(s,e,{widgetLabel:c("HTML snippet"),hasSelectionHandle:!0})}})}}function f(e,t,i){const n=e.locale.t,o=new s.ButtonView(e.locale),r=e.commands.get("htmlEmbed");return o.set({class:`raw-html-embed__${t}-button`,icon:a.icons.pencil,tooltip:!0,tooltipPosition:"rtl"===e.locale.uiLanguageDirection?"e":"w"}),o.render(),"edit"===t?(o.set({icon:a.icons.pencil,label:n("Edit source")}),o.bind("isEnabled").to(r)):"save"===t?(o.set({icon:a.icons.check,label:n("Save changes")}),o.bind("isEnabled").to(r)):o.set({icon:a.icons.cancel,label:n("Cancel")}),o.on("execute",i),o}class o extends a.Plugin{static get pluginName(){return"HtmlEmbedUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add("htmlEmbed",e=>{const t=n.commands.get("htmlEmbed"),i=new s.ButtonView(e);return i.set({label:o("Insert HTML"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(t,"isEnabled"),this.listenTo(i,"execute",()=>{n.execute("htmlEmbed"),n.editing.view.focus(),n.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),i})}}class r extends a.Plugin{static get requires(){return[n,o,g.Widget]}static get pluginName(){return"HtmlEmbed"}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlEmbed=d})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Break text":"Break text","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Enter image caption":"Enter image caption","Full size image":"Full size image","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Left aligned image":"Left aligned image",Original:"Original","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Right aligned image":"Right aligned image","Side image":"Side image","Text alternative":"Text alternative",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Wrap text":"Wrap text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={540:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const n=i},560:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const n=i},91:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}",""]);const n=i},439:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const n=i},601:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const n=i},29:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const n=i},948:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const n=i},467:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const n=i},271:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const n=i},168:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const n=i},764:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-vertical-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},945:(e,t,i)=>{e.exports=i(79)("./src/clipboard.js")},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},254:(e,t,i)=>{e.exports=i(79)("./src/undo.js")},448:(e,t,i)=>{e.exports=i(79)("./src/upload.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},995:(e,t,i)=>{e.exports=i(79)("./src/widget.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function ze(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,ze),t.exports}ze.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return ze.d(t,{a:t}),t},ze.d=(e,t)=>{for(var i in t)ze.o(t,i)&&!ze.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},ze.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ze.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},ze.nc=void 0;var De={};(()=>{"use strict";ze.r(De),ze.d(De,{AutoImage:()=>B,Image:()=>Z,ImageCaption:()=>$,ImageCaptionEditing:()=>C,ImageCaptionUtils:()=>x,ImageEditing:()=>k,ImageInsert:()=>ue,ImageInsertUI:()=>de,ImageResize:()=>be,ImageResizeButtons:()=>he,ImageResizeEditing:()=>A,ImageResizeHandles:()=>fe,ImageStyle:()=>Ve,ImageStyleEditing:()=>j,ImageStyleUI:()=>Le,ImageTextAlternative:()=>f,ImageTextAlternativeEditing:()=>i,ImageTextAlternativeUI:()=>p,ImageToolbar:()=>je,ImageUpload:()=>se,ImageUploadEditing:()=>ae,ImageUploadProgress:()=>X,ImageUploadUI:()=>J,PictureEditing:()=>Pe});var s=ze(704),e=ze(945),l=ze(492),z=ze(254),D=ze(181),c=ze(209),d=ze(995);function r(e){return e.createContainerElement("figure",{class:"image"},[e.createEmptyElement("img"),e.createSlot()])}function u(e,t){const i=e.plugins.get("ImageUtils"),n=e.plugins.has("ImageInlineEditing")&&e.plugins.has("ImageBlockEditing");return e=>!i.isInlineImageView(e)||n&&(e.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==t?null:o(e);function o(e){const t={name:!0};return e.hasAttribute("src")&&(t.attributes=["src"]),t}}function m(e,t){t=(0,c.first)(t.getSelectedBlocks());return!t||e.isObject(t)||t.isEmpty&&"listItem"!=t.name?"imageBlock":"imageInline"}class t extends s.Plugin{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(t={},i=null,n=null){const e=this.editor,o=e.model,r=o.document.selection;n=a(e,i||r,n);for(const i in t={...Object.fromEntries(r.getAttributes()),...t})o.schema.checkAttribute(n,i)||delete t[i];return o.change(e=>{e=e.createElement(n,t);return o.insertObject(e,i,null,{setSelection:"on",findOptimalPosition:!i&&"imageInline"!=n}),e.parent?e:null})}getClosestSelectedImageWidget(e){var t=e.getSelectedElement();if(t&&this.isImageWidget(t))return t;let i=e.getFirstPosition().parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(e){var t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){var e=this.editor.model.document.selection;return function(e,i){if("imageBlock"==a(e,i)){var t=function(e){const t=(0,d.findOptimalInsertionRange)(i,e).start.parent;return t.isEmpty&&!t.is("element","$root")?t.parent:t}(e.model);if(e.model.schema.checkChild(t,"imageBlock"))return!0}else if(e.model.schema.checkChild(i.focus,"imageInline"))return!0;return!1}(this.editor,e)&&[...e.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}toImageWidget(t,e,i){return e.setCustomProperty("image",!0,t),(0,d.toWidget)(t,e,{label:()=>{var e=this.findViewImgElement(t).getAttribute("alt");return e?e+" "+i:i}})}isImageWidget(e){return!!e.getCustomProperty("image")&&(0,d.isWidget)(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(var{item:i}of t.createRangeIn(e))if(this.isInlineImageView(i))return i}}function a(e,t,i){const n=e.model.schema,o=e.config.get("image.insert.type");return e.plugins.has("ImageBlockEditing")?e.plugins.has("ImageInlineEditing")?i||("inline"===o?"imageInline":"block"===o?"imageBlock":t.is("selection")?m(n,t):n.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const R=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class B extends s.Plugin{static get requires(){return[e.Clipboard,t,z.Undo,D.Delete]}static get pluginName(){return"AutoImage"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,n=e.model.document;this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const e=n.selection.getFirstRange(),t=l.LivePosition.fromPosition(e.start),i=(t.stickiness="toPrevious",l.LivePosition.fromPosition(e.end));i.stickiness="toNext",n.once("change:data",()=>{this._embedImageBetweenPositions(t,i),t.detach(),i.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(c.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const i=this.editor,n=new l.LiveRange(e,t),o=n.getWalker({ignoreElementEnd:!0}),r=Object.fromEntries(i.model.document.selection.getAttributes()),a=this.editor.plugins.get("ImageUtils");let s="";for(const e of o)e.item.is("$textProxy")&&(s+=e.item.data);(s=s.trim()).match(R)?(this._positionToInsert=l.LivePosition.fromPosition(e),this._timeoutId=c.global.window.setTimeout(()=>{i.commands.get("insertImage").isEnabled?(i.model.change(e=>{let t;this._timeoutId=null,e.remove(n),n.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(t=this._positionToInsert.toPosition()),a.insertImage({...r,src:s},t),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get("Delete").requestUndoOnBackspace()):n.detach()},100)):n.detach()}}class O extends s.Command{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,i=e.plugins.get("ImageUtils"),n=e.model,o=i.getClosestSelectedImageElement(n.document.selection);n.change(e=>{e.setAttribute("alt",t.newValue,o)})}}class i extends s.Plugin{static get requires(){return[t]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new O(this.editor))}}var h=ze(273),n=ze(62),n=ze.n(n),o=ze(168),o=(n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals,ze(764));n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class F extends h.View{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new c.FocusTracker,this.keystrokes=new c.KeystrokeHandler,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),s.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),s.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new h.ViewCollection,this._focusCycler=new h.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),(0,h.injectCssTransitionDisabler)(this)}render(){super.render(),this.keystrokes.listenTo(this.element),(0,h.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,i,n){const o=new h.ButtonView(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:i}}),n&&o.delegate("execute").to(this,n),o}_createLabeledInputView(){const e=this.locale.t,t=new h.LabeledFieldView(this.locale,h.createLabeledInputText);return t.label=e("Text alternative"),t}}function g(e){const t=e.editing.view,i=h.BalloonPanelView.defaultPositions,n=e.plugins.get("ImageUtils");return{target:t.domConverter.viewToDom(n.getClosestSelectedImageWidget(t.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class p extends s.Plugin{static get requires(){return[h.ContextualBalloon]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const n=this.editor,o=n.t;n.ui.componentFactory.add("imageTextAlternative",e=>{const t=n.commands.get("imageTextAlternative"),i=new h.ButtonView(e);return i.set({label:o("Change image text alternative"),icon:s.icons.lowVision,tooltip:!0}),i.bind("isEnabled").to(t,"isEnabled"),this.listenTo(i,"execute",()=>{this._showForm()}),i})}_createForm(){const i=this.editor,n=i.editing.view.document,o=i.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new F(i.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{i.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(e,t)=>{this._hideForm(!0),t()}),this.listenTo(i.ui,"update",()=>{if(o.getClosestSelectedImageWidget(n.selection)){if(this._isVisible){var e=i;const t=e.plugins.get("ContextualBalloon");e.plugins.get("ImageUtils").getClosestSelectedImageWidget(e.editing.view.document.selection)&&(e=g(e),t.updatePosition(e))}}else this._hideForm(!0)}),(0,h.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(!this._isVisible){const e=this.editor,t=e.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:g(e)}),i.fieldView.value=i.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class f extends s.Plugin{static get requires(){return[i,p]}static get pluginName(){return"ImageTextAlternative"}}function b(a,t){return e=>{e.on("attribute:srcset:"+t,i)};function i(e,t,i){if(i.consumable.consume(t.item,e.name)){const n=i.writer,o=i.mapper.toViewElement(t.item),r=a.findViewImgElement(o);if(null===t.attributeNewValue){const a=t.attributeOldValue;a.data&&(n.removeAttribute("srcset",r),n.removeAttribute("sizes",r),a.width&&n.removeAttribute("width",r))}else{const a=t.attributeNewValue;a.data&&(n.setAttribute("srcset",a.data,r),n.setAttribute("sizes","100vw",r),a.width&&n.setAttribute("width",a.width,r))}}}}function w(a,t,i){return e=>{e.on(`attribute:${i}:`+t,n)};function n(e,t,i){if(i.consumable.consume(t.item,e.name)){const n=i.writer,o=i.mapper.toViewElement(t.item),r=a.findViewImgElement(o);n.setAttribute(t.attributeKey,t.attributeNewValue||"",r)}}}class v extends l.Observer{observe(e){this.listenTo(e,"load",(e,t)=>{var i=t.target;this.checkShouldIgnoreEventFromTarget(i)||"IMG"==i.tagName&&this._fireEvents(t)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class H extends s.Command{constructor(e){super(e);var t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||"block"===t&&(0,c.logWarning)("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===t&&(0,c.logWarning)("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(e){const t=(0,c.toArray)(e.source),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(n.getAttributes());t.forEach((e,t)=>{var i=n.getSelectedElement();if("string"==typeof e&&(e={src:e}),t&&i&&o.isImage(i)){const t=this.editor.model.createPositionAfter(i);o.insertImage({...e,...r},t)}else o.insertImage({...e,...r})})}}class k extends s.Plugin{static get requires(){return[t]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(v),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:e=>{const t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}});var i=new H(e);e.commands.add("insertImage",i),e.commands.add("imageInsert",i)}}class y extends s.Command{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);"imageBlock"===this._modelElementName?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(){const e=this.editor,o=this.editor.model,r=e.plugins.get("ImageUtils"),a=r.getClosestSelectedImageElement(o.document.selection),s=Object.fromEntries(a.getAttributes());return s.src||s.uploadId?o.change(e=>{var t=Array.from(o.markers).filter(e=>e.getRange().containsItem(a)),i=r.insertImage(s,o.createSelection(a,"on"),this._modelElementName);if(!i)return null;var n=e.createRangeOn(i);for(const o of t){const r=o.getRange(),a="$graveyard"!=r.root.rootName?r.getJoined(n,!0):n;e.updateMarker(o,{range:a})}return{oldElement:a,newElement:i}}):null}}class _ extends s.Plugin{static get requires(){return[k,t,e.ClipboardPipeline]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new y(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,t=e.conversion,n=e.plugins.get("ImageUtils");function o(e,t,i){if(i.consumable.test(t.viewItem,{name:!0,classes:"image"})){var n=a.findViewImgElement(t.viewItem);if(n&&i.consumable.test(n,{name:!0})){i.consumable.consume(t.viewItem,{name:!0,classes:"image"});const o=i.convertItem(n,t.modelCursor),r=(0,c.first)(o.modelRange.getItems());r?(i.convertChildren(t.viewItem,r),i.updateConversionResult(r,t)):i.consumable.revert(t.viewItem,{name:!0,classes:"image"})}}}var a;t.for("dataDowncast").elementToStructure({model:"imageBlock",view:(e,{writer:t})=>r(t)}),t.for("editingDowncast").elementToStructure({model:"imageBlock",view:(e,{writer:t})=>n.toImageWidget(r(t),t,i("image widget"))}),t.for("downcast").add(w(n,"imageBlock","src")).add(w(n,"imageBlock","alt")).add(b(n,"imageBlock")),t.for("upcast").elementToElement({view:u(e,"imageBlock"),model:(e,{writer:t})=>t.createElement("imageBlock",e.hasAttribute("src")?{src:e.getAttribute("src")}:null)}).add((a=n,e=>{e.on("element:figure",o)}))}_setupClipboardIntegration(){const o=this.editor,r=o.model,a=o.editing.view,s=o.plugins.get("ImageUtils");this.listenTo(o.plugins.get("ClipboardPipeline"),"inputTransformation",(e,t)=>{const i=Array.from(t.content.getChildren());if(i.every(s.isInlineImageView)){var n=t.targetRanges?o.editing.mapper.toModelRange(t.targetRanges[0]):r.document.selection.getFirstRange(),n=r.createSelection(n);if("imageBlock"===m(r.schema,n)){const o=new l.UpcastWriter(a.document),r=i.map(e=>o.createElement("figure",{class:"image"},e));t.content=o.createDocumentFragment(r)}}})}}o=ze(540);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class U extends s.Plugin{static get requires(){return[_,d.Widget,f]}static get pluginName(){return"ImageBlock"}}class W extends s.Plugin{static get requires(){return[k,t,e.ClipboardPipeline]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((e,t)=>{if(e.endsWith("caption")&&"imageInline"===t.name)return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new y(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("dataDowncast").elementToElement({model:"imageInline",view:(e,{writer:t})=>t.createEmptyElement("img")}),t.for("editingDowncast").elementToStructure({model:"imageInline",view:(e,{writer:t})=>n.toImageWidget(function(e){return e.createContainerElement("span",{class:"image-inline"},e.createEmptyElement("img"))}(t),t,i("image widget"))}),t.for("downcast").add(w(n,"imageInline","src")).add(w(n,"imageInline","alt")).add(b(n,"imageInline")),t.for("upcast").elementToElement({view:u(e,"imageInline"),model:(e,{writer:t})=>t.createElement("imageInline",e.hasAttribute("src")?{src:e.getAttribute("src")}:null)})}_setupClipboardIntegration(){const o=this.editor,r=o.model,a=o.editing.view,s=o.plugins.get("ImageUtils");this.listenTo(o.plugins.get("ClipboardPipeline"),"inputTransformation",(e,t)=>{const i=Array.from(t.content.getChildren());if(i.every(s.isBlockImageView)){var n=t.targetRanges?o.editing.mapper.toModelRange(t.targetRanges[0]):r.document.selection.getFirstRange(),n=r.createSelection(n);if("imageInline"===m(r.schema,n)){const o=new l.UpcastWriter(a.document),r=i.map(t=>1===t.childCount?(Array.from(t.getAttributes()).forEach(e=>o.setAttribute(...e,s.findViewImgElement(t))),t.getChild(0)):t);t.content=o.createDocumentFragment(r)}}})}}class q extends s.Plugin{static get requires(){return[W,d.Widget,f]}static get pluginName(){return"ImageInline"}}class Z extends s.Plugin{static get requires(){return[U,q]}static get pluginName(){return"Image"}}class x extends s.Plugin{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[t]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),i=e.getFirstPosition().findAncestor("caption");return i&&t.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}}class K extends s.Command{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils");if(!e.plugins.has(_))return this.isEnabled=!1,void(this.value=!1);const i=e.model.document.selection,n=i.getSelectedElement();if(!n){const e=t.getCaptionFromModelSelection(i);return this.isEnabled=!!e,void(this.value=!!e)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(n),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(n):this.value=!1}execute(e={}){const t=e["focusCaptionOnShow"];this.editor.model.change(e=>{this.value?this._hideImageCaption(e):this._showImageCaption(e,t)})}_showImageCaption(e,t){const i=this.editor.model.document.selection,n=this.editor.plugins.get("ImageCaptionEditing");let o=i.getSelectedElement();var r=n._getSavedCaption(o),r=(this.editor.plugins.get("ImageUtils").isInlineImage(o)&&(this.editor.execute("imageTypeBlock"),o=i.getSelectedElement()),r||e.createElement("caption"));e.append(r,o),t&&e.setSelection(r,"in")}_hideImageCaption(e){const t=this.editor,i=t.model.document.selection,n=t.plugins.get("ImageCaptionEditing"),o=t.plugins.get("ImageCaptionUtils");let r,a=i.getSelectedElement();a?r=o.getCaptionFromImageModelElement(a):(r=o.getCaptionFromModelSelection(i),a=r.parent),n._saveCaption(a,r),e.setSelection(a,"on"),e.remove(r)}}class C extends s.Plugin{static get requires(){return[t,x]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new K(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration()}_setupConversion(){const e=this.editor,i=e.editing.view,n=e.plugins.get("ImageUtils"),t=e.plugins.get("ImageCaptionUtils"),o=e.t;e.conversion.for("upcast").elementToElement({view:e=>t.matchImageCaptionViewElement(e),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(e,{writer:t})=>n.isBlockImage(e.parent)?t.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(e,{writer:t})=>{if(!n.isBlockImage(e.parent))return null;e=t.createEditableElement("figcaption");return t.setCustomProperty("imageCaption",!0,e),(0,l.enablePlaceholder)({view:i,element:e,text:o("Enter image caption"),keepOnFocus:!0}),(0,d.toWidgetEditable)(e,t)}})}_setupImageTypeCommandsIntegration(){const e=this.editor,n=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),t=e.commands.get("imageTypeInline"),i=e.commands.get("imageTypeBlock"),r=e=>{if(e.return){var{oldElement:t,newElement:i}=e.return;if(t){if(n.isBlockImage(t)){const e=o.getCaptionFromImageModelElement(t);if(e)return void this._saveCaption(i,e)}e=this._getSavedCaption(t);e&&this._saveCaption(i,e)}}};t&&this.listenTo(t,"execute",r,{priority:"low"}),i&&this.listenTo(i,"execute",r,{priority:"low"})}_getSavedCaption(e){e=this._savedCaptionsMap.get(e);return e?l.Element.fromJSON(e):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}}class Y extends s.Plugin{static get requires(){return[x]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,o=n.editing.view,r=n.plugins.get("ImageCaptionUtils"),a=n.t;n.ui.componentFactory.add("toggleImageCaption",e=>{const t=n.commands.get("toggleImageCaption"),i=new h.ButtonView(e);return i.set({icon:s.icons.caption,tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),i.bind("label").to(t,"value",e=>a(e?"Toggle caption off":"Toggle caption on")),this.listenTo(i,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});var e=r.getCaptionFromModelSelection(n.model.document.selection);if(e){const r=n.editing.mapper.toViewElement(e);o.scrollToTheSelection(),o.change(e=>{e.addClass("image__caption_highlighted",r)})}}),i})}}o=ze(560);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class $ extends s.Plugin{static get requires(){return[C,Y]}static get pluginName(){return"ImageCaption"}}var T=ze(448);function I(e){const t=e.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Q(e){return new Promise((o,t)=>{const r=e.getAttribute("src");fetch(r).then(e=>e.blob()).then(e=>{const t=G(e,r),i=t.replace("image/",""),n=new File([e],"image."+i,{type:t});o(n)}).catch(e=>e&&"TypeError"===e.name?function(n){return e=n,new Promise((t,i)=>{const n=c.global.document.createElement("img");n.addEventListener("load",()=>{const e=c.global.document.createElement("canvas");e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0),e.toBlob(e=>e?t(e):i())}),n.addEventListener("error",()=>i()),n.src=e}).then(e=>{const t=G(e,n),i=t.replace("image/","");return new File([e],"image."+i,{type:t})});var e}(r).then(o).catch(t):t(e))})}function G(e,t){return e.type||(t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg")}class J extends s.Plugin{static get pluginName(){return"ImageUploadUI"}init(){const r=this.editor,a=r.t,e=e=>{const t=new T.FileDialogButtonView(e),i=r.commands.get("uploadImage"),n=r.config.get("image.upload.types"),o=I(n);return t.set({acceptedType:n.map(e=>"image/"+e).join(","),allowMultipleFiles:!0}),t.buttonView.set({label:a("Insert image"),icon:s.icons.image,tooltip:!0}),t.buttonView.bind("isEnabled").to(i),t.on("done",(e,t)=>{t=Array.from(t).filter(e=>o.test(e.type));t.length&&r.execute("uploadImage",{file:t})}),t};r.ui.componentFactory.add("uploadImage",e),r.ui.componentFactory.add("imageUpload",e)}}o=ze(271),n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals,o=ze(948),n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals,o=ze(467);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class X extends s.Plugin{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...e)=>this.uploadStatusChange(...e)),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(e,t,i){const n=this.editor,o=t.item,r=o.getAttribute("uploadId");if(i.consumable.consume(t.item,e.name)){const u=n.plugins.get("ImageUtils"),m=n.plugins.get(T.FileRepository),h=r?t.attributeNewValue:null,g=this.placeholder,p=n.editing.mapper.toViewElement(o),f=i.writer;if("reading"==h)return ee(p,f),void te(u,g,p,f);if("uploading"==h){const e=m.loaders.get(r);if(ee(p,f),e){ie(p,f);{t=p;i=f;var a=e;var s=n.editing.view;c=(l=i).createUIElement("div",{class:"ck-progress-bar"}),l.setCustomProperty("progressBar",!0,c);const b=c;i.insert(i.createPositionAt(t,"end"),b),a.on("change:uploadedPercent",(e,t,i)=>{s.change(e=>{e.setStyle("width",i+"%",b)})})}return void(l=u,c=p,i=f,t=e,t.data&&(l=l.findViewImgElement(c),i.setAttribute("src",t.data,l)))}else return void te(u,g,p,f)}var l,c;if("complete"==h&&m.loaders.get(r)){e=p;a=f;var d=n.editing.view;const w=a.createUIElement("div",{class:"ck-image-upload-complete-icon"});a.insert(a.createPositionAt(e,"end"),w),setTimeout(()=>{d.change(e=>e.remove(e.createRangeOn(w)))},3e3)}oe(p,f,"progressBar"),ie(p,f),c=p,f.removeClass("ck-appear",c)}}}function ee(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function te(e,t,i,n){i.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",i);const o=e.findViewImgElement(i);o.getAttribute("src")!==t&&n.setAttribute("src",t,o),ne(i,"placeholder")||n.insert(n.createPositionAfter(o),(t=(e=n).createUIElement("div",{class:"ck-upload-placeholder-loader"}),e.setCustomProperty("placeholder",!0,t),t))}function ie(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),oe(e,t,"placeholder")}function ne(e,t){for(const i of e.getChildren())if(i.getCustomProperty(t))return i}function oe(e,t,i){e=ne(e,i);e&&t.remove(t.createRangeOn(e))}class re extends s.Command{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(i)}execute(e){const t=(0,c.toArray)(e.file),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(n.getAttributes());t.forEach((e,t)=>{var i=n.getSelectedElement();if(t&&i&&o.isImage(i)){const t=this.editor.model.createPositionAfter(i);this._uploadImage(e,r,t)}else this._uploadImage(e,r)})}_uploadImage(e,t,i){const n=this.editor,o=n.plugins.get(T.FileRepository).createLoader(e),r=n.plugins.get("ImageUtils");o&&r.insertImage({...t,uploadId:o.id},i)}}class ae extends s.Plugin{static get requires(){return[T.FileRepository,h.Notification,e.ClipboardPipeline,t]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const o=this.editor,n=o.model.document,e=o.conversion,r=o.plugins.get(T.FileRepository),a=o.plugins.get("ImageUtils"),s=I(o.config.get("image.upload.types")),t=new re(o);o.commands.add("uploadImage",t),o.commands.add("imageUpload",t),e.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(o.editing.view.document,"clipboardInput",(e,t)=>{if(i=t.dataTransfer,!Array.from(i.types).includes("text/html")||""===i.getData("text/html")){var i;const n=Array.from(t.dataTransfer.files).filter(e=>!!e&&s.test(e.type));n.length&&(e.stop(),o.model.change(e=>{t.targetRanges&&e.setSelection(t.targetRanges.map(e=>o.editing.mapper.toModelRange(e))),o.model.enqueueChange(()=>{o.execute("uploadImage",{file:n})})}))}}),this.listenTo(o.plugins.get("ClipboardPipeline"),"inputTransformation",(e,t)=>{t=Array.from(o.editing.view.createRangeIn(t.content)).filter(e=>function(e,t){return!(!e.isInlineImageView(t)||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))}(a,e.item)&&!e.item.getAttribute("uploadProcessed")).map(e=>({promise:Q(e.item),imageElement:e.item}));if(t.length){const i=new l.UpcastWriter(o.editing.view.document);for(const o of t){i.setAttribute("uploadProcessed",!0,o.imageElement);const e=r.createLoader(o.promise);e&&(i.setAttribute("src","",o.imageElement),i.setAttribute("uploadId",e.id,o.imageElement))}}}),o.editing.view.document.on("dragover",(e,t)=>{t.preventDefault()}),n.on("change",()=>{const e=n.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),t=new Set;for(const n of e)if("insert"==n.type&&"$text"!=n.name){const e=n.position.nodeAfter,i="$graveyard"==n.position.root.rootName;for(const n of function(e,t){const i=e.plugins.get("ImageUtils");return Array.from(e.model.createRangeOn(t)).filter(e=>i.isImage(e.item)).map(e=>e.item)}(o,e)){const o=n.getAttribute("uploadId");if(o){const e=r.loaders.get(o);e&&(i?t.has(o)||e.abort():(t.add(o),this._uploadImageElements.set(o,n),"idle"==e.status&&this._readAndUpload(e)))}}}}),this.on("uploadComplete",(e,{imageElement:t,data:i})=>{const n=i.urls||i;this.editor.model.change(e=>{e.setAttribute("src",n.default,t),this._parseAndSetSrcsetAttributeOnImage(n,t,e)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const i=this.editor,o=i.model,t=i.locale.t,e=i.plugins.get(T.FileRepository),r=i.plugins.get(h.Notification),a=i.plugins.get("ImageUtils"),s=this._uploadImageElements;return o.enqueueChange({isUndoable:!1},e=>{e.setAttribute("uploadStatus","reading",s.get(n.id))}),n.read().then(()=>{const e=n.upload(),t=s.get(n.id);if(c.env.isSafari){const n=i.editing.mapper.toViewElement(t),o=a.findViewImgElement(n);i.editing.view.once("render",()=>{if(o.parent){const t=i.editing.view.domConverter.mapViewToDom(o.parent);var e;t&&(e=t.style.display,t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=e)}})}return o.enqueueChange({isUndoable:!1},e=>{e.setAttribute("uploadStatus","uploading",t)}),e}).then(i=>{o.enqueueChange({isUndoable:!1},e=>{var t=s.get(n.id);e.setAttribute("uploadStatus","complete",t),this.fire("uploadComplete",{data:i,imageElement:t})}),l()}).catch(e=>{if("error"!==n.status&&"aborted"!==n.status)throw e;"error"==n.status&&e&&r.showWarning(e,{title:t("Upload failed"),namespace:"upload"}),o.enqueueChange({isUndoable:!1},e=>{e.remove(s.get(n.id))}),l()});function l(){o.enqueueChange({isUndoable:!1},e=>{var t=s.get(n.id);e.removeAttribute("uploadId",t),e.removeAttribute("uploadStatus",t),s.delete(n.id)}),e.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(t,e,i){let n=0;var o=Object.keys(t).filter(e=>{e=parseInt(e,10);if(!isNaN(e))return n=Math.max(n,e),!0}).map(e=>t[e]+` ${e}w`).join(", ");""!=o&&i.setAttribute("srcset",{data:o,width:n},e)}}class se extends s.Plugin{static get pluginName(){return"ImageUpload"}static get requires(){return[ae,J,X]}}o=ze(439);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class le extends h.View{constructor(e,t={}){super(e);const i=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach(e=>this.children.add(e)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",i.to("class")],role:i.to("_role"),"aria-labelledby":i.to("_ariaLabelledBy")},children:this.children})}}o=ze(91);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class ce extends h.View{constructor(e,t){super(e);const{insertButtonView:i,cancelButtonView:n}=this._createActionButtons(e);if(this.insertButtonView=i,this.cancelButtonView=n,this.dropdownView=this._createDropdownView(e),this.set("imageURLInputValue",""),this.focusTracker=new c.FocusTracker,this.keystrokes=new c.KeystrokeHandler,this._focusables=new h.ViewCollection,this._focusCycler=new h.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new c.Collection),t)for(const[e,i]of Object.entries(t))"insertImageViaUrl"===e&&(i.fieldView.bind("value").to(this,"imageURLInputValue",e=>e||""),i.fieldView.on("input",()=>{this.imageURLInputValue=i.fieldView.element.value.trim()})),i.name=e,this._integrations.add(i);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new le(e,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),(0,h.submitHandler)({view:this});const e=[...this._integrations,this.insertButtonView,this.cancelButtonView];e.forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);var t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(e[0].element,"selectstart",(e,t)=>{t.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(t){return this._integrations.find(e=>e.name===t)}_createDropdownView(e){const t=e.t,i=(0,h.createDropdown)(e,h.SplitButtonView),n=i.buttonView,o=i.panelView;return n.set({label:t("Insert image"),icon:s.icons.image,tooltip:!0}),o.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),i}_createActionButtons(e){const t=e.t,i=new h.ButtonView(e),n=new h.ButtonView(e);return i.set({label:t("Insert"),icon:s.icons.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),n.set({label:t("Cancel"),icon:s.icons.cancel,class:"ck-button-cancel",withText:!0}),i.bind("isEnabled").to(this,"imageURLInputValue",e=>!!e),i.delegate("execute").to(this,"submit"),n.delegate("execute").to(this,"cancel"),{insertButtonView:i,cancelButtonView:n}}focus(){this._focusCycler.focusFirst()}}class de extends s.Plugin{static get pluginName(){return"ImageInsertUI"}init(){const e=this.editor,t=e=>this._createDropdownView(e);e.ui.componentFactory.add("insertImage",t),e.ui.componentFactory.add("imageInsert",t)}_createDropdownView(e){const t=this.editor,i=new ce(e,function(i){const e=i.config.get("image.insert.integrations"),t=i.plugins.get("ImageInsertUI"),n={insertImageViaUrl:function(e){const t=e.t,i=new h.LabeledFieldView(e,h.createLabeledInputText);return i.set({label:t("Insert image via URL")}),i.fieldView.placeholder="https://example.com/image.png",i}(i.locale)};if(!e)return n;if(e.find(e=>"openCKFinder"===e)&&i.ui.componentFactory.has("ckfinder")){const e=i.ui.componentFactory.create("ckfinder");e.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),e.delegate("execute").to(t,"cancel"),n.openCKFinder=e}return e.reduce((e,t)=>(n[t]?e[t]=n[t]:i.ui.componentFactory.has(t)&&(e[t]=i.ui.componentFactory.create(t)),e),{})}(t)),n=t.commands.get("uploadImage"),o=i.dropdownView,r=o.buttonView;return r.actionView=t.ui.componentFactory.create("uploadImage"),r.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}}),this._setUpDropdown(o,i,n)}_setUpDropdown(t,i,e){const n=this.editor,o=n.t,r=i.insertButtonView,a=i.getIntegration("insertImageViaUrl"),s=t.panelView,l=this.editor.plugins.get("ImageUtils");function c(){n.editing.view.focus(),t.isOpen=!1}return t.bind("isEnabled").to(e),t.buttonView.once("open",()=>{s.children.add(i)}),t.on("change:isOpen",()=>{const e=n.model.document.selection.getSelectedElement();t.isOpen&&(i.focus(),l.isImage(e)?(i.imageURLInputValue=e.getAttribute("src"),r.label=o("Update"),a.label=o("Update image URL")):(i.imageURLInputValue="",r.label=o("Insert"),a.label=o("Insert image via URL")))},{priority:"low"}),i.delegate("submit","cancel").to(t),this.delegate("cancel").to(t),t.on("submit",()=>{c();{const t=n.model.document.selection.getSelectedElement();return void(l.isImage(t)?n.model.change(e=>{e.setAttribute("src",i.imageURLInputValue,t),e.removeAttribute("srcset",t),e.removeAttribute("sizes",t)}):n.execute("insertImage",{source:i.imageURLInputValue}))}}),t.on("cancel",()=>{c()}),t}}class ue extends s.Plugin{static get pluginName(){return"ImageInsert"}static get requires(){return[se,de]}}class me extends s.Command{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!t,t&&t.hasAttribute("width")?this.value={width:t.getAttribute("width"),height:null}:this.value=null}execute(t){const e=this.editor,i=e.model,n=e.plugins.get("ImageUtils").getClosestSelectedImageElement(i.document.selection);this.value={width:t.width,height:null},n&&i.change(e=>{e.setAttribute("width",t.width,n)})}}class A extends s.Plugin{static get requires(){return[t]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new me(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(t){const e=this.editor;e.conversion.for("downcast").add(e=>e.on("attribute:width:"+t,(e,t,i)=>{if(i.consumable.consume(t.item,e.name)){const n=i.writer,o=i.mapper.toViewElement(t.item);null!==t.attributeNewValue?(n.setStyle("width",t.attributeNewValue,o),n.addClass("image_resized",o)):(n.removeStyle("width",o),n.removeClass("image_resized",o))}})),e.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===t?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:e=>e.getStyle("width")}})}}const S={small:s.icons.objectSizeSmall,medium:s.icons.objectSizeMedium,large:s.icons.objectSizeLarge,original:s.icons.objectSizeFull};class he extends s.Plugin{static get requires(){return[A]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),i=e.commands.get("resizeImage");this.bind("isEnabled").to(i);for(const e of t)this._registerImageResizeButton(e);this._registerImageResizeDropdown(t)}_registerImageResizeButton(o){const r=this.editor,{name:e,value:t,icon:a}=o,s=t?t+this._resizeUnit:null;r.ui.componentFactory.add(e,e=>{const t=new h.ButtonView(e),i=r.commands.get("resizeImage"),n=this._getOptionLabelValue(o,!0);if(S[a])return t.set({label:n,icon:S[a],tooltip:n,isToggleable:!0}),t.bind("isEnabled").to(this),t.bind("isOn").to(i,"value",ge(s)),this.listenTo(t,"execute",()=>{r.execute("resizeImage",{width:s})}),t;throw new c.CKEditorError("imageresizebuttons-missing-icon",r,o)})}_registerImageResizeDropdown(o){const r=this.editor,a=r.t,s=o.find(e=>!e.value),e=e=>{const t=r.commands.get("resizeImage"),i=(0,h.createDropdown)(e,h.DropdownButtonView),n=i.buttonView;return n.set({tooltip:a("Resize image"),commandValue:s.value,icon:S.medium,isToggleable:!0,label:this._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button"}),n.bind("label").to(t,"value",e=>e&&e.width?e.width:this._getOptionLabelValue(s)),i.bind("isOn").to(t),i.bind("isEnabled").to(this),(0,h.addListToDropdown)(i,this._getResizeDropdownListItemDefinitions(o,t)),i.listView.ariaLabel=a("Image resize list"),this.listenTo(i,"execute",e=>{r.execute(e.source.commandName,{width:e.source.commandValue}),r.editing.view.focus()}),i};r.ui.componentFactory.add("resizeImage",e),r.ui.componentFactory.add("imageResize",e)}_getOptionLabelValue(e,t){const i=this.editor.t;return e.label||(t?e.value?i("Resize image to %0",e.value+this._resizeUnit):i("Resize image to the original size"):e.value?e.value+this._resizeUnit:i("Original"))}_getResizeDropdownListItemDefinitions(e,n){const o=new c.Collection;return e.map(e=>{const t=e.value?e.value+this._resizeUnit:null,i={type:"button",model:new h.Model({commandName:"resizeImage",commandValue:t,label:this._getOptionLabelValue(e),withText:!0,icon:null})};i.model.bind("isOn").to(n,"value",ge(t)),o.add(i)}),o}}function ge(t){return e=>null===t&&e===t||e&&e.width===t}const pe=/(image|image-inline)/,L="image_resized";class fe extends s.Plugin{static get requires(){return[d.WidgetResize]}static get pluginName(){return"ImageResizeHandles"}init(){var e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const a=this.editor,s=a.editing.view;s.addObserver(v),this.listenTo(s.document,"imageLoaded",(e,t)=>{if(t.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img")){const i=a.editing.view.domConverter,n=i.domToView(t.target).findAncestor({classes:pe});let e=this.editor.plugins.get(d.WidgetResize).getResizerByViewElement(n);if(e)e.redraw();else{const o=a.editing.mapper,r=o.toModelElement(n);(e=a.plugins.get(d.WidgetResize).attachTo({unit:a.config.get("image.resizeUnit"),modelElement:r,viewElement:n,editor:a,getHandleHost:e=>e.querySelector("img"),getResizeHost:()=>i.viewToDom(o.toViewElement(r.parent)),isCentered(){var e=r.getAttribute("imageStyle");return!e||"block"==e||"alignCenter"==e},onCommit(e){s.change(e=>{e.removeClass(L,n)}),a.execute("resizeImage",{width:e})}})).on("updateSize",()=>{n.hasClass(L)||s.change(e=>{e.addClass(L,n)})}),e.bind("isEnabled").to(this)}}})}}o=ze(601);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class be extends s.Plugin{static get requires(){return[A,fe,he]}static get pluginName(){return"ImageResize"}}class we extends s.Command{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(e=>{if(e.isDefault)for(const t of e.modelElements)this._defaultStyles[t]=e.name;return[e.name,e]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(n={}){const e=this.editor,o=e.model,r=e.plugins.get("ImageUtils");o.change(e=>{var t=n.value;let i=r.getClosestSelectedImageElement(o.document.selection);t&&this.shouldConvertImageType(t,i)&&(this.editor.execute(r.isBlockImage(i)?"imageTypeInline":"imageTypeBlock"),i=r.getClosestSelectedImageElement(o.document.selection)),!t||this._styles.get(t).isDefault?e.removeAttribute("imageStyle",i):e.setAttribute("imageStyle",t,i)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:ve,objectInline:ke,objectLeft:ye,objectRight:E,objectCenter:M,objectBlockLeft:_e,objectBlockRight:xe}=s.icons,N={get inline(){return{name:"inline",title:"In line",icon:ke,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:ye,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:_e,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:M,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:E,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:xe,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:M,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:E,modelElements:["imageBlock"],className:"image-style-side"}}},Ce={full:ve,left:_e,right:xe,center:M,inlineLeft:ye,inlineRight:E,inline:ke},Te=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Ie(e){(0,c.logWarning)("image-style-configuration-definition-invalid",e)}const V={normalizeStyles:function(r){return(r.configuredStyles.options||[]).map(e=>{return"string"==typeof(e="string"==typeof e?N[e]?{...N[e]}:{name:e}:function(e,t){const i={...t};for(const n in e)Object.prototype.hasOwnProperty.call(t,n)||(i[n]=e[n]);return i}(N[e.name],e)).icon&&(e.icon=Ce[e.icon]||e.icon),e}).filter(e=>{{var[e,{isBlockPluginLoaded:t,isInlinePluginLoaded:i}]=[e,r];const{modelElements:n,name:o}=e;if(!(n&&n.length&&o))return Ie({style:e}),!1;{const o=[t?"imageBlock":null,i?"imageInline":null];if(!n.some(e=>o.includes(e)))return(0,c.logWarning)("image-style-missing-dependency",{style:e,missingPlugins:n.map(e=>"imageBlock"===e?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}})},getDefaultStylesConfiguration:function(e,t){return e&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:e?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(e){return e.has("ImageBlockEditing")&&e.has("ImageInlineEditing")?[...Te]:[]},warnInvalidStyle:Ie,DEFAULT_OPTIONS:N,DEFAULT_ICONS:Ce,DEFAULT_DROPDOWN_DEFINITIONS:Te};function Ae(e,t){for(const i of t)if(i.name===e)return i}class j extends s.Plugin{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[t]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=V,i=this.editor,n=i.plugins.has("ImageBlockEditing"),o=i.plugins.has("ImageInlineEditing");i.config.define("image.styles",t(n,o)),this.normalizedStyles=e({configuredStyles:i.config.get("image.styles"),isBlockPluginLoaded:n,isInlinePluginLoaded:o}),this._setupConversion(n,o),this._setupPostFixer(),i.commands.add("imageStyle",new we(i,this.normalizedStyles))}_setupConversion(e,t){const i=this.editor,n=i.model.schema,o=(s=this.normalizedStyles,(e,t,i)=>{if(i.consumable.consume(t.item,e.name)){const n=Ae(t.attributeNewValue,s),o=Ae(t.attributeOldValue,s),r=i.mapper.toViewElement(t.item),a=i.writer;o&&a.removeClass(o.className,r),n&&a.addClass(n.className,r)}});var s,r=function(e){const r={imageInline:e.filter(e=>!e.isDefault&&e.modelElements.includes("imageInline")),imageBlock:e.filter(e=>!e.isDefault&&e.modelElements.includes("imageBlock"))};return(e,t,i)=>{if(t.modelRange){var n=t.viewItem,o=(0,c.first)(t.modelRange.getItems());if(o&&i.schema.checkAttribute(o,"imageStyle"))for(const e of r[o.name])i.consumable.consume(n,{classes:e.className})&&i.writer.setAttribute("imageStyle",e.name,o)}}}(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",o),i.data.downcastDispatcher.on("attribute:imageStyle",o),e&&(n.extend("imageBlock",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:figure",r,{priority:"low"})),t&&(n.extend("imageInline",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:img",r,{priority:"low"}))}_setupPostFixer(){const e=this.editor,a=e.model.document,s=e.plugins.get(t),l=new Map(this.normalizedStyles.map(e=>[e.name,e]));a.registerPostFixer(t=>{let i=!1;for(const o of a.differ.getChanges())if("insert"==o.type||"attribute"==o.type&&"imageStyle"==o.attributeKey){let e=("insert"==o.type?o.position:o.range.start).nodeAfter;if(e&&e.is("element","paragraph")&&0<e.childCount&&(e=e.getChild(0)),!s.isImage(e))continue;var n=e.getAttribute("imageStyle");if(!n)continue;const r=l.get(n);r&&r.modelElements.includes(e.name)||(t.removeAttribute("imageStyle",e),i=!0)}return i})}}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function P(e){return e}o=ze(29);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class Le extends s.Plugin{static get requires(){return[j]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],i=Ee(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const e of i)this._createButton(e);var n=Ee([...t.filter(Se),...V.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const e of n)this._createDropdown(e,i)}_createDropdown(l,c){const d=this.editor.ui.componentFactory;d.add(l.name,e=>{let i;const{defaultItem:n,items:t,title:o}=l,r=t.filter(t=>c.find(({name:e})=>Me(e)===t)).map(e=>{var t=d.create(e);return e===n&&(i=t),t}),a=(t.length!==r.length&&V.warnInvalidStyle({dropdown:l}),(0,h.createDropdown)(e,h.SplitButtonView)),s=a.buttonView;return(0,h.addToolbarToDropdown)(a,r),s.set({label:Ne(o,i.label),class:null,tooltip:!0}),s.bind("icon").toMany(r,"isOn",(...e)=>{e=e.findIndex(P);return(e<0?i:r[e]).icon}),s.bind("label").toMany(r,"isOn",(...e)=>{e=e.findIndex(P);return Ne(o,(e<0?i:r[e]).label)}),s.bind("isOn").toMany(r,"isOn",(...e)=>e.some(P)),s.bind("class").toMany(r,"isOn",(...e)=>e.some(P)?"ck-splitbutton_flatten":null),s.on("execute",()=>{r.some(({isOn:e})=>e)?a.isOpen=!a.isOpen:i.fire("execute")}),a.bind("isEnabled").toMany(r,"isEnabled",(...e)=>e.some(P)),a})}_createButton(n){const o=n.name;this.editor.ui.componentFactory.add(Me(o),e=>{const t=this.editor.commands.get("imageStyle"),i=new h.ButtonView(e);return i.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(t,"isEnabled"),i.bind("isOn").to(t,"value",e=>e===o),i.on("execute",this._executeCommand.bind(this,o)),i})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function Ee(e,t){for(const i of e)t[i.title]&&(i.title=t[i.title]);return e}function Me(e){return"imageStyle:"+e}function Ne(e,t){return(e?e+": ":"")+t}class Ve extends s.Plugin{static get requires(){return[j,Le]}static get pluginName(){return"ImageStyle"}}class je extends s.Plugin{static get requires(){return[d.WidgetToolbarRepository,t]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get(d.WidgetToolbarRepository),n=e.plugins.get("ImageUtils");i.register("image",{ariaLabel:t("Image toolbar"),items:(e.config.get("image.toolbar")||[]).map(e=>Se(e)?e.name:e),getRelatedElement:e=>n.getClosestSelectedImageWidget(e)})}}class Pe extends s.Plugin{static get requires(){return[k,t]}static get pluginName(){return"PictureEditing"}afterInit(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const e=this.editor,t=e.conversion,i=e.plugins.get("ImageUtils");function n(t,i,e){if(e.consumable.consume(i.item,t.name)){const n=e.writer,o=e.mapper.toViewElement(i.item),r=a.findViewImgElement(o);if(i.attributeNewValue&&i.attributeNewValue.length){const a=n.createContainerElement("picture",null,i.attributeNewValue.map(e=>n.createEmptyElement("source",e))),t=[];let e=r.parent;for(;e&&e.is("attributeElement");){const a=e.parent;n.unwrap(n.createRangeOn(r),e),t.unshift(e),e=a}n.insert(n.createPositionBefore(r),a),n.move(n.createRangeOn(r),n.createPositionAt(a,"end"));for(const i of t)n.wrap(n.createRangeOn(a),i)}else if(r.parent.is("element","picture")){const a=r.parent;n.move(n.createRangeOn(r),n.createPositionBefore(a)),n.remove(a)}}}var a;t.for("upcast").add(function(a){const s=["srcset","media","type","sizes"];return e=>{e.on("element:picture",t)};function t(e,t,i){const n=t.viewItem;if(i.consumable.test(n,{name:!0})){const r=new Map;for(const a of n.getChildren())if(a.is("element","source")){const e={};for(const t of s)a.hasAttribute(t)&&i.consumable.test(a,{attributes:t})&&(e[t]=a.getAttribute(t));Object.keys(e).length&&r.set(a,e)}var o=a.findViewImgElement(n);if(o){let e=t.modelCursor.parent;if(!e.is("element","imageBlock")){const a=i.convertItem(o,t.modelCursor);t.modelRange=a.modelRange,t.modelCursor=a.modelCursor,e=(0,c.first)(a.modelRange.getItems())}i.consumable.consume(n,{name:!0});for(const[a,s]of r)i.consumable.consume(a,{attributes:Object.keys(s)});r.size&&i.writer.setAttribute("sources",Array.from(r.values()),e),i.convertChildren(n,e)}}}}(i)),t.for("downcast").add((a=i,e=>{e.on("attribute:sources:imageBlock",n),e.on("attribute:sources:imageInline",n)}))}_setupImageUploadEditingIntegration(){const o=this.editor;o.plugins.has("ImageUploadEditing")&&this.listenTo(o.plugins.get("ImageUploadEditing"),"uploadComplete",(e,{imageElement:t,data:i})=>{const n=i.sources;n&&o.model.change(e=>{e.setAttributes({sources:n},t)})})}}})(),(window.CKEditor5=window.CKEditor5||{}).image=De})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{Downloadable:"Downloadable","Edit link":"Edit link",Link:"Link","Link image":"Link image","Link URL":"Link URL","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","This link has no URL":"This link has no URL",Unlink:"Unlink"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={23:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const n=i},952:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const n=i},871:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin:0;padding:var(--ck-spacing-standard);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const n=i},269:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',""]);const n=i},764:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-vertical-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},945:(e,t,i)=>{e.exports=i(79)("./src/clipboard.js")},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},995:(e,t,i)=>{e.exports=i(79)("./src/widget.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function ce(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,ce),t.exports}ce.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return ce.d(t,{a:t}),t},ce.d=(e,t)=>{for(var i in t)ce.o(t,i)&&!ce.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},ce.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ce.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},ce.nc=void 0;var de={};(()=>{"use strict";ce.r(de),ce.d(de,{AutoLink:()=>N,Link:()=>se,LinkEditing:()=>x,LinkImage:()=>le,LinkImageEditing:()=>j,LinkImageUI:()=>P,LinkUI:()=>E});var o=ce(704),c=ce(492),d=ce(181),z=ce(945),l=ce(209);class D{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(e=>this._definitions.add(e)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(e,t,i)=>{if(i.consumable.test(t.item,"attribute:linkHref")&&(t.item.is("selection")||i.schema.isInline(t.item))){const o=i.writer,r=o.document.selection;for(const e of this._definitions){var n=o.createAttributeElement("a",e.attributes,{priority:5});e.classes&&o.addClass(e.classes,n);for(const t in e.styles)o.setStyle(t,e.styles[t],n);o.setCustomProperty("link",!0,n),e.callback(t.attributeNewValue)?t.item.is("selection")?o.wrap(r.getFirstRange(),n):o.wrap(i.mapper.toViewRange(t.range),n):o.unwrap(i.mapper.toViewRange(t.range),n)}}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(e,t,{writer:i,mapper:n})=>{const o=n.toViewElement(t.item),r=Array.from(o.getChildren()).find(e=>"a"===e.name);for(const e of this._definitions){const n=(0,l.toMap)(e.attributes);if(e.callback(t.attributeNewValue)){for(const[e,t]of n)"class"===e?i.addClass(t,r):i.setAttribute(e,t,r);e.classes&&i.addClass(e.classes,r);for(const t in e.styles)i.setStyle(t,e.styles[t],r)}else{for(const[e,t]of n)"class"===e?i.removeClass(t,r):i.removeAttribute(e,r);e.classes&&i.removeClass(e.classes,r);for(const t in e.styles)i.removeStyle(t,r)}}})}}}function R(e,t,i){var n=e.length;if(i=void 0===i?n:i,!t&&n<=i)return e;var o=e,r=t,n=i,a=-1,s=o.length;(n=s<n?s:n)<0&&(n+=s),s=n<(r=r<0?s<-r?0:s+r:r)?0:n-r>>>0,r>>>=0;for(var l=Array(s);++a<s;)l[a]=o[a+r];return l}var B=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function n(e){return B.test(e)}var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",t="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+e+"|"+t+")?",u="[\\ufe0e\\ufe0f]?",u=u+s+"(?:\\u200d(?:"+[i,r,a].join("|")+")"+u+s+")*",s="(?:"+[i+e+"?",e,r,a,"[\\ud800-\\udfff]"].join("|")+")",O=RegExp(t+"(?="+t+")|"+s+u,"g");function F(e){return n(e)?e.match(O)||[]:e.split("")}i="object"==typeof global&&global&&global.Object===Object&&global,e="object"==typeof self&&self&&self.Object===Object&&self,r=(i||e||Function("return this")()).Symbol;const H=function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o},U=Array.isArray;var a=Object.prototype,W=a.hasOwnProperty,q=a.toString,m=r?r.toStringTag:void 0;var Z=Object.prototype.toString;var h=r?r.toStringTag:void 0;function K(e){if(null==e)return void 0===e?"[object Undefined]":"[object Null]";if(h&&h in Object(e)){var t=e,i=W.call(t,m),n=t[m];try{var o=!(t[m]=void 0)}catch(t){}var r=q.call(t);return o&&(i?t[m]=n:delete t[m]),r}return Z.call(e)}const Y=function(e){return"symbol"==typeof e||null!=(t=e)&&"object"==typeof t&&"[object Symbol]"==K(e);var t};var t=r?r.prototype:void 0,g=t?t.toString:void 0;function p(e){if("string"==typeof e)return e;if(U(e))return H(e,p)+"";if(Y(e))return g?g.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}const $=function(e){e=null==(t=e)?"":p(t);var t=n(e)?F(e):void 0,i=t?t[0]:e.charAt(0),t=t?R(t,1).join(""):e.slice(1);return i.toUpperCase()+t},Q=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,G=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,J=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,X=/^((\w+:(\/{2,})?)|(\W))/i,f="Ctrl+K";function b(e,{writer:t}){e=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,e),e}function w(e){return(e=String(e)).replace(Q,"").match(G)?e:"#"}function v(e,t){return e&&t.checkAttribute(e.name,"linkHref")}function k(e,t){i=e;var i=J.test(i)?"mailto:":t,t=!!i&&!X.test(e);return e&&t?i+e:e}function y(e){window.open(e,"_blank","noopener")}class ee extends o.Command{constructor(e){super(e),this.manualDecorators=new l.Collection,this.automaticDecorators=new D}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement()||(0,l.first)(t.getSelectedBlocks());v(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}execute(n,e={}){const o=this.editor.model,r=o.document.selection,a=[],s=[];for(const n in e)(e[n]?a:s).push(n);o.change(t=>{if(r.isCollapsed){var e=r.getFirstPosition();if(r.hasAttribute("linkHref")){const l=(0,d.findAttributeRange)(e,"linkHref",r.getAttribute("linkHref"),o);t.setAttribute("linkHref",n,l),a.forEach(e=>{t.setAttribute(e,!0,l)}),s.forEach(e=>{t.removeAttribute(e,l)}),t.setSelection(t.createPositionAfter(l.end.nodeBefore))}else if(""!==n){const d=(0,l.toMap)(r.getAttributes()),s=(d.set("linkHref",n),a.forEach(e=>{d.set(e,!0)}),o.insertContent(t.createText(n,d),e))["end"];t.setSelection(s)}["linkHref",...a,...s].forEach(e=>{t.removeSelectionAttribute(e)})}else{const d=o.schema.getValidRanges(r.getRanges(),"linkHref"),l=[];for(const n of r.getSelectedBlocks())o.schema.checkAttribute(n,"linkHref")&&l.push(t.createRangeOn(n));const i=l.slice();for(const n of d)this._isRangeToUpdate(n,l)&&i.push(n);for(const o of i)t.setAttribute("linkHref",n,o),a.forEach(e=>{t.setAttribute(e,!0,o)}),s.forEach(e=>{t.removeAttribute(e,o)})}})}_getDecoratorStateFromModel(e){const t=this.editor.model,i=t.document.selection,n=i.getSelectedElement();return(v(n,t.schema)?n:i).getAttribute(e)}_isRangeToUpdate(e,t){for(const i of t)if(i.containsRange(e))return!1;return!0}}class te extends o.Command{refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement();v(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,i=this.editor.model,n=i.document.selection,o=e.commands.get("link");i.change(e=>{var t=n.isCollapsed?[(0,d.findAttributeRange)(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),i)]:i.schema.getValidRanges(n.getRanges(),"linkHref");for(const i of t)if(e.removeAttribute("linkHref",i),o)for(const n of o.manualDecorators)e.removeAttribute(n.id,i)})}}class _{constructor({id:e,label:t,attributes:i,classes:n,styles:o,defaultValue:r}){this.id=e,this.set("value"),this.defaultValue=r,this.label=t,this.attributes=i,this.classes=n,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}(0,l.mix)(_,l.ObservableMixin);s=ce(62),u=ce.n(s),i=ce(23);u()(i.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),i.Z.locals;const ie=/^(https?:)?\/\//;class x extends o.Plugin{static get pluginName(){return"LinkEditing"}static get requires(){return[d.TwoStepCaretMovement,d.Input,z.ClipboardPipeline]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor,t=(e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:b}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,t)=>b(w(e),t)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),e.commands.add("link",new ee(e)),e.commands.add("unlink",new te(e)),function(e,t){const i={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach(e=>(e.label&&i[e.label]&&(e.label=i[e.label]),e)),t}(e.t,function(e){const t=[];if(e)for(var[i,n]of Object.entries(e)){const e=Object.assign({},n,{id:"link"+$(i)});t.push(e)}return t}(e.config.get("link.decorators"))));this._enableAutomaticDecorators(t.filter(e=>"automatic"===e.mode)),this._enableManualDecorators(t.filter(e=>"manual"===e.mode)),e.plugins.get(d.TwoStepCaretMovement).registerAttribute("linkHref"),(0,d.inlineHighlight)(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(e){const t=this.editor,i=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:"automatic",callback:e=>ie.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(e),i.length&&t.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(e){if(e.length){const t=this.editor,i=t.commands.get("link").manualDecorators;e.forEach(o=>{t.model.schema.extend("$text",{allowAttributes:o.id}),o=new _(o),i.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(e,{writer:t,schema:i},{item:n})=>{if(i.isInline(n)&&e){const e=t.createAttributeElement("a",o.attributes,{priority:5});o.classes&&t.addClass(o.classes,e);for(const i in o.styles)t.setStyle(i,o.styles[i],e);return t.setCustomProperty("link",!0,e),e}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document,r=e.model.document;this.listenTo(t,"click",(t,i)=>{if(l.env.isMac?i.domEvent.metaKey:i.domEvent.ctrlKey){let e=i.domTarget;var n;(e="a"!=e.tagName.toLowerCase()?e.closest("a"):e)&&(n=e.getAttribute("href"))&&(t.stop(),i.preventDefault(),y(n))}},{context:"$capture"}),this.listenTo(t,"enter",(e,t)=>{const i=r.selection,n=i.getSelectedElement(),o=(n||i).getAttribute("linkHref");o&&t.domEvent.altKey&&(e.stop(),y(o))},{context:"a"})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,n=i.document.selection;this.listenTo(i,"insertContent",()=>{const e=n.anchor.nodeBefore,t=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&e&&e.hasAttribute("linkHref")&&(t&&t.hasAttribute("linkHref")||i.change(e=>{C(e,I(i.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,n=e.model;e.editing.view.addObserver(c.MouseObserver);let o=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{o=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(o){o=!1;const e=n.document.selection;if(e.isCollapsed&&e.hasAttribute("linkHref")){const t=e.getFirstPosition(),i=(0,d.findAttributeRange)(t,"linkHref",e.getAttribute("linkHref"),n);(t.isTouching(i.start)||t.isTouching(i.end))&&n.change(e=>{C(e,I(n.schema))})}}})}_enableTypingOverLink(){const t=this.editor,e=t.editing.view;let o,i;this.listenTo(e.document,"delete",()=>{i=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const e=t.model.document.selection;e.isCollapsed||(i?i=!1:T(t)&&function(e){const t=e.document.selection,i=t.getFirstPosition(),n=t.getLastPosition(),o=i.nodeAfter;var r;if(o&&(o.is("$text")&&o.hasAttribute("linkHref")))return r=n.textNode||n.nodeBefore,o===r||(0,d.findAttributeRange)(i,"linkHref",o.getAttribute("linkHref"),e).containsRange(e.createRange(i,n),!0)}(t.model)&&(o=e.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(e,[n])=>{i=!1,T(t)&&o&&(t.model.change(e=>{for(var[t,i]of o)e.setAttribute(t,i,n)}),o=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,n=e.model,o=n.document.selection,t=e.editing.view;let r=!1,i=!1;this.listenTo(t.document,"delete",(e,t)=>{i=t.domEvent.keyCode===l.keyCodes.backspace},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{r=!1;var e=o.getFirstPosition(),t=o.getAttribute("linkHref");if(t){const i=(0,d.findAttributeRange)(e,"linkHref",t,n);r=i.containsPosition(e)||i.end.isEqual(e)}},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{i&&(i=!1,r||e.model.enqueueChange(e=>{C(e,I(n.schema))}))},{priority:"low"})}}function C(e,t){e.removeSelectionAttribute("linkHref");for(const i of t)e.removeSelectionAttribute(i)}function T(e){return e.model.change(e=>e.batch).isTyping}function I(e){return e.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var A=ce(273),ne=ce(995),e=ce(764),a=(u()(e.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.Z.locals,ce(871));u()(a.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),a.Z.locals;class oe extends A.View{constructor(e,t){super(e);const i=e.t,n=(this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),o.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),o.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusables=new A.ViewCollection,this._focusCycler=new A.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),["ck","ck-link-form","ck-responsive-form"]);t.manualDecorators.length&&n.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:n,tabindex:"-1"},children:this.children}),(0,A.injectCssTransitionDisabler)(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),(0,A.submitHandler)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new A.LabeledFieldView(this.locale,A.createLabeledInputText);return t.label=e("Link URL"),t}_createButton(e,t,i,n){const o=new A.ButtonView(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:i}}),n&&o.delegate("execute").to(this,n),o}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const i of e.manualDecorators){const n=new A.SwitchButtonView(this.locale);n.set({name:i.id,label:i.label,withText:!0}),n.bind("isOn").toMany([i,e],"value",(e,t)=>void 0===t&&void 0===e?i.defaultValue:e),n.on("execute",()=>{i.set("value",!n.isOn)}),t.add(n)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const e=new A.View;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}r=ce(952);u()(r.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),r.Z.locals;class re extends A.View{constructor(e){super(e);const t=e.t;this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),o.icons.pencil,"edit"),this.set("href"),this._focusables=new A.ViewCollection,this._focusCycler=new A.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,i){const n=new A.ButtonView(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n.delegate("execute").to(this,i),n}_createPreviewButton(){const e=new A.ButtonView(this.locale),t=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",e=>e&&w(e)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",e=>e||i("This link has no URL")),e.bind("isEnabled").to(this,"href",e=>!!e),e.template.tag="a",e.template.eventListeners={},e}}const S='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',L="link-ui";class E extends o.Plugin{static get requires(){return[A.ContextualBalloon]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(c.ClickObserver),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(A.ContextualBalloon),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:L,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:L,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,t=new re(e.locale),i=e.commands.get("link"),n=e.commands.get("unlink");return t.bind("href").to(i,"value"),t.editButtonView.bind("isEnabled").to(i),t.unlinkButtonView.bind("isEnabled").to(n),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(e,t)=>{this._hideUI(),t()}),t.keystrokes.set(f,(e,t)=>{this._addFormView(),t()}),t}_createFormView(){const t=this.editor,e=t.commands.get("link"),i=t.config.get("link.defaultProtocol"),n=new oe(t.locale,e);return n.urlInputView.fieldView.bind("value").to(e,"value"),n.urlInputView.bind("isReadOnly").to(e,"isEnabled",e=>!e),n.saveButtonView.bind("isEnabled").to(e),this.listenTo(n,"submit",()=>{var e=n.urlInputView.fieldView.element["value"],e=k(e,i);t.execute("link",e,n.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(n,"cancel",()=>{this._closeFormView()}),n.keystrokes.set("Esc",(e,t)=>{this._closeFormView(),t()}),n}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link"),n=e.t;e.keystrokes.set(f,(e,t)=>{t(),i.isEnabled&&this._showUI(!0)}),e.ui.componentFactory.add("link",e=>{const t=new A.ButtonView(e);return t.isEnabled=!0,t.label=n("Link"),t.icon=S,t.keystroke=f,t.tooltip=!0,t.isToggleable=!0,t.bind("isEnabled").to(i,"isEnabled"),t.bind("isOn").to(i,"value",e=>!!e),this.listenTo(t,"execute",()=>this._showUI(!0)),t})}_enableUserBalloonInteractions(){var e=this.editor.editing.view.document;this.listenTo(e,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),(0,A.clickOutsideHandler)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){var e;this._isFormInPanel||(e=this.editor.commands.get("link"),this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||"")}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(this._isUIInPanel){const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let i=this._getSelectedLinkElement(),n=r();var o=()=>{var e=this._getSelectedLinkElement(),t=r();i&&!e||!i&&t!==n?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=e,n=t};function r(){return t.selection.focus.getAncestors().reverse().find(e=>e.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,i=t.document;let n=null;if(e.markers.has(L)){const e=Array.from(this.editor.editing.mapper.markerNameToElements(L)),i=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1]));n=t.domConverter.viewRangeToDom(i)}else n=()=>{var e=this._getSelectedLinkElement();return e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:n}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,i=t.getSelectedElement();if(t.isCollapsed||i&&(0,ne.isWidget)(i))return M(t.getFirstPosition());{const i=t.getFirstRange().getTrimmed(),n=M(i.start),o=M(i.end);return n&&n==o&&e.createRangeIn(n).getTrimmed().isEqual(i)?n:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(e=>{const t=n.document.selection.getFirstRange();var i;n.markers.has(L)?e.updateMarker(L,{range:t}):t.start.isAtEnd?(i=t.start.getLastMatchingPosition(({item:e})=>!n.schema.isContent(e),{boundaries:t}),e.addMarker(L,{usingOperation:!1,affectsData:!1,range:e.createRange(i,t.end)})):e.addMarker(L,{usingOperation:!1,affectsData:!1,range:t})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(L)&&e.change(e=>{e.removeMarker(L)})}}function M(e){return e.getAncestors().find(e=>{return(e=e).is("attributeElement")&&!!e.getCustomProperty("link")})}const ae=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class N extends o.Plugin{static get requires(){return[d.Delete]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const l=this.editor,e=new d.TextWatcher(l.model,e=>{if(4<e.length&&" "===e[e.length-1]&&" "!==e[e.length-2])return e=V(e.substr(0,e.length-1)),e?{url:e}:void 0});e.on("matched:data",(e,t)=>{const{batch:i,range:n,url:o}=t;if(i.isTyping){const r=n.end.getShiftedBy(-1),a=r.getShiftedBy(-o.length),s=l.model.createRange(a,r);this._applyAutoLink(o,s)}}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{var e=t.document.selection.getFirstPosition();e.parent.previousSibling&&(e=t.createRangeIn(e.parent.previousSibling),this._checkAndApplyAutoLinkOnRange(e))})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,t=e.commands.get("shiftEnter");t&&t.on("execute",()=>{const e=i.document.selection.getFirstPosition(),t=i.createRange(i.createPositionAt(e.parent,0),e.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(t)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:i,range:n}=(0,d.getLastTextLine)(e,t),o=V(i);if(o){const e=t.createRange(n.end.getShiftedBy(-o.length),n.end);this._applyAutoLink(o,e)}}_applyAutoLink(i,n){const o=this.editor.model,r=this.editor.plugins.get("Delete");var e;this.isEnabled&&(e=o).schema.checkAttributeInSelection(e.createSelection(n),"linkHref")&&o.enqueueChange(e=>{var t=this.editor.config.get("link.defaultProtocol"),t=k(i,t);e.setAttribute("linkHref",t,n),o.enqueueChange(()=>{r.requestUndoOnBackspace()})})}}function V(e){e=ae.exec(e);return e?e[2]:null}class se extends o.Plugin{static get requires(){return[x,E,N]}static get pluginName(){return"Link"}}class j extends o.Plugin{static get requires(){return["ImageEditing","ImageUtils",x]}static get pluginName(){return"LinkImageEditing"}init(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(function(e){const a=e.plugins.has("ImageInlineEditing"),s=e.plugins.get("ImageUtils");return e=>{e.on("element:a",(t,i,n)=>{const e=i.viewItem,o=s.findViewImgElement(e);if(o){var r=o.findAncestor(e=>s.isBlockImageView(e));if(!a||r)if(n.consumable.consume(e,{attributes:["href"]})){r=e.getAttribute("href");if(r){let e=i.modelCursor.parent;if(!e.is("element","imageBlock")){const t=n.convertItem(o,i.modelCursor);i.modelRange=t.modelRange,i.modelCursor=t.modelCursor,e=i.modelCursor.nodeBefore}e&&e.is("element","imageBlock")&&n.writer.setAttribute("linkHref",r,e)}}}},{priority:"high"})}}(e)),e.conversion.for("downcast").add(function(){const l=e.plugins.get("ImageUtils");return e=>{e.on("attribute:linkHref:imageBlock",(e,t,i)=>{if(i.consumable.consume(t.item,e.name)){const n=i.mapper.toViewElement(t.item),o=i.writer,r=Array.from(n.getChildren()).find(e=>"a"===e.name),a=l.findViewImgElement(n),s=a.parent.is("element","picture")?a.parent:a;if(r)t.attributeNewValue?o.setAttribute("href",t.attributeNewValue,r):(o.move(o.createRangeOn(s),o.createPositionAt(n,0)),o.remove(r));else{const e=o.createContainerElement("a",{href:t.attributeNewValue});o.insert(o.createPositionAt(n,0),e),o.move(o.createRangeOn(s),o.createPositionAt(e,0))}}},{priority:"high"})}}()),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,t=e.commands.get("link").automaticDecorators;t.length&&e.conversion.for("downcast").add(t.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const i of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:i.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:i.id}),e.conversion.for("downcast").add(function(r){return e=>{e.on(`attribute:${r.id}:imageBlock`,(e,t,i)=>{const n=i.mapper.toViewElement(t.item),o=Array.from(n.getChildren()).find(e=>"a"===e.name);if(o){for(const[e,t]of(0,l.toMap)(r.attributes))i.writer.setAttribute(e,t,o);r.classes&&i.writer.addClass(r.classes,o);for(const e in r.styles)i.writer.setStyle(e,r.styles[e],o)}})}}(i)),e.conversion.for("upcast").add(function(e,a){const s=e.plugins.has("ImageInlineEditing"),l=e.plugins.get("ImageUtils");return e=>{e.on("element:a",(e,t,i)=>{const n=t.viewItem,o=l.findViewImgElement(n);var r;o&&(r=o.findAncestor(e=>l.isBlockImageView(e)),s&&!r||(r=new c.Matcher(a._createPattern()).match(n))&&i.consumable.consume(n,r.match)&&(r=t.modelCursor.nodeBefore||t.modelCursor.parent,i.writer.setAttribute(a.id,!0,r)))},{priority:"high"})}}(e,i))}}class P extends o.Plugin{static get requires(){return[x,E,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const i=this.editor,e=i.editing.view.document;this.listenTo(e,"click",(e,t)=>{this._isSelectedLinkedImage(i.model.document.selection)&&(t.preventDefault(),e.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const o=this.editor,r=o.t;o.ui.componentFactory.add("linkImage",e=>{const t=new A.ButtonView(e),i=o.plugins.get("LinkUI"),n=o.commands.get("link");return t.set({isEnabled:!0,label:r("Link image"),icon:S,keystroke:f,tooltip:!0,isToggleable:!0}),t.bind("isEnabled").to(n,"isEnabled"),t.bind("isOn").to(n,"value",e=>!!e),this.listenTo(t,"execute",()=>{this._isSelectedLinkedImage(o.model.document.selection)?i._addActionsView():i._showUI(!0)}),t})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}t=ce(269);u()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class le extends o.Plugin{static get requires(){return[j,P]}static get pluginName(){return"LinkImage"}}})(),(window.CKEditor5=window.CKEditor5||{}).link=de})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Circle:"Circle",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero",Disc:"Disc","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Reversed order":"Reversed order",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={389:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}",""]);const n=i},78:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}",""]);const n=i},543:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}",""]);const n=i},657:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}",""]);const n=i},250:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},331:(e,t,i)=>{e.exports=i(79)("./src/enter.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function at(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,at),t.exports}at.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return at.d(t,{a:t}),t},at.d=(e,t)=>{for(var i in t)at.o(t,i)&&!at.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},at.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),at.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},at.nc=void 0;var st={};(()=>{"use strict";at.r(st),at.d(st,{DocumentList:()=>de,DocumentListEditing:()=>T,DocumentListProperties:()=>Ie,DocumentListPropertiesEditing:()=>ye,List:()=>Ue,ListEditing:()=>V,ListProperties:()=>Qe,ListPropertiesEditing:()=>Ke,ListPropertiesUI:()=>Ce,ListUI:()=>ce,TodoList:()=>rt,TodoListEditing:()=>nt,TodoListUI:()=>ot});var e=at(704),t=at(331),z=at(181),g=at(209);class x{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward="forward"==t.direction,this._includeSelf=!!t.includeSelf,this._sameAttributes=(0,g.toArray)(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){e=new this(e,t)[Symbol.iterator]();return(0,g.first)(e)}*[Symbol.iterator](){const e=[];for(const{node:i}of u(this._getStartNode(),this._isForward?"forward":"backward")){var t=i.getAttribute("listIndent");if(t<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=t}else if(t>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(e=>i.getAttribute(e)!==this._startElement.getAttribute(e)))break}e.length&&(yield*e,e.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*u(e,t="forward"){var i="forward"==t;let n=null;for(;h(e);)yield{node:e,previous:n},n=e,e=i?e.nextSibling:e.previousSibling}class D{constructor(e){this._listHead=e}[Symbol.iterator](){return u(this._listHead,"forward")}}class m{static next(){return(0,g.uid)()}}function h(e){return!!e&&e.is("element")&&e.hasAttribute("listItemId")}function a(e,t={}){return[...p(e,{...t,direction:"backward"}),...p(e,{...t,direction:"forward"})]}function p(e,t={}){const i="forward"==t.direction,n=Array.from(new x(e,{...t,includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"}));return i?n:n.reverse()}function R(e){var t=new x(e,{sameIndent:!0,sameAttributes:"listType"}),e=new x(e,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(t).reverse(),...e]}function s(e){return!x.first(e,{sameIndent:!0,sameAttributes:"listItemId"})}function B(e){return!x.first(e,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function c(e,t={}){e=(0,g.toArray)(e);const i=!1!==t.withNested,n=new Set;for(const t of e)for(const e of a(t,{higherIndent:i}))n.add(e);return w(n)}function o(e){e=(0,g.toArray)(e);const t=new Set;for(const i of e)for(const e of R(i))t.add(e);return w(t)}function l(e,t){var i=p(e,{direction:"forward"}),n=m.next();for(const e of i)t.setAttribute("listItemId",n,e);return i}function f(e,t,i){const n={};for(const[e,i]of t.getAttributes())e.startsWith("list")&&(n[e]=i);t=p(e,{direction:"forward"});for(const e of t)i.setAttributes(n,e);return t}function b(e,t,{expand:i,indentBy:n=1}={}){e=(0,g.toArray)(e);i=i?c(e):e;for(const e of i){const i=e.getAttribute("listIndent")+n;i<0?d(e,t):t.setAttribute("listIndent",i,e)}return i}function d(e,t){for(const i of e=(0,g.toArray)(e))for(const e of i.getAttributeKeys())e.startsWith("list")&&t.removeAttribute(e,i);return e}function r(e){if(!e.length)return!1;const t=e[0].getAttribute("listItemId");return!!t&&!e.some(e=>e.getAttribute("listItemId")!=t)}function w(e){return Array.from(e).filter(e=>"$graveyard"!==e.root.rootName).sort((e,t)=>e.index-t.index)}function v(e){var t=e.document.selection.getSelectedElement();return t&&e.schema.isObject(t)&&e.schema.isBlock(t)?t:null}class O extends e.Command{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=F(e.document.selection);e.change(e=>{const t=[];r(i)&&!s(i[0])?("forward"==this._direction&&t.push(...b(i,e)),t.push(...l(i[0],e))):"forward"==this._direction?t.push(...b(i,e,{expand:!0})):t.push(...function(e,t){const i=c(e=(0,g.toArray)(e)),n=new Set,o=Math.min(...i.map(e=>e.getAttribute("listIndent"))),r=new Map;for(const e of i)r.set(e,x.first(e,{lowerIndent:!0}));for(const e of i)if(!n.has(e)){n.add(e);const i=e.getAttribute("listIndent")-1;if(i<0)d(e,t);else{if(e.getAttribute("listIndent")==o){a=e,s=r.get(e),l=t;const i=p(s,{direction:"forward"}).pop().index>a.index?f(a,s,l):[];for(const e of i)n.add(e);if(i.length)continue}t.setAttribute("listIndent",i,e)}}var a,s,l;return w(n)}(i,e));for(const i of t)if(i.hasAttribute("listType")){const t=x.first(i,{sameIndent:!0});t&&e.setAttribute("listType",t.getAttribute("listType"),i)}this._fireAfterExecute(t)})}_fireAfterExecute(e){this.fire("afterExecute",w(new Set(e)))}_checkEnabled(){let e=F(this.editor.model.document.selection),t=e[0];if(!t)return!1;if("backward"==this._direction)return!0;if(r(e)&&!s(e[0]))return!0;e=c(e),t=e[0];const i=x.first(t,{sameIndent:!0});return!!i&&i.getAttribute("listType")==t.getAttribute("listType")}}function F(e){const t=Array.from(e.getSelectedBlocks()),i=t.findIndex(e=>!h(e));return-1!=i&&(t.length=i),t}class H extends e.Command{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,o=t.document,r=v(t),a=Array.from(o.selection.getSelectedBlocks()).filter(e=>t.schema.checkAttribute(e,"listType")),s=void 0!==e.forceValue?!e.forceValue:this.value;t.change(e=>{if(s){const i=a[a.length-1],o=p(i,{direction:"forward"}),r=[];1<o.length&&r.push(...l(o[1],e)),r.push(...d(a,e)),r.push(...function(e,t){const i=[];let n=Number.POSITIVE_INFINITY;for(var{node:o}of u(e.nextSibling,"forward")){const e=o.getAttribute("listIndent");if(0==e)break;var r=e-(n=e<n?e:n);t.setAttribute("listIndent",r,o),i.push(o)}return i}(i,e)),this._fireAfterExecute(r)}else if((r||o.selection.isCollapsed)&&h(a[0])){var t=R(r||a[0]);for(const o of t)e.setAttribute("listType",this.type,o);this._fireAfterExecute(t)}else{const n=[];for(const o of a)if(o.hasAttribute("listType"))for(const r of c(o,{withNested:!1}))r.getAttribute("listType")!=this.type&&(e.setAttribute("listType",this.type,r),n.push(r));else e.setAttributes({listIndent:0,listItemId:m.next(),listType:this.type},o),n.push(o);this._fireAfterExecute(n)}})}_fireAfterExecute(e){this.fire("afterExecute",w(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const e of t)if(e.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model.document.selection,t=this.editor.model.schema,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const e of i)if(t.checkAttribute(e,"listType"))return!0;return!1}}class U extends e.Command{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:s=!1}={}){const l=this.editor.model,c=l.document.selection,d=[];l.change(t=>{const{firstElement:i,lastElement:n}=this._getMergeSubjectElements(c,s),o=i.getAttribute("listIndent")||0,e=n.getAttribute("listIndent"),r=n.getAttribute("listItemId");if(o!=e){a=n;const s=Array.from(new x(a,{direction:"forward",higherIndent:!0}));d.push(...b([n,...s],t,{indentBy:o-e,expand:o<e}))}var a;if(s){let e=c;c.isCollapsed&&(e=t.createSelection(t.createRange(t.createPositionAt(i,"end"),t.createPositionAt(n,0)))),l.deleteContent(e,{doNotResetEntireContent:c.isCollapsed});const x=e.getLastPosition().parent,o=x.nextSibling;d.push(x),o&&o!==n&&o.getAttribute("listItemId")==r&&d.push(...f(o,x,t))}else d.push(...f(n,i,t));this._fireAfterExecute(d)})}_fireAfterExecute(e){this.fire("afterExecute",w(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,i=v(e);if(t.isCollapsed||i){const e=i||t.getFirstPosition().parent;if(!h(e))return!1;var n="backward"==this._direction?e.previousSibling:e.nextSibling;if(!n)return!1;if(r([e,n]))return!1}else{const e=t.getLastPosition(),i=t.getFirstPosition();if(e.parent===i.parent)return!1;if(!h(e.parent))return!1}return!0}_getMergeSubjectElements(e,t){var i,n=v(this.editor.model);let o,r;return e.isCollapsed||n?(i=s(n=n||e.getFirstPosition().parent),"backward"==this._direction?(r=n,o=i&&!t?x.first(n,{sameIndent:!0,lowerIndent:!0}):n.previousSibling):(o=n,r=n.nextSibling)):(o=e.getFirstPosition().parent,r=e.getLastPosition().parent),{firstElement:o,lastElement:r}}}class W extends e.Command{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{e=l(this._getStartBlock(),e);this._fireAfterExecute(e)})}_fireAfterExecute(e){this.fire("afterExecute",w(new Set(e)))}_checkEnabled(){var e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&h(t)&&!s(t)}_getStartBlock(){var e=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?e:e.nextSibling}}function q(e){return e.is("element","ol")||e.is("element","ul")}function k(e){return e.is("element","li")}function Z(e){return"numbered"==e?"ol":"ul"}function K(e,t){return`list-${e}-`+t}function y(e,t){const i=e.nodeBefore;if(h(i)){let e=i;for({node:e}of u(e,"backward"))if(t.has(e))return;t.set(i,e)}else{const i=e.nodeAfter;h(i)&&t.set(i,i)}}var _=at(492);function Y(){return(e,t,i)=>{if(i.consumable.test(t.viewItem,{name:!0})){const n=new _.UpcastWriter(t.viewItem.document);for(const e of Array.from(t.viewItem.getChildren()))k(e)||q(e)||n.remove(e)}}}function $(v,k,y){n=v;const _=(t,i)=>{const e=[];for(const i of n)t.hasAttribute(i)&&e.push("attribute:"+i);return!!e.every(e=>!1!==i.test(t,e))&&(e.forEach(e=>i.consume(t,e)),!0)};var n;return(e,t,i)=>{const{writer:n,mapper:o,consumable:r}=i,a=t.item;if(v.includes(t.attributeKey)&&_(a,r)){var s,l,c,i=function(e,t){e=y.createRangeOn(e);return t.toViewRange(e).getTrimmed().getContainedElement()}(a,o);{var d=i;var u=n;let e=d.parent;for(;e.is("attributeElement")&&["ul","ol","li"].includes(e.name);){var m=e.parent;u.unwrap(u.createRangeOn(d),e),e=m}}var h=a,g=n.createRangeOn(i),p=k,f=n;if(h.hasAttribute("listIndent")){const b=h.getAttribute("listIndent");let t=h;for(let e=b;0<=e;e--){s=f,l=e,c=t.getAttribute("listItemId");const b=s.createAttributeElement("li",null,{priority:(2*l+1)/100-100,id:c}),w=function(e,t,i,n=K(i,t)){return e.createAttributeElement(Z(i),null,{priority:2*t/100-100,id:n})}(f,e,t.getAttribute("listType"));for(const h of p)t.hasAttribute(h.attributeName)&&h.setAttributeOnDowncast(f,t.getAttribute(h.attributeName),"list"==h.scope?w:b);if(g=f.wrap(g,b),g=f.wrap(g,w),0==e)break;if(!(t=x.first(t,{lowerIndent:!0})))break}}}}}function Q(i,{dataPipeline:n}={}){return(e,{writer:t})=>{if(G(e,i))return e=t.createContainerElement("span",{class:"ck-list-bogus-paragraph"}),n&&t.setCustomProperty("dataPipeline:transparentRendering",!0,e),e}}function G(e,t,i=a(e)){if(!h(e))return!1;for(const i of e.getAttributeKeys())if(!i.startsWith("selection:")&&!t.includes(i))return!1;return i.length<2}var i=at(62),i=at.n(i),n=at(78);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;const C=["listType","listIndent","listItemId"];class T extends e.Plugin{static get pluginName(){return"DocumentListEditing"}static get requires(){return[t.Enter,z.Delete]}constructor(e){super(e),this._downcastStrategies=[]}init(){const e=this.editor,t=e.model;if(e.plugins.has("ListEditing"))throw new g.CKEditorError("document-list-feature-conflict",this,{conflictPlugin:"ListEditing"});t.schema.extend("$container",{allowAttributes:C}),t.schema.extend("$block",{allowAttributes:C}),t.schema.extend("$blockObject",{allowAttributes:C});for(const e of C)t.schema.setAttributeProperties(e,{copyOnReplace:!0});e.commands.add("numberedList",new H(e,"numbered")),e.commands.add("bulletedList",new H(e,"bulleted")),e.commands.add("indentList",new O(e,"forward")),e.commands.add("outdentList",new O(e,"backward")),e.commands.add("mergeListItemBackward",new U(e,"backward")),e.commands.add("mergeListItemForward",new U(e,"forward")),e.commands.add("splitListItemBefore",new W(e,"before")),e.commands.add("splitListItemAfter",new W(e,"after")),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),i=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),i&&i.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}_getListAttributeNames(){return[...C,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const o=this.editor,r=o.commands.get("mergeListItemBackward"),a=o.commands.get("mergeListItemForward");this.listenTo(o.editing.view.document,"delete",(t,i)=>{const n=o.model.document.selection;v(o.model)||o.model.change(()=>{var e=n.getFirstPosition();if(n.isCollapsed&&"backward"==i.direction){if(e.isAtStart){const a=e.parent;if(h(a)){if(x.first(a,{sameAttributes:"listType",sameIndent:!0})||0!==a.getAttribute("listIndent")){if(!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:J(o.model,"backward")})}else B(a)||o.execute("splitListItemAfter"),o.execute("outdentList");i.preventDefault(),t.stop()}}}else n.isCollapsed&&!n.getLastPosition().isAtEnd||a.isEnabled&&(a.execute({shouldMergeOnBlocksContentLevel:J(o.model,"forward")}),i.preventDefault(),t.stop())})},{context:"li"})}_setupEnterIntegration(){const o=this.editor,r=o.model,t=o.commands,e=t.get("enter");this.listenTo(o.editing.view.document,"enter",(e,t)=>{const i=r.document,n=i.selection.getFirstPosition().parent;if(i.selection.isCollapsed&&h(n)&&n.isEmpty&&!t.isSoft){const r=s(n),i=B(n);r&&i?(o.execute("outdentList"),t.preventDefault(),e.stop()):r&&!i?(o.execute("splitListItemAfter"),t.preventDefault(),e.stop()):i&&(o.execute("splitListItemBefore"),t.preventDefault(),e.stop())}},{context:"li"}),this.listenTo(e,"afterExecute",()=>{const e=t.get("splitListItemBefore");e.refresh(),e.isEnabled&&2===a(o.model.document.selection.getLastPosition().parent).length&&e.execute()})}_setupTabIntegration(){const n=this.editor;this.listenTo(n.editing.view.document,"tab",(e,t)=>{var i=t.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(n.execute(i),t.stopPropagation(),t.preventDefault(),e.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,i=this._getListAttributeNames();function s(e,t){if(e.is("element","paragraph")){const i=l.mapper.toViewElement(e);if(i)return(e=G(e,c,t))&&i.is("element","p")||!e&&i.is("element","span")}}var o,l,c,d;e.conversion.for("upcast").elementToElement({view:"li",model:"paragraph"}).add(e=>{e.on("element:li",(e,t,i)=>{const{writer:n,schema:o}=i;if(t.modelRange){const a=Array.from(t.modelRange.getItems({shallow:!0})).filter(e=>o.checkAttribute(e,"listItemId"));if(a.length){var r={listItemId:m.next(),listIndent:function(e){let t=0,i=e.parent;for(;i;){if(k(i))t++;else{const e=i.previousSibling;e&&k(e)&&t++}i=i.parent}return t}(t.viewItem),listType:t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted"};for(const e of a)h(e)||n.setAttributes(r,e);1<a.length&&a[1].getAttribute("listItemId")!=r.listItemId&&i.keepEmptyElement(a[0])}}}),e.on("element:ul",Y(),{priority:"high"}),e.on("element:ol",Y(),{priority:"high"})}),e.conversion.for("editingDowncast").elementToElement({model:"paragraph",view:Q(i),converterPriority:"high"}),e.conversion.for("dataDowncast").elementToElement({model:"paragraph",view:Q(i,{dataPipeline:!0}),converterPriority:"high"}),e.conversion.for("downcast").add(e=>{e.on("attribute",$(i,this._downcastStrategies,t))}),this.listenTo(t.document,"change:data",(o=t,l=e.editing,c=i,d=this,()=>{const e=o.document.differ.getChanges(),t=[],i=new Map,n=new Set;for(const o of e)if("insert"==o.type&&"$text"!=o.name)y(o.position,i),o.attributes.has("listItemId")?n.add(o.position.nodeAfter):y(o.position.getShiftedBy(o.length),i);else if("remove"==o.type&&o.attributes.has("listItemId"))y(o.position,i);else if("attribute"==o.type){const l=o.range.start.nodeAfter;c.includes(o.attributeKey)?(y(o.range.start,i),null===o.attributeNewValue?(y(o.range.start.getShiftedBy(1),i),s(l)&&t.push(l)):n.add(l)):h(l)&&s(l)&&t.push(l)}for(const o of i.values())t.push(...function(e,t){const i=[],n=new Set,o=[];for(var{node:r,previous:a}of u(e,"forward"))if(!n.has(r)){const e=r.getAttribute("listIndent"),u=(a&&e<a.getAttribute("listIndent")&&(o.length=e+1),o[e]=Object.fromEntries(Array.from(r.getAttributes()).filter(([e])=>c.includes(e))),p(r,{direction:"forward"}));for(const e of u)n.add(e),(s(e,u)||function(e,t,i){if(i.has(e))return;const n=l.mapper.toViewElement(e);let o=t.length-1;for(let e=n.parent;!e.is("editableElement");e=e.parent){const l=k(e),i=q(e);if(i||l){const n="checkAttributes:"+(l?"item":"list");if(d.fire(n,{viewElement:e,modelAttributes:t[o]}))break;if(i&&--o<0)return}}return 1}(e,o,t))&&i.push(e)}return i}(o,n));for(const o of new Set(t))l.reconvertItem(o)})),this.on("checkAttributes:item",(e,{viewElement:t,modelAttributes:i})=>{t.id!=i.listItemId&&(e.return=!0,e.stop())}),this.on("checkAttributes:list",(e,{viewElement:t,modelAttributes:i})=>{t.name==Z(i.listType)&&t.id==K(i.listType,i.listIndent)||(e.return=!0,e.stop())})}_setupModelPostFixing(){const c=this.editor.model,d=this._getListAttributeNames();c.document.registerPostFixer(t=>{{var i=c,n=t,o=d,r=this;const s=i.document.differ.getChanges(),l=new Map;let e=!1;for(const r of s)if("insert"==r.type&&"$text"!=r.name){const s=r.position.nodeAfter;if(!i.schema.checkAttribute(s,"listItemId"))for(const i of Array.from(s.getAttributeKeys()))o.includes(i)&&(n.removeAttribute(i,s),e=!0);y(r.position,l),r.attributes.has("listItemId")||y(r.position.getShiftedBy(r.length),l);for(const{item:n,previousPosition:o}of i.createRangeIn(s))h(n)&&y(o,l)}else"remove"==r.type?y(r.position,l):"attribute"==r.type&&o.includes(r.attributeKey)&&(y(r.range.start,l),null===r.attributeNewValue&&y(r.range.start.getShiftedBy(1),l));var a=new Set;for(const i of l.values())e=r.fire("postFixer",{listNodes:new D(i),listHead:i,writer:n,seenIds:a})||e;return e}}),this.on("postFixer",(e,{listNodes:t,writer:i})=>{e.return=function(t,i){let n=0,o=-1,r=null,a=!1;for(var{node:s}of t){const t=s.getAttribute("listIndent");if(t>n){let e;(e=null===r?(r=t-n,n):t-(r=r>t?t:r))>o+1&&(e=o+1),i.setAttribute("listIndent",e,s),a=!0,o=e}else r=null,n=t+1,o=t}return a}(t,i)||e.return},{priority:"high"}),this.on("postFixer",(e,{listNodes:t,writer:i,seenIds:n})=>{e.return=function(e,i,n){const o=new Set;let r=!1;for(var{node:a}of e)if(!o.has(a)){let e=a.getAttribute("listType"),t=a.getAttribute("listItemId");i.has(t)&&(t=m.next()),i.add(t);for(const i of p(a,{direction:"forward"}))o.add(i),i.getAttribute("listType")!=e&&(t=m.next(),e=i.getAttribute("listType")),i.getAttribute("listItemId")!=t&&(n.setAttribute("listItemId",t,i),r=!0)}return r}(t,n,i)||e.return},{priority:"high"})}_setupClipboardIntegration(){const i=this.editor.model;var a;this.listenTo(i,"insertContent",(a=i,(e,[i,n])=>{const o=i.is("documentFragment")?i.getChild(0):i;if(h(o)){let e;i=(e=n?a.createSelection(n):a.document.selection).getFirstPosition();let t=null;if(h(i.parent)?t=i.parent:h(i.nodeBefore)&&(t=i.nodeBefore),t){const r=t.getAttribute("listIndent")-o.getAttribute("listIndent");r<=0||a.change(e=>{for(var{node:t}of u(o,"forward"))e.setAttribute("listIndent",t.getAttribute("listIndent")+r,t)})}}}),{priority:"high"}),this.listenTo(i,"getSelectedContent",(t,[e])=>{r(Array.from(e.getSelectedBlocks()))&&i.change(e=>d(Array.from(t.return.getChildren()),e))})}}function J(e,t){const i=e.document.selection;if(!i.isCollapsed)return!v(e);if("forward"===t)return!0;var t=i.getFirstPosition().parent,n=t.previousSibling;return!e.schema.isObject(n)&&(!!n.isEmpty||r([t,n]))}var I=at(273);function A(e,t){const i=t.mapper,n=t.writer,o="numbered"==e.getAttribute("listType")?"ol":"ul",r=function(){const e=n.createContainerElement("li");return e.getFillerOffset=ae,e}(),a=n.createContainerElement(o,null);return n.insert(n.createPositionAt(a,0),r),i.bindElements(e,r),r}function S(t,i,n,e){const o=i.parent,r=n.mapper,a=n.writer;let s=r.toViewPosition(e.createPositionBefore(t));const l=E(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),c=t.previousSibling;if(l&&l.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=r.toViewElement(l);s=a.breakContainer(a.createPositionAfter(t))}else if(c&&"listItem"==c.name){s=r.toViewPosition(e.createPositionAt(c,"end"));const t=r.findMappedViewAncestor(s),i=te(t);s=i?a.createPositionBefore(i):a.createPositionAt(t,"end")}else s=r.toViewPosition(e.createPositionBefore(t));if(s=X(s),a.insert(s,o),c&&"listItem"==c.name){const t=r.toViewElement(c),n=a.createRange(a.createPositionAt(t,0),s).getWalker({ignoreElementEnd:!0});for(const t of n)if(t.item.is("element","li")){const e=a.breakContainer(a.createPositionBefore(t.item)),o=t.item.parent,r=a.createPositionAt(i,"end");L(a,r.nodeBefore,r.nodeAfter),a.move(a.createRangeOn(o),r),n.position=e}}else{const n=o.nextSibling;if(n&&(n.is("element","ul")||n.is("element","ol"))){let e=null;for(const i of n.getChildren()){const n=r.toModelElement(i);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;e=i}e&&(a.breakContainer(a.createPositionAfter(e)),a.move(a.createRangeOn(e.parent),a.createPositionAt(i,"end")))}}L(a,o,o.nextSibling),L(a,o.previousSibling,o)}function L(e,t,i){return!t||!i||"ul"!=t.name&&"ol"!=t.name||t.name!=i.name||t.getAttribute("class")!==i.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function X(e){return e.getLastMatchingPosition(e=>e.item.is("uiElement"))}function E(e,t){var i=!!t.sameIndent,n=!!t.smallerIndent,o=t.listIndent;let r=e;for(;r&&"listItem"==r.name;){const e=r.getAttribute("listIndent");if(i&&o==e||n&&o>e)return r;r="forward"===t.direction?r.nextSibling:r.previousSibling}return null}function ee(n,o,r,a){n.ui.componentFactory.add(o,e=>{const t=n.commands.get(o),i=new I.ButtonView(e);return i.set({label:r,icon:a,tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),i.on("execute",()=>{n.execute(o),n.editing.view.focus()}),i})}function te(e){for(const t of e.getChildren())if("ul"==t.name||"ol"==t.name)return t;return null}function ie(e,t){const i=[],n=e.parent,o={ignoreElementEnd:!0,startPosition:e,shallow:!0,direction:t},r=n.getAttribute("listIndent"),a=[...new _.TreeWalker(o)].filter(e=>e.item.is("element")).map(e=>e.item);for(const e of a){if(!e.is("element","listItem"))break;if(e.getAttribute("listIndent")<r)break;if(!(e.getAttribute("listIndent")>r)){if(e.getAttribute("listType")!==n.getAttribute("listType"))break;if(e.getAttribute("listStyle")!==n.getAttribute("listStyle"))break;if(e.getAttribute("listReversed")!==n.getAttribute("listReversed"))break;if(e.getAttribute("listStart")!==n.getAttribute("listStart"))break;"backward"===t?i.unshift(e):i.push(e)}}return i}function ne(i){var e=[...i.document.selection.getSelectedBlocks()].filter(e=>e.is("element","listItem")).map(t=>{var e=i.change(e=>e.createPositionAt(t,0));return[...ie(e,"backward"),...ie(e,"forward")]}).flat();return[...new Set(e)]}const oe=["disc","circle","square"],re=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function ae(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:_.getFillerOffset.call(this)}const se='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',le='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class ce extends e.Plugin{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;ee(this.editor,"numberedList",e("Numbered List"),se),ee(this.editor,"bulletedList",e("Bulleted List"),le)}}class de extends e.Plugin{static get requires(){return[T,ce]}static get pluginName(){return"DocumentList"}}class ue extends e.Command{refresh(){var e=this._getValue();this.value=e,this.isEnabled=null!=e}execute(i={}){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks()).filter(e=>h(e)&&"numbered"==e.getAttribute("listType"));n=o(n),e.change(e=>{for(const t of n)e.setAttribute("listStart",i.startIndex||1,t)})}_getValue(){const e=this.editor.model.document,t=(0,g.first)(e.selection.getSelectedBlocks());return t&&h(t)&&"numbered"==t.getAttribute("listType")?t.getAttribute("listStart"):null}}const me={},he={},ge={},pe=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:e,typeAttribute:t,listType:at}of pe)me[e]=at,he[e]=t,t&&(ge[t]=e);function fe(e){return me[e]||null}function be(e){return he[e]||null}class we extends e.Command{constructor(e,t,i){super(e),this._defaultType=t,this._supportedTypes=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const e=this.editor.model,n=e.document;e.change(e=>{this._tryToConvertItemsToList(i);var t=Array.from(n.selection.getSelectedBlocks()).filter(e=>e.hasAttribute("listType"));if(t.length)for(const n of o(t))e.setAttribute("listStyle",i.type||this._defaultType,n)})}isStyleTypeSupported(e){return!this._supportedTypes||this._supportedTypes.includes(e)}_getValue(){const e=(0,g.first)(this.editor.model.document.selection.getSelectedBlocks());return h(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),i=e.commands.get("bulletedList");return t.isEnabled||i.isEnabled}_tryToConvertItemsToList(e){if(e.type){e=fe(e.type);if(e){const t=this.editor,i=e+"List";t.commands.get(i).value||t.execute(i)}}}}class ve extends e.Command{refresh(){var e=this._getValue();this.value=e,this.isEnabled=null!=e}execute(i={}){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks()).filter(e=>h(e)&&"numbered"==e.getAttribute("listType"));n=o(n),e.change(e=>{for(const t of n)e.setAttribute("listReversed",!!i.reversed,t)})}_getValue(){const e=this.editor.model.document,t=(0,g.first)(e.selection.getSelectedBlocks());return h(t)&&"numbered"==t.getAttribute("listType")?t.getAttribute("listReversed"):null}}function ke(s){return(t,i,n)=>{const{writer:o,schema:r,consumable:a}=n;if(!1!==a.test(i.viewItem,s.viewConsumables)){i.modelRange||Object.assign(i,n.convertChildren(i.viewItem,i.modelCursor));let e=!1;for(const t of i.modelRange.getItems({shallow:!0}))r.checkAttribute(t,s.attributeName)&&s.appliesToListItem(t)&&(t.hasAttribute(s.attributeName)||(o.setAttribute(s.attributeName,s.getAttributeOnUpcast(i.viewItem),t),e=!0));e&&a.consume(i.viewItem,s.viewConsumables)}}}const M="default";class ye extends e.Plugin{static get requires(){return[T]}static get pluginName(){return"DocumentListPropertiesEditing"}constructor(e){super(e),e.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const e=this.editor,t=e.model,i=e.plugins.get(T),l=function(e){const t=[];if(e.styles){const n="object"==typeof e.styles&&e.styles.useAttribute;t.push({attributeName:"listStyle",defaultValue:M,viewConsumables:{styles:"list-style-type"},addCommand(e){let t=pe.map(e=>e.listStyle);n&&(t=t.filter(e=>!!be(e))),e.commands.add("listStyle",new we(e,M,t))},appliesToListItem:()=>!0,hasValidAttribute(e){if(!e.hasAttribute("listStyle"))return!1;var t=e.getAttribute("listStyle");return t==M||fe(t)==e.getAttribute("listType")},setAttributeOnDowncast(e,t,i){if(t&&t!==M){if(!n)return void e.setStyle("list-style-type",t,i);{const n=be(t);if(n)return void e.setAttribute("type",n,i)}}e.removeStyle("list-style-type",i),e.removeAttribute("type",i)},getAttributeOnUpcast(e){var t=e.getStyle("list-style-type");if(t)return t;t=e.getAttribute("type");return t?ge[t]||null:M}})}return e.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(e){e.commands.add("listReversed",new ve(e))},appliesToListItem:e=>"numbered"==e.getAttribute("listType"),hasValidAttribute(e){return this.appliesToListItem(e)==e.hasAttribute("listReversed")},setAttributeOnDowncast(e,t,i){t?e.setAttribute("reversed","reversed",i):e.removeAttribute("reversed",i)},getAttributeOnUpcast:e=>e.hasAttribute("reversed")}),e.startIndex&&t.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(e){e.commands.add("listStart",new ue(e))},appliesToListItem:e=>"numbered"==e.getAttribute("listType"),hasValidAttribute(e){return this.appliesToListItem(e)==e.hasAttribute("listStart")},setAttributeOnDowncast(e,t,i){t&&1<t?e.setAttribute("start",t,i):e.removeAttribute("start",i)},getAttributeOnUpcast:e=>e.getAttribute("start")||1}),t}(e.config.get("list.properties"));for(const n of l)n.addCommand(e),t.schema.extend("$container",{allowAttributes:n.attributeName}),t.schema.extend("$block",{allowAttributes:n.attributeName}),t.schema.extend("$blockObject",{allowAttributes:n.attributeName}),i.registerDowncastStrategy({scope:"list",attributeName:n.attributeName,setAttributeOnDowncast(e,t,i){n.setAttributeOnDowncast(e,t,i)}});e.conversion.for("upcast").add(e=>{for(const t of l)e.on("element:ol",ke(t)),e.on("element:ul",ke(t))}),i.on("checkAttributes:list",(e,{viewElement:t,modelAttributes:i})=>{for(const n of l)n.getAttributeOnUpcast(t)!=i[n.attributeName]&&(e.return=!0,e.stop())}),this.listenTo(e.commands.get("indentList"),"afterExecute",(e,i)=>{t.change(e=>{for(const t of i)for(const i of l)i.appliesToListItem(t)&&e.setAttribute(i.attributeName,i.defaultValue,t)})}),i.on("postFixer",(e,{listNodes:t,writer:i})=>{for(var{node:n}of t)for(const t of l)t.hasValidAttribute(n)||(t.appliesToListItem(n)?i.setAttribute(t.attributeName,t.defaultValue,n):i.removeAttribute(t.attributeName,n),e.return=!0)}),i.on("postFixer",(t,{listNodes:i,writer:n})=>{const o=[];for(var{node:r,previous:a}of i)if(a){const i=r.getAttribute("listIndent"),s=a.getAttribute("listIndent");let e=null;if(i>s?o[s]=a:i<s?(e=o[i],o.length=i):e=a,e&&e.getAttribute("listType")==r.getAttribute("listType"))for(const i of l){const l=i["attributeName"];if(i.appliesToListItem(r)){const o=e.getAttribute(l);r.getAttribute(l)!=o&&(n.setAttribute(l,o,r),t.return=!0)}}}})}}n=at(389);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class _e extends I.View{constructor(e,t){super(e);const i=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid"),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",i.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:i.if("isCollapsed","hidden"),"aria-labelledby":i.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const e=new I.ButtonView(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:'<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",e=>String(e))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",e=>!e),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}n=at(543);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class xe extends I.View{constructor(e,{enabledProperties:t,styleButtonViews:i,styleGridAriaLabel:n}){super(e);const o=["ck","ck-list-properties"];this.children=this.createCollection(),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new g.FocusTracker,this.keystrokes=new g.KeystrokeHandler,this.focusables=new I.ViewCollection,this.focusCycler=new I.FocusCycler({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.styles?(this.stylesView=this._createStylesView(i,n),this.children.add(this.stylesView)):o.push("ck-list-properties_without-styles"),(t.startIndex||t.reversed)&&(this._addNumberedListPropertyViews(t,i),o.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:o},children:this.children})}render(){if(super.render(),this.stylesView){for(const t of this.stylesView.children)this.focusables.add(t),this.focusTracker.add(t.element);(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element))}var e;this.startIndexFieldView&&(this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element),this.listenTo(this.startIndexFieldView.element,"selectstart",(e,t)=>{t.stopPropagation()},{priority:"high"}),this.keystrokes.set("arrowright",e=e=>e.stopPropagation()),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)),this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,t){const i=new I.View(this.locale);return i.children=i.createCollection(this.locale),i.children.addMany(e),i.setTemplate({tag:"div",attributes:{"aria-label":t,class:["ck","ck-list-styles-list"]},children:i.children}),i.children.delegate("execute").to(this),i}_addNumberedListPropertyViews(e){const t=this.locale.t,i=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),i.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),i.push(this.reversedSwitchButtonView)),e.styles?(this.additionalPropertiesCollapsibleView=new _e(this.locale,i),this.additionalPropertiesCollapsibleView.set({label:t("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(i,"isEnabled",(...e)=>e.some(e=>e)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(e,t,i)=>{i||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(i)}_createStartIndexField(){const i=this.locale.t,n=new I.LabeledFieldView(this.locale,I.createLabeledInputNumber);return n.set({label:i("Start at"),class:"ck-numbered-list-properties__start-index"}),n.fieldView.set({min:1,step:1,value:1,inputMode:"numeric"}),n.fieldView.on("input",()=>{const e=n.fieldView.element,t=e.valueAsNumber;Number.isNaN(t)||(e.checkValidity()?this.fire("listStart",{startIndex:t}):n.errorText=i("Start index must be greater than 0."))}),n}_createReversedSwitchButton(){const e=this.locale.t,t=new I.SwitchButtonView(this.locale);return t.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),t.delegate("execute").to(this,"listReversed"),t}}n=at(657);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class Ce extends e.Plugin{static get pluginName(){return"ListPropertiesUI"}init(){const e=this.editor,t=e.locale.t,i=e.config.get("list.properties");i.styles&&e.ui.componentFactory.add("bulletedList",Te({editor:e,parentCommandName:"bulletedList",buttonLabel:t("Bulleted List"),buttonIcon:le,styleGridAriaLabel:t("Bulleted list styles toolbar"),styleDefinitions:[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(i.styles||i.startIndex||i.reversed)&&e.ui.componentFactory.add("numberedList",Te({editor:e,parentCommandName:"numberedList",buttonLabel:t("Numbered List"),buttonIcon:se,styleGridAriaLabel:t("Numbered list styles toolbar"),styleDefinitions:[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lowerroman list style"),tooltip:t("Lowerroman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upperroman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lowerlatin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upperlatin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function Te({editor:n,parentCommandName:o,buttonLabel:r,buttonIcon:a,styleGridAriaLabel:s,styleDefinitions:l}){const c=n.commands.get(o);return e=>{const t=(0,I.createDropdown)(e,I.SplitButtonView),i=t.buttonView;t.bind("isEnabled").to(c),t.class="ck-list-styles-dropdown",i.on("execute",()=>{n.execute(o),n.editing.view.focus()}),i.set({label:r,icon:a,tooltip:!0,isToggleable:!0}),i.bind("isOn").to(c,"value",e=>!!e);e=function({editor:i,dropdownView:t,parentCommandName:e,styleDefinitions:n,styleGridAriaLabel:o}){const r=i.locale,a=i.config.get("list.properties");let s;if("numberedList"!=e&&(a.startIndex=!1,a.reversed=!1),a.styles){const t=i.commands.get("listStyle"),o=function({editor:r,listStyleCommand:a,parentCommandName:e}){const s=r.locale,l=r.commands.get(e);return({label:e,type:t,icon:i,tooltip:n})=>{const o=new I.ButtonView(s);return o.set({label:e,icon:i,tooltip:n}),a.on("change:value",()=>{o.isOn=a.value===t}),o.on("execute",()=>{l.value?a.value!==t?r.execute("listStyle",{type:t}):r.execute("listStyle",{type:a._defaultType}):r.model.change(()=>{r.execute("listStyle",{type:t})}),r.editing.view.focus()}),o}}({editor:i,parentCommandName:e,listStyleCommand:t}),r="function"==typeof t.isStyleTypeSupported?e=>t.isStyleTypeSupported(e.type):()=>!0;s=n.filter(r).map(o)}const l=new xe(r,{styleGridAriaLabel:o,enabledProperties:a,styleButtonViews:s});if(a.startIndex){const t=i.commands.get("listStart");l.startIndexFieldView.bind("isEnabled").to(t),l.startIndexFieldView.fieldView.bind("value").to(t),l.on("listStart",(e,t)=>i.execute("listStart",t))}if(a.reversed){const t=i.commands.get("listReversed");l.reversedSwitchButtonView.bind("isEnabled").to(t),l.reversedSwitchButtonView.bind("isOn").to(t,"value"),l.on("listReversed",()=>{var e=t.value;i.execute("listReversed",{reversed:!e})})}return l.delegate("execute").to(t),l}({editor:n,dropdownView:t,parentCommandName:o,styleGridAriaLabel:s,styleDefinitions:l});return t.panelView.children.add(e),t}}class Ie extends e.Plugin{static get requires(){return[ye,Ce]}static get pluginName(){return"DocumentListProperties"}}class Ae extends e.Command{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.document,r=Array.from(i.selection.getSelectedBlocks()).filter(e=>Le(e,t.schema)),a=void 0!==e.forceValue?!e.forceValue:this.value;t.change(n=>{if(a){let e=r[r.length-1].nextSibling,t=Number.POSITIVE_INFINITY,i=[];for(;e&&"listItem"==e.name&&0!==e.getAttribute("listIndent");){const n=e.getAttribute("listIndent"),r=n-(t=n<t?n:t);i.push({element:e,listIndent:r}),e=e.nextSibling}for(const o of i=i.reverse())n.setAttribute("listIndent",o.listIndent,o.element)}if(!a){let e=Number.POSITIVE_INFINITY;for(const t of r)t.is("element","listItem")&&t.getAttribute("listIndent")<e&&(e=t.getAttribute("listIndent"));e=0===e?1:e,Se(r,!0,e),Se(r,!1,e)}for(const e of r.reverse())a&&"listItem"==e.name?n.rename(e,"paragraph"):a||"listItem"==e.name?a||"listItem"!=e.name||e.getAttribute("listType")==this.type||n.setAttribute("listType",this.type,e):(n.setAttributes({listType:this.type,listIndent:0},e),n.rename(e,"listItem"));this.fire("_executeCleanup",r)})}_getValue(){const e=(0,g.first)(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=(0,g.first)(e.getSelectedBlocks());return!!i&&Le(i,t)}}function Se(i,n,o){const r=n?i[0]:i[i.length-1];if(r.is("element","listItem")){let e=r[n?"previousSibling":"nextSibling"],t=r.getAttribute("listIndent");for(;e&&e.is("element","listItem")&&e.getAttribute("listIndent")>=o;)t>e.getAttribute("listIndent")&&(t=e.getAttribute("listIndent")),e.getAttribute("listIndent")==t&&i[n?"unshift":"push"](e),e=e[n?"previousSibling":"nextSibling"]}}function Le(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}class Ee extends e.Command{constructor(e,t){super(e),this._indentBy="forward"==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(e=>{const t=n[n.length-1];let i=t.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>t.getAttribute("listIndent");)n.push(i),i=i.nextSibling;for(const t of n=this._indentBy<0?n.reverse():n){const n=t.getAttribute("listIndent")+this._indentBy;n<0?e.rename(t,"paragraph"):e.setAttribute("listIndent",n,t)}this.fire("_executeCleanup",n)})}_checkEnabled(){const t=(0,g.first)(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(0<this._indentBy){var i=t.getAttribute("listIndent"),n=t.getAttribute("listType");let e=t.previousSibling;for(;e&&e.is("element","listItem")&&e.getAttribute("listIndent")>=i;){if(e.getAttribute("listIndent")==i)return e.getAttribute("listType")==n;e=e.previousSibling}return!1}return!0}}function Me(o){return(e,t,i)=>{const n=i.consumable;n.test(t.item,"insert")&&n.test(t.item,"attribute:listType")&&n.test(t.item,"attribute:listIndent")&&(n.consume(t.item,"insert"),n.consume(t.item,"attribute:listType"),n.consume(t.item,"attribute:listIndent"),S(t=t.item,A(t,i),i,o))}}function Ne(e,t,i){if(i.consumable.test(t.item,e.name)){const n=i.mapper.toViewElement(t.item),o=i.writer;o.breakContainer(o.createPositionBefore(n)),o.breakContainer(o.createPositionAfter(n));e=n.parent,i="numbered"==t.attributeNewValue?"ol":"ul";o.rename(i,e)}}function Ve(e,t,i){i.consumable.consume(t.item,e.name);e=i.mapper.toViewElement(t.item).parent,t=i.writer;L(t,e,e.nextSibling),L(t,e.previousSibling,e)}function je(e,i,n){if(n.consumable.test(i.item,e.name)&&"listItem"!=i.item.name){let t=n.mapper.toViewPosition(i.range.start);const o=n.writer,r=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&"li"==(t=o.breakContainer(t)).parent.name;){const i=t,n=o.createPositionAt(t.parent,"end");if(!i.isEqual(n)){const e=o.remove(o.createRange(i,n));r.push(e)}t=o.createPositionAfter(t.parent)}if(0<r.length){for(let e=0;e<r.length;e++){const n=t.nodeBefore;if(t=o.insert(t,r[e]).end,0<e){const i=L(o,n,n.nextSibling);i&&i.parent==n&&t.offset--}}L(o,t.nodeBefore,t.nodeAfter)}}}function Pe(e,t,i){var t=i.mapper.toViewPosition(t.position),n=t.nodeBefore,t=t.nodeAfter;L(i.writer,n,t)}function ze(e,t,i){if(i.consumable.consume(t.viewItem,{name:!0})){const e=i.writer,o=e.createElement("listItem"),r=function(e){let t=0,i=e.parent;for(;i;){if(i.is("element","li"))t++;else{const e=i.previousSibling;e&&e.is("element","li")&&t++}i=i.parent}return t}(t.viewItem);e.setAttribute("listIndent",r,o);var n=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";e.setAttribute("listType",n,o),i.safeInsert(o,t.modelCursor)&&(n=function(e,t,i){const{writer:n,schema:o}=i;let r=n.createPositionAfter(e);for(const a of t)if("ul"==a.name||"ol"==a.name)r=i.convertItem(a,r).modelCursor;else{const t=i.convertItem(a,n.createPositionAt(e,"end")),s=t.modelRange.start.nodeAfter;s&&s.is("element")&&!o.checkChild(e,s.name)&&(e=t.modelCursor.parent.is("element","listItem")?t.modelCursor.parent:function(e){const t=new _.TreeWalker({startPosition:e});let i;for(;i=t.next(),!i.value.item.is("element","listItem"););return i.value.item}(t.modelCursor),r=n.createPositionAfter(e))}return r}(o,t.viewItem.getChildren(),i),t.modelRange=e.createRange(t.modelCursor,n),i.updateConversionResult(o,t))}}function De(e,t,i){if(i.consumable.test(t.viewItem,{name:!0})){const e=Array.from(t.viewItem.getChildren());for(const t of e)t.is("element","li")||N(t)||t._remove()}}function Re(t,i,e){if(e.consumable.test(i.viewItem,{name:!0})&&0!==i.viewItem.childCount){const t=[...i.viewItem.getChildren()];let e=!1;for(const i of t)e&&!N(i)&&i._remove(),N(i)&&(e=!0)}}function Be(r){return(e,t)=>{if(!t.isPhantom){const i=t.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const e=t.mapper.toViewElement(i),n=e.getAncestors().find(N),o=r.createPositionAt(e,0).getWalker();for(const r of o){if("elementStart"==r.type&&r.item.is("element","li")){t.viewPosition=r.previousPosition;break}if("elementEnd"==r.type&&r.item==n){t.viewPosition=r.nextPosition;break}}}}}}function Oe(t,[e,i]){let n,o=e.is("documentFragment")?e.getChild(0):e;if(n=i?this.createSelection(i):this.document.selection,o&&o.is("element","listItem")){const t=n.getFirstPosition();let e=null;if(t.parent.is("element","listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("element","listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(0<t)for(;o&&o.is("element","listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+t),o=o.nextSibling}}}function Fe(e,t,i,n,o,r){const a=E(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),s=o.mapper,l=o.writer,c=a?a.getAttribute("listIndent"):null;let d;if(a)if(c==e){const e=s.toViewElement(a).parent;d=l.createPositionAfter(e)}else{const e=r.createPositionAt(a,"end");d=s.toViewPosition(e)}else d=i;d=X(d);for(const e of[...n.getChildren()])N(e)&&(d=l.move(l.createRangeOn(e),d).end,L(l,e,e.nextSibling),L(l,e.previousSibling,e))}function N(e){return e.is("element","ol")||e.is("element","ul")}class V extends e.Plugin{static get pluginName(){return"ListEditing"}static get requires(){return[t.Enter,z.Delete]}init(){const u=this.editor,e=(u.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]}),u.data),t=u.editing;u.model.document.registerPostFixer(e=>{{var o=u.model,r=e;const c=o.document.differ.getChanges(),d=new Map;let n=!1;for(const d of c)if("insert"==d.type&&"listItem"==d.name)t(d.position);else if("insert"==d.type&&"listItem"!=d.name){if("$text"!=d.name){const c=d.position.nodeAfter;c.hasAttribute("listIndent")&&(r.removeAttribute("listIndent",c),n=!0),c.hasAttribute("listType")&&(r.removeAttribute("listType",c),n=!0),c.hasAttribute("listStyle")&&(r.removeAttribute("listStyle",c),n=!0),c.hasAttribute("listReversed")&&(r.removeAttribute("listReversed",c),n=!0),c.hasAttribute("listStart")&&(r.removeAttribute("listStart",c),n=!0);for(const r of Array.from(o.createRangeIn(c)).filter(e=>e.item.is("element","listItem")))t(r.previousPosition)}t(d.position.getShiftedBy(d.length))}else"remove"==d.type&&"listItem"==d.name?t(d.position):("attribute"==d.type&&"listIndent"==d.attributeKey||"attribute"==d.type&&"listType"==d.attributeKey)&&t(d.range.start);for(const o of d.values()){{a=void 0;s=void 0;var a=o;let t=0,i=null;for(;a&&a.is("element","listItem");){var s=a.getAttribute("listIndent");if(s>t){let e;e=null===i?(i=s-t,t):(i>s&&(i=s),s-i),r.setAttribute("listIndent",e,a),n=!0}else i=null,t=a.getAttribute("listIndent")+1;a=a.nextSibling}}{i=void 0;l=void 0;var i=o;let t=[],e=null;for(;i&&i.is("element","listItem");){var l=i.getAttribute("listIndent");if(e&&e.getAttribute("listIndent")>l&&(t=t.slice(0,l+1)),0!=l)if(t[l]){const e=t[l];i.getAttribute("listType")!=e&&(r.setAttribute("listType",e,i),n=!0)}else t[l]=i.getAttribute("listType");i=(e=i).nextSibling}}}return n;function t(e){const i=e.nodeBefore;if(i&&i.is("element","listItem")){let t=i;if(!d.has(t)){for(let e=t.previousSibling;e&&e.is("element","listItem");e=t.previousSibling)if(t=e,d.has(t))return;d.set(i,t)}}else{const i=e.nodeAfter;i&&i.is("element","listItem")&&d.set(i,i)}}}}),t.mapper.registerViewToModelLength("li",He),e.mapper.registerViewToModelLength("li",He),t.mapper.on("modelToViewPosition",Be(t.view)),t.mapper.on("viewToModelPosition",(l=u.model,(i,n)=>{const o=n.viewPosition,r=o.parent,a=n.mapper;if("ul"==r.name||"ol"==r.name){if(o.isAtEnd){const i=a.toModelElement(o.nodeBefore),r=a.getModelLength(o.nodeBefore);n.modelPosition=l.createPositionBefore(i).getShiftedBy(r)}else{const i=a.toModelElement(o.nodeAfter);n.modelPosition=l.createPositionBefore(i)}i.stop()}else if("li"==r.name&&o.nodeBefore&&("ul"==o.nodeBefore.name||"ol"==o.nodeBefore.name)){var s=a.toModelElement(r);let e=1,t=o.nodeBefore;for(;t&&N(t);)e+=a.getModelLength(t),t=t.previousSibling;n.modelPosition=l.createPositionBefore(s).getShiftedBy(e),i.stop()}})),e.mapper.on("modelToViewPosition",Be(t.view)),u.conversion.for("editingDowncast").add(e=>{var l,s;e.on("insert",je,{priority:"high"}),e.on("insert:listItem",Me(u.model)),e.on("attribute:listType:listItem",Ne,{priority:"high"}),e.on("attribute:listType:listItem",Ve,{priority:"low"}),e.on("attribute:listIndent:listItem",(s=u.model,(e,t,i)=>{if(i.consumable.consume(t.item,"attribute:listIndent")){const r=i.mapper.toViewElement(t.item),a=i.writer;a.breakContainer(a.createPositionBefore(r)),a.breakContainer(a.createPositionAfter(r));var n=r.parent,o=n.previousSibling,n=a.createRangeOn(n);a.remove(n),o&&o.nextSibling&&L(a,o,o.nextSibling),Fe(t.attributeOldValue+1,t.range.start,n.start,r,i,s),S(t.item,r,i,s);for(const s of t.item.getChildren())i.consumable.consume(s,"insert")}})),e.on("remove:listItem",(l=u.model,(e,t,i)=>{const n=i.mapper.toViewPosition(t.position).getLastMatchingPosition(e=>!e.item.is("element","li")).nodeAfter,o=i.writer;o.breakContainer(o.createPositionBefore(n)),o.breakContainer(o.createPositionAfter(n));var r=n.parent,a=r.previousSibling,r=o.createRangeOn(r),s=o.remove(r);a&&a.nextSibling&&L(o,a,a.nextSibling),Fe(i.mapper.toModelElement(n).getAttribute("listIndent")+1,t.position,r.start,n,i,l);for(const l of o.createRangeIn(s).getItems())i.mapper.unbindViewElement(l);e.stop()})),e.on("remove",Pe,{priority:"low"})}),u.conversion.for("dataDowncast").add(e=>{e.on("insert",je,{priority:"high"}),e.on("insert:listItem",Me(u.model))}),u.conversion.for("upcast").add(e=>{e.on("element:ul",De,{priority:"high"}),e.on("element:ol",De,{priority:"high"}),e.on("element:li",Re,{priority:"high"}),e.on("element:li",ze)}),u.model.on("insertContent",Oe,{priority:"high"}),u.commands.add("numberedList",new Ae(u,"numbered")),u.commands.add("bulletedList",new Ae(u,"bulleted")),u.commands.add("indentList",new Ee(u,"forward")),u.commands.add("outdentList",new Ee(u,"backward"));var l,i=t.view.document;this.listenTo(i,"enter",(e,t)=>{const i=this.editor.model.document,n=i.selection.getLastPosition().parent;i.selection.isCollapsed&&"listItem"==n.name&&n.isEmpty&&(this.editor.execute("outdentList"),t.preventDefault(),e.stop())},{context:"li"}),this.listenTo(i,"delete",(e,t)=>{if("backward"===t.direction){const n=this.editor.model.document.selection;var i;!n.isCollapsed||!(i=n.getFirstPosition()).isAtStart||"listItem"!==(i=i.parent).name||i.previousSibling&&"listItem"===i.previousSibling.name||(this.editor.execute("outdentList"),t.preventDefault(),e.stop())}},{context:"li"}),this.listenTo(u.editing.view.document,"tab",(e,t)=>{var i=t.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(u.execute(i),t.stopPropagation(),t.preventDefault(),e.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),i=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),i&&i.registerChildCommand(e.get("outdentList"))}}function He(e){let t=1;for(const i of e.getChildren())if("ul"==i.name||"ol"==i.name)for(const e of i.getChildren())t+=He(e);return t}class Ue extends e.Plugin{static get requires(){return[V,ce]}static get pluginName(){return"List"}}class We extends e.Command{constructor(e,t){super(e),this._defaultType=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){this._tryToConvertItemsToList(i);const e=this.editor.model,n=ne(e);n.length&&e.change(e=>{for(const t of n)e.setAttribute("listStyle",i.type||this._defaultType,t)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),i=e.commands.get("bulletedList");return t.isEnabled||i.isEnabled}_tryToConvertItemsToList(e){if(e.type){e=e.type;e=oe.includes(e)?"bulleted":re.includes(e)?"numbered":null;if(e){const t=this.editor,i=e+"List";t.commands.get(i).value||t.execute(i)}}}}class qe extends e.Command{refresh(){var e=this._getValue();this.value=e,this.isEnabled=null!=e}execute(i={}){const e=this.editor.model,n=ne(e).filter(e=>"numbered"==e.getAttribute("listType"));e.change(e=>{for(const t of n)e.setAttribute("listReversed",!!i.reversed,t)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")&&"numbered"==e.getAttribute("listType")?e.getAttribute("listReversed"):null}}class Ze extends e.Command{refresh(){var e=this._getValue();this.value=e,this.isEnabled=null!=e}execute(i={}){const e=this.editor.model,n=ne(e).filter(e=>"numbered"==e.getAttribute("listType"));e.change(e=>{for(const t of n)e.setAttribute("listStart",i.startIndex||1,t)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")&&"numbered"==e.getAttribute("listType")?e.getAttribute("listStart"):null}}const j="default";class Ke extends e.Plugin{static get requires(){return[V]}static get pluginName(){return"ListPropertiesEditing"}constructor(e){super(e),e.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const e=this.editor,t=e.model,i=function(e){const t=[];return e.styles&&t.push({attributeName:"listStyle",defaultValue:j,addCommand(e){e.commands.add("listStyle",new We(e,j))},appliesToListItem:()=>!0,setAttributeOnDowncast(e,t,i){t&&t!==j?e.setStyle("list-style-type",t,i):e.removeStyle("list-style-type",i)},getAttributeOnUpcast:e=>e.getStyle("list-style-type")||j}),e.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,addCommand(e){e.commands.add("listReversed",new qe(e))},appliesToListItem:e=>"numbered"==e.getAttribute("listType"),setAttributeOnDowncast(e,t,i){t?e.setAttribute("reversed","reversed",i):e.removeAttribute("reversed",i)},getAttributeOnUpcast:e=>e.hasAttribute("reversed")}),e.startIndex&&t.push({attributeName:"listStart",defaultValue:1,addCommand(e){e.commands.add("listStart",new Ze(e))},appliesToListItem:e=>"numbered"==e.getAttribute("listType"),setAttributeOnDowncast(e,t,i){1!=t?e.setAttribute("start",t,i):e.removeAttribute("start",i)},getAttributeOnUpcast:e=>e.getAttribute("start")||1}),t}(e.config.get("list.properties"));t.schema.extend("listItem",{allowAttributes:i.map(e=>e.attributeName)});for(const t of i)t.addCommand(e);var r,n,a,s,l,c,d,u;this.listenTo(e.commands.get("indentList"),"_executeCleanup",(d=e,u=i,(e,t)=>{const i=t[0],n=i.getAttribute("listIndent"),o=t.filter(e=>e.getAttribute("listIndent")===n);let r=null;i.previousSibling.getAttribute("listIndent")+1!==n&&(r=E(i.previousSibling,{sameIndent:!0,direction:"backward",listIndent:n})),d.model.change(e=>{for(const t of o)for(const i of u)if(i.appliesToListItem(t)){const u=null==r?i.defaultValue:r.getAttribute(i.attributeName);e.setAttribute(i.attributeName,u,t)}})})),this.listenTo(e.commands.get("outdentList"),"_executeCleanup",(l=e,c=i,(e,n)=>{if((n=n.reverse().filter(e=>e.is("element","listItem"))).length){const o=n[0].getAttribute("listIndent"),t=n[0].getAttribute("listType");let i=n[0].previousSibling;if(i.is("element","listItem"))for(;i.getAttribute("listIndent")!==o;)i=i.previousSibling;else i=null;(i=i||n[n.length-1].nextSibling)&&i.is("element","listItem")&&i.getAttribute("listType")===t&&l.model.change(e=>{const t=n.filter(e=>e.getAttribute("listIndent")===o);for(const n of t)for(const t of c)if(t.appliesToListItem(n)){const c=t.attributeName,o=i.getAttribute(c);e.setAttribute(c,o,n)}})}})),this.listenTo(e.commands.get("bulletedList"),"_executeCleanup",Ye(e)),this.listenTo(e.commands.get("numberedList"),"_executeCleanup",Ye(e)),t.document.registerPostFixer((a=e,s=i,e=>{let t=!1;const i=$e(a.model.document.differ.getChanges()).filter(e=>"todo"!==e.getAttribute("listType"));if(!i.length)return t;let n=i[i.length-1].nextSibling;if((!n||!n.is("element","listItem"))&&(n=i[0].previousSibling)){const a=i[0].getAttribute("listIndent");for(;n.is("element","listItem")&&n.getAttribute("listIndent")!==a&&(n=n.previousSibling););}for(const a of s){const s=a.attributeName;for(const o of i)if(a.appliesToListItem(o))if(o.hasAttribute(s)){const i=o.previousSibling;!function(e,t,i){if(!e||!e.is("element","listItem"))return;if(t.getAttribute("listType")!==e.getAttribute("listType"))return;var n=e.getAttribute("listIndent");if(n<1||n!==t.getAttribute("listIndent"))return;n=e.getAttribute(i);return n&&n!==t.getAttribute(i)}(i,o,a.attributeName)||(e.setAttribute(s,i.getAttribute(s),o),t=!0)}else!function(e,t,i){if(!e)return;var n=e.getAttribute(i.attributeName);return n&&n!=i.defaultValue&&e.getAttribute("listType")===t.getAttribute("listType")}(n,o,a)?e.setAttribute(s,a.defaultValue,o):e.setAttribute(s,n.getAttribute(s),o),t=!0;else e.removeAttribute(s,o)}return t})),e.conversion.for("upcast").add((r=i,e=>{e.on("element:li",(e,t,i)=>{var n=t.viewItem.parent;if(n){var o=t.modelRange.start.nodeAfter||t.modelRange.end.nodeBefore;for(const e of r)if(e.appliesToListItem(o)){const t=e.getAttributeOnUpcast(n);i.writer.setAttribute(e.attributeName,t,o)}}},{priority:"low"})})),e.conversion.for("downcast").add((n=i,e=>{for(const l of n)e.on(`attribute:${l.attributeName}:listItem`,(e,t,i)=>{const n=i.writer,o=t.item,r=E(o.previousSibling,{sameIndent:!0,listIndent:o.getAttribute("listIndent"),direction:"backward"}),a=i.mapper.toViewElement(o);var s;i=o,(s=r)&&i.getAttribute("listType")===s.getAttribute("listType")&&i.getAttribute("listIndent")===s.getAttribute("listIndent")&&i.getAttribute("listStyle")===s.getAttribute("listStyle")&&i.getAttribute("listReversed")===s.getAttribute("listReversed")&&i.getAttribute("listStart")===s.getAttribute("listStart")||n.breakContainer(n.createPositionBefore(a)),l.setAttributeOnDowncast(n,t.attributeNewValue,a.parent)},{priority:"low"})})),this._mergeListAttributesWhileMergingLists(i)}afterInit(){const e=this.editor;var i;e.commands.get("todoList")&&e.model.document.registerPostFixer((i=e,e=>{var t=$e(i.model.document.differ.getChanges()).filter(e=>"todo"===e.getAttribute("listType")&&(e.hasAttribute("listStyle")||e.hasAttribute("listReversed")||e.hasAttribute("listStart")));if(!t.length)return!1;for(const i of t)e.removeAttribute("listStyle",i),e.removeAttribute("listReversed",i),e.removeAttribute("listStart",i);return!0}))}_mergeListAttributesWhileMergingLists(o){const e=this.editor.model;let a;this.listenTo(e,"deleteContent",(e,[t])=>{const i=t.getFirstPosition(),n=t.getLastPosition();if(i.parent!==n.parent&&i.parent.is("element","listItem")){const o=n.parent.nextSibling;if(o&&o.is("element","listItem")){const r=E(i.parent,{sameIndent:!0,listIndent:o.getAttribute("listIndent")});r&&r.getAttribute("listType")===o.getAttribute("listType")&&(a=r)}}},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{a&&(e.change(e=>{const t=E(a.nextSibling,{sameIndent:!0,listIndent:a.getAttribute("listIndent"),direction:"forward"});if(t){const i=[t,...ie(e.createPositionAt(t,0),"forward")];for(const t of i)for(const i of o)if(i.appliesToListItem(t)){const o=i.attributeName,n=a.getAttribute(o);e.setAttribute(o,n,t)}}else a=null}),a=null)},{priority:"low"})}}function Ye(t){return(e,i)=>{i=i.filter(e=>e.is("element","listItem")),t.model.change(e=>{for(const t of i)e.removeAttribute("listStyle",t)})}}function $e(e){const t=[];for(const n of e){const e="attribute"===(i=n).type?i.range.start.nodeAfter:"insert"===i.type?i.position.nodeAfter:null;e&&e.is("element","listItem")&&t.push(e)}var i;return t}class Qe extends e.Plugin{static get requires(){return[Ke,Ce]}static get pluginName(){return"ListProperties"}}const P="todoListChecked";class Ge extends e.Command{constructor(e){super(e),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(e=>!!e.getAttribute("todoListChecked")),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const e=this.editor.model,t=e.schema,i=e.document.selection.getFirstRange(),n=i.start.parent,o=[];t.checkAttribute(n,P)&&o.push(n);for(const e of i.getItems())t.checkAttribute(e,P)&&!o.includes(e)&&o.push(e);return o}execute(i={}){this.editor.model.change(e=>{for(const t of this._selectedElements)(void 0===i.forceValue?!this.value:i.forceValue)?e.setAttribute(P,!0,t):e.removeAttribute(P,t)})}}function Je(e,t,i){const n=t.modelCursor,o=n.parent,r=t.viewItem;if("checkbox"==r.getAttribute("type")&&"listItem"==o.name&&n.isAtStart&&i.consumable.consume(r,{name:!0})){const a=i.writer;a.setAttribute("listType","todo",o),t.viewItem.hasAttribute("checked")&&a.setAttribute("todoListChecked",!0,o),t.modelRange=a.createRange(n)}}function Xe(r){return(e,t)=>{const i=t.modelPosition,n=i.parent;var o;!n.is("element","listItem")||"todo"!=n.getAttribute("listType")||(o=tt(t.mapper.toViewElement(n),r))&&(t.viewPosition=t.mapper.findPositionIn(o,i.offset))}}function et(n,e,o,r){return e.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(e){const t=(0,g.createElement)(document,"input",{type:"checkbox"}),i=(o&&t.setAttribute("checked","checked"),t.addEventListener("change",()=>r(n)),this.toDomElement(e));return i.appendChild(t),i})}function tt(e,t){t=t.createRangeIn(e);for(const e of t)if(e.item.is("containerElement","span")&&e.item.hasClass("todo-list__label__description"))return e.item}const it=(0,g.parseKeystroke)("Ctrl+Enter");class nt extends e.Plugin{static get pluginName(){return"TodoListEditing"}static get requires(){return[V]}init(){const i=this.editor,{editing:e,data:t,model:n}=i;n.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),n.schema.addAttributeCheck((e,t)=>{const i=e.last;if("todoListChecked"==t&&"listItem"==i.name&&"todo"!=i.getAttribute("listType"))return!1}),i.commands.add("todoList",new Ae(i,"todo"));var d,u,a,s,l,m,h,c,o=new Ge(i);i.commands.add("checkTodoList",o),i.commands.add("todoListCheck",o),t.downcastDispatcher.on("insert:listItem",(c=n,(e,t,i)=>{const n=i.consumable;if(n.test(t.item,"insert")&&n.test(t.item,"attribute:listType")&&n.test(t.item,"attribute:listIndent")&&"todo"==t.item.getAttribute("listType")){const a=t.item,s=(n.consume(a,"insert"),n.consume(a,"attribute:listType"),n.consume(a,"attribute:listIndent"),n.consume(a,"attribute:todoListChecked"),i.writer),l=A(a,i);s.addClass("todo-list",l.parent);var t=s.createContainerElement("label",{class:"todo-list__label"}),o=s.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),r=s.createContainerElement("span",{class:"todo-list__label__description"});a.getAttribute("todoListChecked")&&s.setAttribute("checked","checked",o),s.insert(s.createPositionAt(l,0),t),s.insert(s.createPositionAt(t,0),o),s.insert(s.createPositionAfter(o),r),S(a,l,i,c)}}),{priority:"high"}),t.upcastDispatcher.on("element:input",Je,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",(m=n,h=e=>this._handleCheckmarkChange(e),(e,t,i)=>{const n=i.consumable;if(n.test(t.item,"insert")&&n.test(t.item,"attribute:listType")&&n.test(t.item,"attribute:listIndent")&&"todo"==t.item.getAttribute("listType")){const o=t.item,r=(n.consume(o,"insert"),n.consume(o,"attribute:listType"),n.consume(o,"attribute:listIndent"),n.consume(o,"attribute:todoListChecked"),i.writer),a=A(o,i),s=!!o.getAttribute("todoListChecked"),l=et(o,r,s,h),c=r.createContainerElement("span",{class:"todo-list__label__description"});r.addClass("todo-list",a.parent),r.insert(r.createPositionAt(a,0),l),r.insert(r.createPositionAfter(l),c),S(o,a,i,m)}}),{priority:"high"}),e.downcastDispatcher.on("attribute:listType:listItem",(d=e=>this._handleCheckmarkChange(e),u=e.view,(e,t,i)=>{if(i.consumable.consume(t.item,e.name)){const n=i.mapper.toViewElement(t.item),o=i.writer,r=function(e){var t=u.createRangeIn(e);for(const e of t)if(e.item.is("uiElement","label"))return e.item}(n);if("todo"==t.attributeNewValue){const e=!!t.item.getAttribute("todoListChecked"),i=et(t.item,o,e,d),r=o.createContainerElement("span",{class:"todo-list__label__description"}),u=o.createRangeIn(n),a=te(n),s=X(u.start),l=a?o.createPositionBefore(a):u.end,c=o.createRange(s,l);o.addClass("todo-list",n.parent),o.move(c,o.createPositionAt(r,0)),o.insert(o.createPositionAt(n,0),i),o.insert(o.createPositionAfter(i),r)}else if("todo"==t.attributeOldValue){const e=tt(n,u);o.removeClass("todo-list",n.parent),o.remove(r),o.move(o.createRangeIn(e),o.createPositionBefore(e)),o.remove(e)}}})),e.downcastDispatcher.on("attribute:todoListChecked:listItem",(l=e=>this._handleCheckmarkChange(e),(e,t,i)=>{if("todo"==t.item.getAttribute("listType")&&i.consumable.consume(t.item,"attribute:todoListChecked")){const{mapper:n,writer:o}=i,r=!!t.item.getAttribute("todoListChecked"),a=n.toViewElement(t.item).getChild(0),s=et(t.item,o,r,l);o.insert(o.createPositionAfter(a),s),o.remove(a)}})),e.mapper.on("modelToViewPosition",Xe(e.view)),t.mapper.on("modelToViewPosition",Xe(e.view)),this.listenTo(e.view.document,"arrowKey",(a=n,s=i.locale,(e,t)=>{if("left"==(0,g.getLocalizedArrowKeyCodeDirection)(t.keyCode,s.contentLanguageDirection)){const i=a.schema,n=a.document.selection;if(n.isCollapsed){const o=n.getFirstPosition(),r=o.parent;if("listItem"===r.name&&"todo"==r.getAttribute("listType")&&o.isAtStart){const s=i.getNearestSelectionRange(a.createPositionBefore(r),"backward");s&&a.change(e=>e.setSelection(s)),t.preventDefault(),t.stopPropagation(),e.stop()}}}}),{context:"li"}),this.listenTo(e.view.document,"keydown",(e,t)=>{(0,g.getCode)(t)===it&&(i.execute("checkTodoList"),e.stop())},{priority:"high"});const r=new Set;this.listenTo(n,"applyOperation",(e,t)=>{const i=t[0];if("rename"==i.type&&"listItem"==i.oldName){const e=i.position.nodeAfter;e.hasAttribute("todoListChecked")&&r.add(e)}else if("changeAttribute"==i.type&&"listType"==i.key&&"todo"===i.oldValue)for(const e of i.range.getItems())e.hasAttribute("todoListChecked")&&"todo"!==e.getAttribute("listType")&&r.add(e)}),n.document.registerPostFixer(e=>{let t=!1;for(const i of r)e.removeAttribute("todoListChecked",i),t=!0;return r.clear(),t})}_handleCheckmarkChange(t){const i=this.editor,e=i.model,n=Array.from(e.document.selection.getRanges());e.change(e=>{e.setSelection(t,"end"),i.execute("checkTodoList"),e.setSelection(n)})}}class ot extends e.Plugin{static get pluginName(){return"TodoListUI"}init(){const e=this.editor.t;ee(this.editor,"todoList",e("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}n=at(250);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class rt extends e.Plugin{static get requires(){return[nt,ot]}static get pluginName(){return"TodoList"}}})(),(window.CKEditor5=window.CKEditor5||{}).list=st})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Insert media":"Insert media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Paste the media URL in the input.":"Paste the media URL in the input.","The URL must not be empty.":"The URL must not be empty.","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster."})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={461:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const n=i},721:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{opacity:1;visibility:visible}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',""]);const n=i},961:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const n=i},764:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-vertical-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},945:(e,t,i)=>{e.exports=i(79)("./src/clipboard.js")},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},254:(e,t,i)=>{e.exports=i(79)("./src/undo.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},995:(e,t,i)=>{e.exports=i(79)("./src/widget.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function T(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,T),t.exports}T.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return T.d(t,{a:t}),t},T.d=(e,t)=>{for(var i in t)T.o(t,i)&&!T.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},T.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),T.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},T.nc=void 0;var I={};(()=>{"use strict";T.r(I),T.d(I,{AutoMediaEmbed:()=>k,MediaEmbed:()=>x,MediaEmbedEditing:()=>g,MediaEmbedToolbar:()=>C,MediaEmbedUI:()=>_});var n=T(704),s=T(995),l=T(209);function c(s,l){return e=>{e.on("attribute:url:media",t)};function t(e,t,i){if(i.consumable.consume(t.item,e.name)){const n=t.attributeNewValue,o=i.writer,r=i.mapper.toViewElement(t.item),a=[...r.getChildren()].find(e=>e.getCustomProperty("media-content"));o.remove(a);e=s.getMediaViewElement(o,n,l);o.insert(o.createPositionAt(r,0),e)}}}function i(e){var t,e=e.getSelectedElement();return e&&((t=e).getCustomProperty("media")&&(0,s.isWidget)(t))?e:null}function d(e,t,i,n){return e.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(e,i,n),e.createSlot()])}function o(e){const t=e.getSelectedElement();return t&&t.is("element","media")?t:null}function u(t,i,n,o){t.change(e=>{e=e.createElement("media",{url:i});t.insertObject(e,n,null,{setSelection:"on",findOptimalPosition:o})})}class m extends n.Command{refresh(){const e=this.editor.model,t=e.document.selection,i=o(t);var n;this.value=i?i.getAttribute("url"):null,this.isEnabled=!!(n=t.getSelectedElement())&&"media"===n.name||function(e,t){let i=(0,s.findOptimalInsertionRange)(e,t).start.parent;return i.isEmpty&&!t.schema.isLimit(i)&&(i=i.parent),t.schema.checkChild(i,"media")}(t,e)}execute(t){const e=this.editor.model,i=e.document.selection,n=o(i);n?e.change(e=>{e.setAttribute("url",t,n)}):u(e,t,i,!0)}}var h=T(273);class t{constructor(e,t){const i=t.providers,n=t.extraProviders||[],o=new Set(t.removeProviders),r=i.concat(n).filter(e=>{var t=e.name;return t?!o.has(t):((0,l.logWarning)("media-embed-no-provider-name",{provider:e}),!1)});this.locale=e,this.providerDefinitions=r}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,i){return this._getMedia(t).getViewElement(e,i)}_getMedia(e){if(!e)return new r(this.locale);e=e.trim();for(const n of this.providerDefinitions){var t=n.html;for(const o of(0,l.toArray)(n.url)){var i=this._getUrlMatches(e,o);if(i)return new r(this.locale,e,i,t)}}return null}_getUrlMatches(e,t){let i=e.match(t);if(i)return i;let n=e.replace(/^https?:\/\//,"");return(i=n.match(t))||(n=n.replace(/^www\./,""),(i=n.match(t))||null)}}class r{constructor(e,t,i,n){this.url=this._getValidUrl(t),this._t=e.t,this._match=i,this._previewRenderer=n}getViewElement(e,t){const i={};let n;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),t.renderForEditingView&&(i.class="ck-media__wrapper");const o=this._getPreviewHtml(t);n=e.createRawElement("div",i,(e,t)=>{t.setContentOf(e,o)})}else this.url&&(i.url=this.url),n=e.createEmptyElement(t.elementName,i);return e.setCustomProperty("media-content",!0,n),n}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new h.TooltipView,t=new h.IconView;return e.text=this._t("Open media in new tab"),t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new h.Template({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var e=T(62),e=T.n(e),a=T(721);e()(a.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),a.Z.locals;class g extends n.Plugin{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new t(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,n=e.t,i=e.conversion,o=e.config.get("mediaEmbed.previewsInData"),r=e.config.get("mediaEmbed.elementName"),a=this.registry;e.commands.add("mediaEmbed",new m(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),i.for("dataDowncast").elementToStructure({model:"media",view:(e,{writer:t})=>{e=e.getAttribute("url");return d(t,a,e,{elementName:r,renderMediaPreview:e&&o})}}),i.for("dataDowncast").add(c(a,{elementName:r,renderMediaPreview:o})),i.for("editingDowncast").elementToStructure({model:"media",view:(e,{writer:t})=>{var i,e=e.getAttribute("url");return e=d(t,a,e,{elementName:r,renderForEditingView:!0}),t=t,i=n("media widget"),t.setCustomProperty("media",!0,e),(0,s.toWidget)(e,t,{label:i})}}),i.for("editingDowncast").add(c(a,{elementName:r,renderForEditingView:!0})),i.for("upcast").elementToElement({view:e=>["oembed",r].includes(e.name)&&e.getAttribute("url")?{name:!0}:null,model:(e,{writer:t})=>{e=e.getAttribute("url");if(a.hasMedia(e))return t.createElement("media",{url:e})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(e,{writer:t})=>{e=e.getAttribute("data-oembed-url");if(a.hasMedia(e))return t.createElement("media",{url:e})}}).add(e=>{e.on("element:figure",function(e,t,i){if(i.consumable.consume(t.viewItem,{name:!0,classes:"media"})){const{modelRange:n,modelCursor:o}=i.convertChildren(t.viewItem,t.modelCursor);t.modelRange=n,t.modelCursor=o,(0,l.first)(n.getItems())||i.consumable.revert(t.viewItem,{name:!0,classes:"media"})}})})}}var p=T(492),f=T(945),b=T(181),w=T(254);const v=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class k extends n.Plugin{static get requires(){return[f.Clipboard,b.Delete,w.Undo]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,n=e.model.document;this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const e=n.selection.getFirstRange(),t=p.LivePosition.fromPosition(e.start),i=(t.stickiness="toPrevious",p.LivePosition.fromPosition(e.end));i.stickiness="toNext",n.once("change:data",()=>{this._embedMediaBetweenPositions(t,i),t.detach(),i.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(l.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const i=this.editor,n=i.plugins.get(g).registry,o=new p.LiveRange(e,t),r=o.getWalker({ignoreElementEnd:!0});let a="";for(const e of r)e.item.is("$textProxy")&&(a+=e.item.data);(a=a.trim()).match(v)&&n.hasMedia(a)&&i.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=p.LivePosition.fromPosition(e),this._timeoutId=l.global.window.setTimeout(()=>{i.model.change(e=>{let t;this._timeoutId=null,e.remove(o),o.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(t=this._positionToInsert),u(i.model,a,t,!1),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get("Delete").requestUndoOnBackspace()},100)):o.detach()}}a=T(764),e()(a.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),a.Z.locals,a=T(961);e()(a.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),a.Z.locals;class y extends h.View{constructor(e,t){super(t);const i=t.t;this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),n.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",e=>!!e),this.cancelButtonView=this._createButton(i("Cancel"),n.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new h.ViewCollection,this._focusCycler=new h.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),(0,h.injectCssTransitionDisabler)(this)}render(){super.render(),(0,h.submitHandler)({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);var e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(e,t)=>{t.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){var e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new h.LabeledFieldView(this.locale,h.createLabeledInputText),i=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,i.on("input",()=>{t.infoText=i.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=i.element.value.trim()}),t}_createButton(e,t,i,n){const o=new h.ButtonView(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:i}}),n&&o.delegate("execute").to(this,n),o}}class _ extends n.Plugin{static get requires(){return[g]}static get pluginName(){return"MediaEmbedUI"}init(){const o=this.editor,r=o.commands.get("mediaEmbed"),a=o.plugins.get(g).registry;o.ui.componentFactory.add("mediaEmbed",e=>{var t,i,e=(0,h.createDropdown)(e),n=new y((t=o.t,i=a,[e=>{if(!e.url.length)return t("The URL must not be empty.")},e=>{if(!i.hasMedia(e.url))return t("This media URL is not supported.")}]),o.locale);return this._setUpDropdown(e,n,r,o),this._setUpForm(e,n,r),e})}_setUpDropdown(e,t,i){const n=this.editor,o=n.t,r=e.buttonView;function a(){n.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(i),e.panelView.children.add(t),r.set({label:o("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),r.on("open",()=>{t.disableCssTransitions(),t.url=i.value||"",t.urlInputView.fieldView.select(),t.focus(),t.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{t.isValid()&&(n.execute("mediaEmbed",t.url),a())}),e.on("change:isOpen",()=>t.resetFormStatus()),e.on("cancel",()=>a())}_setUpForm(e,t,i){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(i,"value"),t.urlInputView.bind("isReadOnly").to(i,"isEnabled",e=>!e)}}a=T(461);e()(a.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),a.Z.locals;class x extends n.Plugin{static get requires(){return[g,_,k,s.Widget]}static get pluginName(){return"MediaEmbed"}}class C extends n.Plugin{static get requires(){return[s.WidgetToolbarRepository]}static get pluginName(){return"MediaEmbedToolbar"}afterInit(){const e=this.editor,t=e.t;e.plugins.get(s.WidgetToolbarRepository).register("mediaEmbed",{ariaLabel:t("Media toolbar"),items:e.config.get("mediaEmbed.toolbar")||[],getRelatedElement:i})}}})(),(window.CKEditor5=window.CKEditor5||{}).mediaEmbed=I})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Page break":"Page break"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={587:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-content .page-break{align-items:center;clear:both;display:flex;justify-content:center;padding:5px 0;position:relative}.ck-content .page-break:after{border-bottom:2px dashed #c4c4c4;content:"";position:absolute;width:100%}.ck-content .page-break__label{background:#fff;border:1px solid #c4c4c4;border-radius:2px;box-shadow:2px 2px 1px rgba(0,0,0,.15);color:#333;display:block;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;padding:.3em .6em;position:relative;text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},995:(e,t,i)=>{e.exports=i(79)("./src/widget.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,c),t.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var i in t)c.o(t,i)&&!c.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nc=void 0;var d={};(()=>{"use strict";c.r(d),c.d(d,{PageBreak:()=>l,PageBreakEditing:()=>o,PageBreakUI:()=>s});var e=c(704),a=c(995);class n extends e.Command{refresh(){var t,i,e=this.editor.model,n=e.schema,o=e.document.selection;this.isEnabled=(t=o,o=n,i=e,n=function(){const e=(0,a.findOptimalInsertionRange)(t,i).start.parent;return e.isEmpty&&!e.is("element","$root")?e.parent:e}(),o.checkChild(n,"pageBreak"))}execute(){const t=this.editor.model;t.change(e=>{e=e.createElement("pageBreak");t.insertObject(e,null,null,{setSelection:"after"})})}}var t=c(62),t=c.n(t),i=c(587);t()(i.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),i.Z.locals;class o extends e.Plugin{static get pluginName(){return"PageBreakEditing"}init(){const e=this.editor,t=e.model.schema,r=e.t,i=e.conversion;t.register("pageBreak",{inheritAllFrom:"$blockObject"}),i.for("dataDowncast").elementToStructure({model:"pageBreak",view:(e,{writer:t})=>t.createContainerElement("div",{class:"page-break",style:"page-break-after: always"},t.createContainerElement("span",{style:"display: none"}))}),i.for("editingDowncast").elementToStructure({model:"pageBreak",view:(e,{writer:t})=>{var i=r("Page break"),n=t.createContainerElement("div"),o=t.createRawElement("span",{class:"page-break__label"},function(e){e.innerText=r("Page break")});return t.addClass("page-break",n),t.insert(t.createPositionAt(n,0),o),o=n,n=i,(i=t).setCustomProperty("pageBreak",!0,o),(0,a.toWidget)(o,i,{label:n})}}),i.for("upcast").elementToElement({view:e=>{const t="always"==e.getStyle("page-break-before"),i="always"==e.getStyle("page-break-after");if(t||i){if(1==e.childCount){const t=e.getChild(0);if(!t.is("element","span")||"none"!=t.getStyle("display"))return}else if(1<e.childCount)return;return{name:!0}}},model:"pageBreak",converterPriority:"high"}),e.commands.add("pageBreak",new n(e))}}var r=c(273);class s extends e.Plugin{static get pluginName(){return"PageBreakUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add("pageBreak",e=>{const t=n.commands.get("pageBreak"),i=new r.ButtonView(e);return i.set({label:o("Page break"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z"/><path d="M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z"/><path d="M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(t,"isEnabled"),this.listenTo(i,"execute",()=>{n.execute("pageBreak"),n.editing.view.focus()}),i})}}class l extends e.Plugin{static get requires(){return[o,s,a.Widget]}static get pluginName(){return"PageBreak"}}})(),(window.CKEditor5=window.CKEditor5||{}).pageBreak=d})(),(()=>{var i={945:(e,t,i)=>{e.exports=i(79)("./src/clipboard.js")},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function m(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return i[e](t,t.exports,m),t.exports}m.d=(e,t)=>{for(var i in t)m.o(t,i)&&!m.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},m.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var h={};(()=>{"use strict";m.r(h),m.d(h,{PasteFromOffice:()=>u});var e=m(704),t=m(945),v=m(492);function n(e,r){if(e.childCount){const a=new v.UpcastWriter(e.document),s=function(e,t){const i=t.createRangeIn(e),n=new v.Matcher({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[];for(const e of i)if("elementStart"===e.type&&n.match(e.item)){const t=function(e){const t={},i=e.getStyle("mso-list");if(i){const e=i.match(/(^|\s{1,100})l(\d+)/i),n=i.match(/\s{0,100}lfo(\d+)/i),o=i.match(/\s{0,100}level(\d+)/i);e&&n&&o&&(t.id=e[2],t.order=n[1],t.indent=o[1])}return t}(e.item);o.push({element:e.item,id:t.id,order:t.order,indent:t.indent})}return o}(e,a);if(s.length){let n=null,o=1;s.forEach((t,e)=>{var i=function(e){if(!e)return!0;if(e.id!==t.id)return t.indent-e.indent!=1;var e=t.element.previousSibling;return!e||!((e=e).is("element","ol")||e.is("element","ul"))}(s[e-1]),e=i?null:s[e-1],e=e?t.indent-e.indent:t.indent-1;if(i&&(n=null,o=1),!n||0!=e){const s=function(t,e){const i=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi"),n=i.exec(e);let o="decimal",r="ol",a=null;if(n&&n[1]){const e=/mso-level-number-format:([^;]{0,100});/gi.exec(n[1]);if(e&&e[1]&&(o=e[1].trim(),r="bullet"!==o&&"image"!==o?"ol":"ul"),"bullet"===o){const e=function(){var e=function(e){if(e.getChild(0).is("$text"))return null;for(const t of e.getChildren())if(t.is("element","span")){const e=t.getChild(0);return e.is("$text")?e:e.getChild(0)}}(t.element);if(!e)return null;e=e._data;return"o"===e?"circle":""===e?"disc":""===e?"square":null}();e&&(o=e)}else{const t=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi.exec(n[1]);t&&t[1]&&(a=parseInt(t[1]))}}return{type:r,startIndex:a,style:function(e){if(e.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(e){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return e;default:return null}}(o)}}(t,r);if(n){if(t.indent>o){const t=n.getChild(n.childCount-1),r=t.getChild(t.childCount-1);n=l(s,r,a),o+=1}else if(t.indent<o){const r=o-t.indent;n=function(e,t){var i=e.getAncestors({parentFirst:!0});let n=null,o=0;for(const e of i)if("ul"!==e.name&&"ol"!==e.name||o++,o===t){n=e;break}return n}(n,r),o=parseInt(t.indent)}}else n=l(s,t.element,a);t.indent<=o&&(n.is("element",s.type)||(n=a.rename(s.type,n)))}i=function(e,t){{var i=e,n=t;const o=new v.Matcher({name:"span",styles:{"mso-list":"Ignore"}}),r=n.createRangeIn(i);for(const i of r)"elementStart"===i.type&&o.match(i.item)&&n.remove(i.item)}return t.rename("li",e)}(t.element,a);a.appendChild(i,n)})}}}function l(e,t,i){const n=t.parent,o=i.createElement(e.type),r=n.getChildIndex(t)+1;return i.insertChild(r,o,n),e.style&&i.setStyle("list-style-type",e.style,o),e.startIndex&&1<e.startIndex&&i.setAttribute("start",e.startIndex,o),o}const i=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class s{constructor(e){this.document=e}isActive(e){return i.test(e)}execute(e){var t,i=new v.UpcastWriter(this.document),n=e._parsedData["body"],o=n,r=i;for(const l of o.getChildren())l.is("element","b")&&"normal"===l.getStyle("font-weight")&&(t=o.getChildIndex(l),r.remove(l),r.insertChild(t,l.getChildren(),o));var a=n,s=i;for(const c of s.createRangeIn(a)){const a=c.item;if(a.is("element","li")){const d=a.getChild(0);d&&d.is("element","p")&&s.unwrapElement(d)}}e.content=n}}function o(e,t){if(e.childCount){var o=new v.UpcastWriter,i=function(e,t){const i=t.createRangeIn(e),n=new v.Matcher({name:/v:(.+)/}),o=[];for(const e of i)if("elementStart"==e.type){const t=e.item,i=t.previousSibling&&t.previousSibling.name||null;n.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==i&&o.push(e.item.getAttribute("id"))}return o}(e,o);{var n=i;var r=e;var a=o;const h=a.createRangeIn(r),g=new v.Matcher({name:"img"}),p=[];for(const r of h)if(g.match(r.item)){const a=r.item,h=a.getAttribute("v:shapes")?a.getAttribute("v:shapes").split(" "):[];(h.length&&h.every(e=>-1<n.indexOf(e))||!a.getAttribute("src"))&&p.push(a)}for(const n of p)a.remove(n)}{var s=e;var l=o;const f=l.createRangeIn(s),b=new v.Matcher({name:/v:(.+)/}),w=[];for(const s of f)"elementStart"==s.type&&b.match(s.item)&&w.push(s.item);for(const s of w)l.remove(s)}var c,i=function(e){const t=o.createRangeIn(e),i=new v.Matcher({name:"img"}),n=[];for(const e of t)i.match(e.item)&&e.item.getAttribute("src").startsWith("file://")&&n.push(e.item);return n}(e);if(i.length){var d=i,u=function(t){if(!t)return[];const i=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,e=new RegExp("(?:("+i.source+"))([\\da-fA-F\\s]+)\\}","g"),n=t.match(e),o=[];if(n)for(const t of n){let e=!1;t.includes("\\pngblip")?e="image/png":t.includes("\\jpegblip")&&(e="image/jpeg"),e&&o.push({hex:t.replace(i,"").replace(/[^\da-fA-F]/g,""),type:e})}return o}(t),m=o;if(d.length===u.length)for(let e=0;e<d.length;e++){c=`data:${u[e].type};base64,`+(c=u[e].hex,btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join("")));m.setAttribute("src",c,d[e])}}}}const r=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,a=/xmlns:o="urn:schemas-microsoft-com/i;class c{constructor(e){this.document=e}isActive(e){return r.test(e)||a.test(e)}execute(e){var{body:t,stylesString:i}=e._parsedData;n(t,i),o(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function d(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1===t.length?" ":Array(t.length+1).join(" ").substr(0,t.length))}class u extends e.Plugin{static get pluginName(){return"PasteFromOffice"}static get requires(){return[t.ClipboardPipeline]}init(){const o=this.editor,r=o.editing.view.document,a=[];a.push(new c(r)),a.push(new s(r)),o.plugins.get("ClipboardPipeline").on("inputTransformation",(e,t)=>{if(!t._isTransformedWithPasteFromOffice&&!o.model.document.selection.getFirstPosition().parent.is("element","codeBlock")){const i=t.dataTransfer.getData("text/html"),n=a.find(e=>e.isActive(i));n&&(t._parsedData=function(e,r){const t=new DOMParser,i=d(d(function(e){const t="</body>",i="</html>",n=e.indexOf(t);if(n<0)return e;const o=e.indexOf(i,n+t.length);return e.substring(0,n+t.length)+(o>=0?e.substring(o):"")}(e=e.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),n=t.parseFromString(i,"text/html");n.querySelectorAll("span[style*=spacerun]").forEach(e=>{var t=e.innerText.length||0;e.innerHTML=Array(t+1).join(" ").substr(0,t)});var e=n.body.innerHTML,o=function(e){const t=new v.ViewDocument(r),i=new v.DomConverter(t,{renderingMode:"data"}),n=e.createDocumentFragment(),o=e.body.childNodes;for(;0<o.length;)n.appendChild(o[0]);return i.domToView(n,{skipComments:!0})}(n),a=function(e){const t=[],i=[],n=Array.from(e.getElementsByTagName("style"));for(const e of n)e.sheet&&e.sheet.cssRules&&e.sheet.cssRules.length&&(t.push(e.sheet),i.push(e.innerHTML));return{styles:t,stylesString:i.join(" ")}}(n);return{body:o,bodyString:e,styles:a.styles,stylesString:a.stylesString}}(i,r.stylesProcessor),n.execute(t),t._isTransformedWithPasteFromOffice=!0)}},{priority:"high"})}}})(),(window.CKEditor5=window.CKEditor5||{}).pasteFromOffice=h})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Remove Format":"Remove Format"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return i[e](t,t.exports,l),t.exports}l.d=(e,t)=>{for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};(()=>{"use strict";l.r(c),l.d(c,{RemoveFormat:()=>s,RemoveFormatEditing:()=>n,RemoveFormatUI:()=>t});var e=l(704),r=l(273);const a="removeFormat";class t extends e.Plugin{static get pluginName(){return"RemoveFormatUI"}init(){const n=this.editor,o=n.t;n.ui.componentFactory.add(a,e=>{const t=n.commands.get(a),i=new r.ButtonView(e);return i.set({label:o("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{n.execute(a),n.editing.view.focus()}),i})}}var o=l(209);class i extends e.Command{refresh(){var e=this.editor.model;this.isEnabled=!!(0,o.first)(this._getFormattingItems(e.document.selection,e.schema))}execute(){const n=this.editor.model,o=n.schema;n.change(e=>{for(const t of this._getFormattingItems(n.document.selection,o))if(t.is("selection"))for(const n of this._getFormattingAttributes(t,o))e.removeSelectionAttribute(n);else{const n=e.createRangeOn(t);for(const i of this._getFormattingAttributes(t,o))e.removeAttribute(i,n)}})}*_getFormattingItems(e,t){var i=e=>!!(0,o.first)(this._getFormattingAttributes(e,t));for(const n of e.getRanges())for(const e of n.getItems())!t.isBlock(e)&&i(e)&&(yield e);for(const t of e.getSelectedBlocks())i(t)&&(yield t);i(e)&&(yield e)}*_getFormattingAttributes(e,t){for(var[i]of e.getAttributes()){const e=t.getAttributeProperties(i);e&&e.isFormatting&&(yield i)}}}class n extends e.Plugin{static get pluginName(){return"RemoveFormatEditing"}init(){const e=this.editor;e.commands.add("removeFormat",new i(e))}}class s extends e.Plugin{static get requires(){return[n,t]}static get pluginName(){return"RemoveFormat"}}})(),(window.CKEditor5=window.CKEditor5||{}).removeFormat=c})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{Source:"Source"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={821:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) " ";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%}.ck-rounded-corners .ck-source-editing-area textarea,.ck-source-editing-area textarea.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,a),t.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0;var s={};(()=>{"use strict";a.r(s),a.d(s,{SourceEditing:()=>n});var o=a(704),r=a(273),l=a(209);function c(e,t,i="    "){return""+i.repeat(t)+e}var e=a(62),e=a.n(e),t=a(821);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;const i="SourceEditingMode";class n extends o.Plugin{static get pluginName(){return"SourceEditing"}static get requires(){return[o.PendingActions]}constructor(e){super(e),this.set("isSourceEditingMode",!1),this._elementReplacer=new l.ElementReplacer,this._replacedRoots=new Map,this._dataFromRoots=new Map}init(){const i=this.editor,n=i.t;i.ui.componentFactory.add("sourceEditing",e=>{const t=new r.ButtonView(e);return t.set({label:n("Source"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>',tooltip:!0,withText:!0,class:"ck-source-editing-button"}),t.bind("isOn").to(this,"isSourceEditingMode"),t.bind("isEnabled").to(this,"isEnabled",i,"isReadOnly",i.plugins.get(o.PendingActions),"hasAny",(e,t,i)=>!!e&&!t&&!i),this.listenTo(t,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),t}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(e,t,i)=>{i?(this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(e,t,i)=>this._handleReadOnlyMode(!i)),this.listenTo(i,"change:isReadOnly",(e,t,i)=>this._handleReadOnlyMode(i))),i.data.on("get",()=>{this.isSourceEditingMode&&this._updateEditorData()},{priority:"high"})}afterInit(){const t=this.editor;["RealTimeCollaborativeEditing","CommentsEditing","TrackChangesEditing","RevisionHistory"].some(e=>t.plugins.has(e))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),t.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}_showSourceEditing(){const e=this.editor,i=e.editing.view,n=e.model;n.change(e=>{e.setSelection(null),e.removeSelectionAttribute(n.document.selection.getAttributeKeys())});for(const[n,o]of i.domRoots){const r=(t=e.data.get({rootName:n})).startsWith("<")?function(e){const i=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"br",isVoid:!0},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"input",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"textarea",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],t=i.map(e=>e.name).join("|"),n=e.replace(new RegExp(`</?(${t})( .*?)?>`,"g"),"\n$&\n").split("\n");let o=0;return n.filter(e=>e.length).map(e=>function(t){return i.some(e=>!e.isVoid&&!!new RegExp(`<${e.name}( .*?)?>`).test(t))}(e)?c(e,o++):function(t){return i.some(e=>new RegExp(`</${e.name}>`).test(t))}(e)?c(e,--o):c(e,o)).join("\n")}(t):t,a=(0,l.createElement)(o.ownerDocument,"textarea",{rows:"1"}),s=(0,l.createElement)(o.ownerDocument,"div",{class:"ck-source-editing-area","data-value":r},[a]);a.value=r,a.setSelectionRange(0,0),a.addEventListener("input",()=>{s.dataset.value=a.value}),i.change(e=>{var t=i.document.getRoot(n);e.addClass("ck-hidden",t)}),this._replacedRoots.set(n,s),this._elementReplacer.replace(o,s),this._dataFromRoots.set(n,r)}var t;this._focusSourceEditing()}_hideSourceEditing(){const i=this.editor.editing.view;this._updateEditorData(),i.change(e=>{for(var[t]of this._replacedRoots)e.removeClass("ck-hidden",i.document.getRoot(t))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),i.focus()}_updateEditorData(){const e=this.editor,t={};for(const[e,o]of this._replacedRoots){var i=this._dataFromRoots.get(e),n=o.dataset.value;i!==n&&(t[e]=n)}Object.keys(t).length&&e.data.set(t,{batchType:{isUndoable:!0}})}_focusSourceEditing(){const[e]=this._replacedRoots.values();e.querySelector("textarea").focus()}_disableCommands(){const e=this.editor;for(const t of e.commands.commands())t.forceDisabled(i)}_enableCommands(){const e=this.editor;for(const t of e.commands.commands())t.clearForceDisabled(i)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(var[,t]of this._replacedRoots)t.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){var e=this.editor.ui.view.editable;return e&&!e._hasExternalElement}}})(),(window.CKEditor5=window.CKEditor5||{}).sourceEditing=s})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above","Bitcoin sign":"Bitcoin sign","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign","Currency sign":"Currency sign","Degree sign":"Degree sign","Division sign":"Division sign","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","Drachma sign":"Drachma sign","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign","Guarani sign":"Guarani sign","Horizontal ellipsis":"Horizontal ellipsis","Hryvnia sign":"Hryvnia sign","Identical to":"Identical to","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark","Kip sign":"Kip sign","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above",Overline:"Overline","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Proportional to":"Proportional to","Question exclamation mark":"Question exclamation mark","Registered sign":"Registered sign","Reversed paragraph sign":"Reversed paragraph sign","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign","Section sign":"Section sign","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root","Tenge sign":"Tenge sign","There exists":"There exists","Tilde operator":"Tilde operator","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign","Two dot leader":"Two dot leader",Union:"Union","up down arrow with base":"up down arrow with base","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters","Won sign":"Won sign","Yen sign":"Yen sign"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={395:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(auto-fit,minmax(var(--ck-character-grid-tile-size),1fr));margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",""]);const n=i},198:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}",""]);const n=i},454:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function b(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,b),t.exports}b.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return b.d(t,{a:t}),t},b.d=(e,t)=>{for(var i in t)b.o(t,i)&&!b.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},b.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),b.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},b.nc=void 0;var w={};(()=>{"use strict";b.r(w),b.d(w,{SpecialCharacters:()=>d,SpecialCharactersArrows:()=>u,SpecialCharactersCurrency:()=>p,SpecialCharactersEssentials:()=>f,SpecialCharactersLatin:()=>g,SpecialCharactersMathematical:()=>h,SpecialCharactersText:()=>m});var e=b(704),t=b(181),a=b(273),o=b(209);class s extends a.FormHeaderView{constructor(e,t){super(e);const i=e.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(t),this.groupDropdownView.panelPosition="rtl"===e.uiLanguageDirection?"se":"sw",this.label=i("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}_createGroupDropdown(e){const t=this.locale,i=t.t,n=(0,a.createDropdown)(t),o=this._getCharacterGroupListItemDefinitions(n,e);return n.set("value",o.first.model.label),n.buttonView.bind("label").to(n,"value"),n.buttonView.set({isOn:!1,withText:!0,tooltip:i("Character categories"),class:["ck-dropdown__button_label-width_auto"]}),n.on("execute",e=>{n.value=e.source.label}),n.delegate("execute").to(this),(0,a.addListToDropdown)(n,o),n}_getCharacterGroupListItemDefinitions(e,t){const i=new o.Collection;for(const n of t){const t={type:"button",model:new a.Model({label:n,withText:!0})};t.model.bind("isOn").to(e,"value",e=>e===t.model.label),i.add(t)}return i}}var i=b(62),i=b.n(i),n=b(395);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class l extends a.View{constructor(e){super(e),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}})}createTile(e,t){const i=new a.ButtonView(this.locale);return i.set({label:e,withText:!0,class:"ck-character-grid__tile"}),i.extendTemplate({attributes:{title:t},on:{mouseover:i.bindTemplate.to("mouseover")}}),i.on("mouseover",()=>{this.fire("tileHover",{name:t,character:e})}),i.on("execute",()=>{this.fire("execute",{name:t,character:e})}),i}}n=b(198);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class c extends a.View{constructor(e){super(e);const t=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",r),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:t.to("name",e=>e||"")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:t.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function r(e){return null===e?"":"U+"+("0000"+e.codePointAt(0).toString(16)).slice(-4)}n=b(454);i()(n.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),n.Z.locals;class d extends e.Plugin{static get requires(){return[t.Typing]}static get pluginName(){return"SpecialCharacters"}constructor(e){super(e),this._characters=new Map,this._groups=new Map}init(){const n=this.editor,o=n.t,r=n.commands.get("input");n.ui.componentFactory.add("specialCharacters",e=>{const t=(0,a.createDropdown)(e);let i;return t.buttonView.set({label:o("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),t.bind("isEnabled").to(r),t.on("execute",(e,t)=>{n.execute("input",{text:t.character}),n.editing.view.focus()}),t.on("change:isOpen",()=>{i||(i=this._createDropdownPanelContent(e,t),t.panelView.children.add(i.navigationView),t.panelView.children.add(i.gridView),t.panelView.children.add(i.infoView)),i.infoView.set({character:null,name:null})}),t})}addItems(e,t){if("All"===e)throw new o.CKEditorError('special-character-invalid-group-name: The name "All" is reserved and cannot be used.');const i=this._getGroup(e);for(const e of t)i.add(e.title),this._characters.set(e.title,e.character)}getGroups(){return this._groups.keys()}getCharactersForGroup(e){return"All"===e?new Set(this._characters.keys()):this._groups.get(e)}getCharacter(e){return this._characters.get(e)}_getGroup(e){return this._groups.has(e)||this._groups.set(e,new Set),this._groups.get(e)}_updateGrid(e,t){t.tiles.clear();const i=this.getCharactersForGroup(e);for(const e of i){const i=this.getCharacter(e);t.tiles.add(t.createTile(i,e))}}_createDropdownPanelContent(e,t){const i=[...this.getGroups()],n=(i.unshift("All"),new s(e,i)),o=new l(e),r=new c(e);return o.delegate("execute").to(t),o.on("tileHover",(e,t)=>{r.set(t)}),n.on("execute",()=>{this._updateGrid(n.currentGroupName,o)}),this._updateGrid(n.currentGroupName,o),{navigationView:n,gridView:o,infoView:r}}}class u extends e.Plugin{static get pluginName(){return"SpecialCharactersArrows"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Arrows",[{title:t("leftwards double arrow"),character:""},{title:t("rightwards double arrow"),character:""},{title:t("upwards double arrow"),character:""},{title:t("downwards double arrow"),character:""},{title:t("leftwards dashed arrow"),character:""},{title:t("rightwards dashed arrow"),character:""},{title:t("upwards dashed arrow"),character:""},{title:t("downwards dashed arrow"),character:""},{title:t("leftwards arrow to bar"),character:""},{title:t("rightwards arrow to bar"),character:""},{title:t("upwards arrow to bar"),character:""},{title:t("downwards arrow to bar"),character:""},{title:t("up down arrow with base"),character:""},{title:t("back with leftwards arrow above"),character:""},{title:t("end with leftwards arrow above"),character:""},{title:t("on with exclamation mark with left right arrow above"),character:""},{title:t("soon with rightwards arrow above"),character:""},{title:t("top with upwards arrow above"),character:""}])}}class m extends e.Plugin{static get pluginName(){return"SpecialCharactersText"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Text",[{character:"",title:t("Single left-pointing angle quotation mark")},{character:"",title:t("Single right-pointing angle quotation mark")},{character:"",title:t("Left-pointing double angle quotation mark")},{character:"",title:t("Right-pointing double angle quotation mark")},{character:"",title:t("Left single quotation mark")},{character:"",title:t("Right single quotation mark")},{character:"",title:t("Left double quotation mark")},{character:"",title:t("Right double quotation mark")},{character:"",title:t("Single low-9 quotation mark")},{character:"",title:t("Double low-9 quotation mark")},{character:"",title:t("Inverted exclamation mark")},{character:"",title:t("Inverted question mark")},{character:"",title:t("Two dot leader")},{character:"",title:t("Horizontal ellipsis")},{character:"",title:t("Double dagger")},{character:"",title:t("Per mille sign")},{character:"",title:t("Per ten thousand sign")},{character:"",title:t("Double exclamation mark")},{character:"",title:t("Question exclamation mark")},{character:"",title:t("Exclamation question mark")},{character:"",title:t("Double question mark")},{character:"",title:t("Copyright sign")},{character:"",title:t("Registered sign")},{character:"",title:t("Trade mark sign")},{character:"",title:t("Section sign")},{character:"",title:t("Paragraph sign")},{character:"",title:t("Reversed paragraph sign")}])}}class h extends e.Plugin{static get pluginName(){return"SpecialCharactersMathematical"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:t("Less-than sign")},{character:">",title:t("Greater-than sign")},{character:"",title:t("Less-than or equal to")},{character:"",title:t("Greater-than or equal to")},{character:"",title:t("En dash")},{character:"",title:t("Em dash")},{character:"",title:t("Macron")},{character:"",title:t("Overline")},{character:"",title:t("Degree sign")},{character:"",title:t("Minus sign")},{character:"",title:t("Plus-minus sign")},{character:"",title:t("Division sign")},{character:"",title:t("Fraction slash")},{character:"",title:t("Multiplication sign")},{character:"",title:t("Latin small letter f with hook")},{character:"",title:t("Integral")},{character:"",title:t("N-ary summation")},{character:"",title:t("Infinity")},{character:"",title:t("Square root")},{character:"",title:t("Tilde operator")},{character:"",title:t("Approximately equal to")},{character:"",title:t("Almost equal to")},{character:"",title:t("Not equal to")},{character:"",title:t("Identical to")},{character:"",title:t("Element of")},{character:"",title:t("Not an element of")},{character:"",title:t("Contains as member")},{character:"",title:t("N-ary product")},{character:"",title:t("Logical and")},{character:"",title:t("Logical or")},{character:"",title:t("Not sign")},{character:"",title:t("Intersection")},{character:"",title:t("Union")},{character:"",title:t("Partial differential")},{character:"",title:t("For all")},{character:"",title:t("There exists")},{character:"",title:t("Empty set")},{character:"",title:t("Nabla")},{character:"",title:t("Asterisk operator")},{character:"",title:t("Proportional to")},{character:"",title:t("Angle")},{character:"",title:t("Vulgar fraction one quarter")},{character:"",title:t("Vulgar fraction one half")},{character:"",title:t("Vulgar fraction three quarters")}])}}class g extends e.Plugin{static get pluginName(){return"SpecialCharactersLatin"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Latin",[{character:"",title:t("Latin capital letter a with macron")},{character:"",title:t("Latin small letter a with macron")},{character:"",title:t("Latin capital letter a with breve")},{character:"",title:t("Latin small letter a with breve")},{character:"",title:t("Latin capital letter a with ogonek")},{character:"",title:t("Latin small letter a with ogonek")},{character:"",title:t("Latin capital letter c with acute")},{character:"",title:t("Latin small letter c with acute")},{character:"",title:t("Latin capital letter c with circumflex")},{character:"",title:t("Latin small letter c with circumflex")},{character:"",title:t("Latin capital letter c with dot above")},{character:"",title:t("Latin small letter c with dot above")},{character:"",title:t("Latin capital letter c with caron")},{character:"",title:t("Latin small letter c with caron")},{character:"",title:t("Latin capital letter d with caron")},{character:"",title:t("Latin small letter d with caron")},{character:"",title:t("Latin capital letter d with stroke")},{character:"",title:t("Latin small letter d with stroke")},{character:"",title:t("Latin capital letter e with macron")},{character:"",title:t("Latin small letter e with macron")},{character:"",title:t("Latin capital letter e with breve")},{character:"",title:t("Latin small letter e with breve")},{character:"",title:t("Latin capital letter e with dot above")},{character:"",title:t("Latin small letter e with dot above")},{character:"",title:t("Latin capital letter e with ogonek")},{character:"",title:t("Latin small letter e with ogonek")},{character:"",title:t("Latin capital letter e with caron")},{character:"",title:t("Latin small letter e with caron")},{character:"",title:t("Latin capital letter g with circumflex")},{character:"",title:t("Latin small letter g with circumflex")},{character:"",title:t("Latin capital letter g with breve")},{character:"",title:t("Latin small letter g with breve")},{character:"",title:t("Latin capital letter g with dot above")},{character:"",title:t("Latin small letter g with dot above")},{character:"",title:t("Latin capital letter g with cedilla")},{character:"",title:t("Latin small letter g with cedilla")},{character:"",title:t("Latin capital letter h with circumflex")},{character:"",title:t("Latin small letter h with circumflex")},{character:"",title:t("Latin capital letter h with stroke")},{character:"",title:t("Latin small letter h with stroke")},{character:"",title:t("Latin capital letter i with tilde")},{character:"",title:t("Latin small letter i with tilde")},{character:"",title:t("Latin capital letter i with macron")},{character:"",title:t("Latin small letter i with macron")},{character:"",title:t("Latin capital letter i with breve")},{character:"",title:t("Latin small letter i with breve")},{character:"",title:t("Latin capital letter i with ogonek")},{character:"",title:t("Latin small letter i with ogonek")},{character:"",title:t("Latin capital letter i with dot above")},{character:"",title:t("Latin small letter dotless i")},{character:"",title:t("Latin capital ligature ij")},{character:"",title:t("Latin small ligature ij")},{character:"",title:t("Latin capital letter j with circumflex")},{character:"",title:t("Latin small letter j with circumflex")},{character:"",title:t("Latin capital letter k with cedilla")},{character:"",title:t("Latin small letter k with cedilla")},{character:"",title:t("Latin small letter kra")},{character:"",title:t("Latin capital letter l with acute")},{character:"",title:t("Latin small letter l with acute")},{character:"",title:t("Latin capital letter l with cedilla")},{character:"",title:t("Latin small letter l with cedilla")},{character:"",title:t("Latin capital letter l with caron")},{character:"",title:t("Latin small letter l with caron")},{character:"",title:t("Latin capital letter l with middle dot")},{character:"",title:t("Latin small letter l with middle dot")},{character:"",title:t("Latin capital letter l with stroke")},{character:"",title:t("Latin small letter l with stroke")},{character:"",title:t("Latin capital letter n with acute")},{character:"",title:t("Latin small letter n with acute")},{character:"",title:t("Latin capital letter n with cedilla")},{character:"",title:t("Latin small letter n with cedilla")},{character:"",title:t("Latin capital letter n with caron")},{character:"",title:t("Latin small letter n with caron")},{character:"",title:t("Latin small letter n preceded by apostrophe")},{character:"",title:t("Latin capital letter eng")},{character:"",title:t("Latin small letter eng")},{character:"",title:t("Latin capital letter o with macron")},{character:"",title:t("Latin small letter o with macron")},{character:"",title:t("Latin capital letter o with breve")},{character:"",title:t("Latin small letter o with breve")},{character:"",title:t("Latin capital letter o with double acute")},{character:"",title:t("Latin small letter o with double acute")},{character:"",title:t("Latin capital ligature oe")},{character:"",title:t("Latin small ligature oe")},{character:"",title:t("Latin capital letter r with acute")},{character:"",title:t("Latin small letter r with acute")},{character:"",title:t("Latin capital letter r with cedilla")},{character:"",title:t("Latin small letter r with cedilla")},{character:"",title:t("Latin capital letter r with caron")},{character:"",title:t("Latin small letter r with caron")},{character:"",title:t("Latin capital letter s with acute")},{character:"",title:t("Latin small letter s with acute")},{character:"",title:t("Latin capital letter s with circumflex")},{character:"",title:t("Latin small letter s with circumflex")},{character:"",title:t("Latin capital letter s with cedilla")},{character:"",title:t("Latin small letter s with cedilla")},{character:"",title:t("Latin capital letter s with caron")},{character:"",title:t("Latin small letter s with caron")},{character:"",title:t("Latin capital letter t with cedilla")},{character:"",title:t("Latin small letter t with cedilla")},{character:"",title:t("Latin capital letter t with caron")},{character:"",title:t("Latin small letter t with caron")},{character:"",title:t("Latin capital letter t with stroke")},{character:"",title:t("Latin small letter t with stroke")},{character:"",title:t("Latin capital letter u with tilde")},{character:"",title:t("Latin small letter u with tilde")},{character:"",title:t("Latin capital letter u with macron")},{character:"",title:t("Latin small letter u with macron")},{character:"",title:t("Latin capital letter u with breve")},{character:"",title:t("Latin small letter u with breve")},{character:"",title:t("Latin capital letter u with ring above")},{character:"",title:t("Latin small letter u with ring above")},{character:"",title:t("Latin capital letter u with double acute")},{character:"",title:t("Latin small letter u with double acute")},{character:"",title:t("Latin capital letter u with ogonek")},{character:"",title:t("Latin small letter u with ogonek")},{character:"",title:t("Latin capital letter w with circumflex")},{character:"",title:t("Latin small letter w with circumflex")},{character:"",title:t("Latin capital letter y with circumflex")},{character:"",title:t("Latin small letter y with circumflex")},{character:"",title:t("Latin capital letter y with diaeresis")},{character:"",title:t("Latin capital letter z with acute")},{character:"",title:t("Latin small letter z with acute")},{character:"",title:t("Latin capital letter z with dot above")},{character:"",title:t("Latin small letter z with dot above")},{character:"",title:t("Latin capital letter z with caron")},{character:"",title:t("Latin small letter z with caron")},{character:"",title:t("Latin small letter long s")}])}}class p extends e.Plugin{static get pluginName(){return"SpecialCharactersCurrency"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:t("Dollar sign")},{character:"",title:t("Euro sign")},{character:"",title:t("Yen sign")},{character:"",title:t("Pound sign")},{character:"",title:t("Cent sign")},{character:"",title:t("Euro-currency sign")},{character:"",title:t("Colon sign")},{character:"",title:t("Cruzeiro sign")},{character:"",title:t("French franc sign")},{character:"",title:t("Lira sign")},{character:"",title:t("Currency sign")},{character:"",title:t("Bitcoin sign")},{character:"",title:t("Mill sign")},{character:"",title:t("Naira sign")},{character:"",title:t("Peseta sign")},{character:"",title:t("Rupee sign")},{character:"",title:t("Won sign")},{character:"",title:t("New sheqel sign")},{character:"",title:t("Dong sign")},{character:"",title:t("Kip sign")},{character:"",title:t("Tugrik sign")},{character:"",title:t("Drachma sign")},{character:"",title:t("German penny sign")},{character:"",title:t("Peso sign")},{character:"",title:t("Guarani sign")},{character:"",title:t("Austral sign")},{character:"",title:t("Hryvnia sign")},{character:"",title:t("Cedi sign")},{character:"",title:t("Livre tournois sign")},{character:"",title:t("Spesmilo sign")},{character:"",title:t("Tenge sign")},{character:"",title:t("Indian rupee sign")},{character:"",title:t("Turkish lira sign")},{character:"",title:t("Nordic mark sign")},{character:"",title:t("Manat sign")},{character:"",title:t("Ruble sign")}])}}class f extends e.Plugin{static get requires(){return[p,m,h,u,g]}}})(),(window.CKEditor5=window.CKEditor5||{}).specialCharacters=w})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Background:"Background",Border:"Border","Cell properties":"Cell properties","Center table":"Center table",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Delete column":"Delete column","Delete row":"Delete row",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double","Enter table caption":"Enter table caption",Groove:"Groove","Header column":"Header column","Header row":"Header row",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset","Justify cell text":"Justify cell text","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",None:"None",Outset:"Outset",Padding:"Padding",Ridge:"Ridge",Row:"Row","Select column":"Select column","Select row":"Select row",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Vertical text alignment toolbar":"Vertical text alignment toolbar",Width:"Width"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={252:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom:1px solid var(--ck-color-input-border);border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",""]);const n=i},934:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",""]);const n=i},333:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const n=i},272:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);width:var(--ck-insert-table-dropdown-box-width)}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const n=i},660:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const n=i},665:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}",""]);const n=i},773:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}",""]);const n=i},975:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table table{overflow:hidden;table-layout:fixed}.ck-content .table td,.ck-content .table th{position:relative}.ck-content .table .table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck-content .table[draggable] .table-column-resizer{display:none}.ck-content .table .table-column-resizer:hover,.ck-content .table .table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck-content[dir=rtl] .table .table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}.ck-content.ck-read-only .table .table-column-resizer{display:none}",""]);const n=i},482:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,":root{--ck-color-table-focused-cell-background:rgba(158,207,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const n=i},686:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',""]);const n=i},99:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",""]);const n=i},475:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},995:(e,t,i)=>{e.exports=i(79)("./src/widget.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function _i(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,_i),t.exports}_i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return _i.d(t,{a:t}),t},_i.d=(e,t)=>{for(var i in t)_i.o(t,i)&&!_i.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},_i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),_i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_i.nc=void 0;var xi={};(()=>{"use strict";_i.r(xi),_i.d(xi,{PlainTableOutput:()=>ze,Table:()=>Pe,TableCaption:()=>ui,TableCaptionEditing:()=>ci,TableCaptionUI:()=>di,TableCellProperties:()=>Bt,TableCellPropertiesEditing:()=>Dt,TableCellPropertiesUI:()=>xt,TableClipboard:()=>Ie,TableColumnResize:()=>yi,TableColumnResizeEditing:()=>ki,TableEditing:()=>i,TableKeyboard:()=>Me,TableMouse:()=>Ve,TableProperties:()=>ii,TablePropertiesEditing:()=>$t,TablePropertiesUI:()=>ti,TableSelection:()=>l,TableToolbar:()=>Oe,TableUI:()=>Te,TableUtils:()=>m});var a=_i(704),c=_i(995);function b(e,t,i,n,o=1){o<t?n.setAttribute(e,t,i):n.removeAttribute(e,i)}function f(e,t,i={}){i=e.createElement("tableCell",i);return e.insertElement("paragraph",i),e.insert(i,t),i}function z(e,t){const i=t.parent.parent,n=parseInt(i.getAttribute("headingColumns")||0),o=e.getCellLocation(t)["column"];return!!n&&o<n}var w=_i(209);function D(){return e=>{e.on("element:table",(e,t,i)=>{var n=t.viewItem;if(i.consumable.test(n,{name:!0})){const{rows:o,headingRows:r,headingColumns:a}=function(e){const t={headingRows:0,headingColumns:0},i=[],n=[];let o;for(const r of Array.from(e.getChildren()))if("tbody"===r.name||"thead"===r.name||"tfoot"===r.name){"thead"!==r.name||o||(o=r);const e=Array.from(r.getChildren()).filter(e=>e.is("element","tr"));for(const a of e)if("thead"===a.parent.name&&a.parent===o)t.headingRows++,i.push(a);else{n.push(a);const e=function(e){let t=0,i=0;var n=Array.from(e.getChildren()).filter(e=>"th"===e.name||"td"===e.name);for(;i<n.length&&"th"===n[i].name;){const e=n[i];t+=parseInt(e.getAttribute("colspan")||1),i++}return t}(a);e>t.headingColumns&&(t.headingColumns=e)}}return t.rows=[...i,...n],t}(n),s={},l=(a&&(s.headingColumns=a),r&&(s.headingRows=r),i.writer.createElement("table",s));if(i.safeInsert(l,t.modelCursor)){if(i.consumable.consume(n,{name:!0}),o.forEach(e=>i.convertItem(e,i.writer.createPositionAt(l,"end"))),i.convertChildren(n,i.writer.createPositionAt(l,"end")),l.isEmpty){const e=i.writer.createElement("tableRow");i.writer.insert(e,i.writer.createPositionAt(l,"end")),f(i.writer,i.writer.createPositionAt(e,"end"))}i.updateConversionResult(l,t)}}})}}function R(t){return e=>{e.on("element:"+t,(e,t,i)=>{if(t.modelRange&&t.viewItem.isEmpty){const e=t.modelRange.start.nodeAfter,n=i.writer.createPositionAt(e,0);i.writer.insertElement("paragraph",n)}},{priority:"low"})}}class y{constructor(e,t={}){this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(i.cell,i.row,i.column));else{const i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();var n=parseInt(i.getAttribute("colspan")||1),o=parseInt(i.getAttribute("rowspan")||1);(1<n||1<o)&&this._recordSpans(i,o,n),this._shouldSkipSlot()||(t=this._formatOutValue(i)),this._nextCellAtColumn=this._column+n}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e,t=this._row,i=this._column){return{done:!1,value:new B(this,e,t,i)}}_shouldSkipSlot(){var e=this._skipRows.has(this._row),t=this._row<this._startRow,i=this._column<this._startColumn,n=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||i||n}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,n){var o={cell:e,row:this._row,column:this._column};for(let t=this._row;t<this._row+i;t++)for(let e=this._column;e<this._column+n;e++)t==this._row&&e==this._column||this._markSpannedCell(t,e,o)}_markSpannedCell(e,t,i){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,i)}}class B{constructor(e,t,i,n){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=i,this.cellAnchorColumn=n,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function O(r,a={}){return(e,{writer:t})=>{const i=e.getAttribute("headingRows")||0,n=[];0<i&&n.push(t.createContainerElement("thead",null,t.createSlot(e=>e.is("element","tableRow")&&e.index<i))),i<r.getRows(e)&&n.push(t.createContainerElement("tbody",null,t.createSlot(e=>e.is("element","tableRow")&&e.index>=i)));var o,e=t.createContainerElement("figure",{class:"table"},[t.createContainerElement("table",null,n),t.createSlot(e=>!e.is("element","tableRow"))]);return a.asWidget?(o=e,(t=t).setCustomProperty("table",!0,o),(0,c.toWidget)(o,t,{hasSelectionHandle:!0})):e}}function F(l={}){return(e,{writer:t})=>{const i=e.parent,n=i.parent,o=n.getChildIndex(i),r=new y(n,{row:o}),a=n.getAttribute("headingRows")||0,s=n.getAttribute("headingColumns")||0;for(const i of r)if(i.cell==e){const e=i.row<a||i.column<s?"th":"td";return l.asWidget?(0,c.toWidgetEditable)(t.createEditableElement(e),t):t.createContainerElement(e)}}}function H(o={}){return(e,{writer:t,consumable:i,mapper:n})=>{if(e.parent.is("element","tableCell")&&U(e))return o.asWidget?t.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(i.consume(e,"insert"),void n.bindElements(e,n.toViewElement(e.parent)))}}function U(e){return 1==e.parent.childCount&&![...e.getAttributeKeys()].length}class W extends a.Command{refresh(){var e=this.editor.model,t=e.document.selection,e=e.schema;this.isEnabled=(e=e,t=(t=t.getFirstPosition().parent)===t.root?t:t.parent,e.checkChild(t,"table"))}execute(i={}){const n=this.editor.model,o=this.editor.plugins.get("TableUtils"),e=this.editor.config.get("table"),t=e.defaultHeadings.rows,r=e.defaultHeadings.columns;void 0===i.headingRows&&t&&(i.headingRows=t),void 0===i.headingColumns&&r&&(i.headingColumns=r),n.change(e=>{const t=o.createTable(e,i);n.insertObject(t,null,null,{findOptimalPosition:"auto"}),e.setSelection(e.createPositionAt(t.getNodeByPath([0,0,0]),0))})}}class q extends a.Command{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){var e=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=e}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),n="above"===this.order,o=i.getSelectionAffectedTableCells(t),r=i.getRowIndexes(o),a=n?r.first:r.last,s=o[0].findAncestor("table");i.insertRows(s,{at:n?a:a+1,copyStructureFromAbove:!n})}}class Z extends a.Command{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){var e=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=e}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),n="left"===this.order,o=i.getSelectionAffectedTableCells(t),r=i.getColumnIndexes(o),a=n?r.first:r.last,s=o[0].findAncestor("table");i.insertColumns(s,{columns:1,at:n?a:a+1})}}class K extends a.Command{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function Y(e,t,i){const{startRow:n,startColumn:o,endRow:r,endColumn:a}=t,s=i.createElement("table"),l=r-n+1;for(let e=0;e<l;e++)i.insertElement("tableRow",s,"end");const c=[...new y(e,{startRow:n,endRow:r,startColumn:o,endColumn:a,includeAllSlots:!0})];for(const{row:e,column:t,cell:b,isAnchor:l,cellAnchorRow:y,cellAnchorColumn:g}of c){const c=e-n,p=s.getChild(c);if(l){const n=i.cloneElement(b);i.append(n,p),X(n,e,t,r,a,i)}else(y<n||g<o)&&f(i,i.createPositionAt(p,"end"))}return t=s,e=e,d=n,u=o,m=i,0<(h=parseInt(e.getAttribute("headingRows")||0))&&b("headingRows",h-d,t,m,0),0<(h=parseInt(e.getAttribute("headingColumns")||0))&&b("headingColumns",h-u,t,m,0),s;var d,u,m,h}function $(e,t,i=0){const n=[],o=new y(e,{startRow:i,endRow:t-1});for(const e of o){const{row:i,cellHeight:o}=e,r=i+o-1;i<t&&t<=r&&n.push(e)}return n}function Q(e,t,i){const n=e.parent,o=n.parent,r=n.index,a=t-r,s={},l=parseInt(e.getAttribute("rowspan"))-a;1<l&&(s.rowspan=l);var t=parseInt(e.getAttribute("colspan")||1),c=(1<t&&(s.colspan=t),r+a);let d,u=null;for(const t of[...new y(o,{startRow:r,endRow:c,includeAllSlots:!0})]){const{row:n,column:b,cell:o}=t;void 0!==(d=o===e&&void 0===d?b:d)&&d===b&&n===c&&(u=f(i,t.getPositionBefore(),s))}return b("rowspan",a,e,i),u}function G(e,t){const i=[],n=new y(e);for(const e of n){const{column:n,cellWidth:o}=e,r=n+o-1;n<t&&t<=r&&i.push(e)}return i}function J(e,t,i,n){const o=i-t,r={},a=parseInt(e.getAttribute("colspan"))-o;1<a&&(r.colspan=a);i=parseInt(e.getAttribute("rowspan")||1),1<i&&(r.rowspan=i),t=f(n,n.createPositionAfter(e),r);return b("colspan",o,e,n),t}function X(e,t,i,n,o,r){var a=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);o<i+a-1&&b("colspan",o-i+1,e,r,1),n<t+s-1&&b("rowspan",n-t+1,e,r,1)}function ee(e,t){const i=t.getColumns(e),n=new Array(i).fill(0);for(const{column:t}of new y(e))n[t]++;var o=n.reduce((e,t,i)=>t?e:[...e,i],[]);if(0<o.length){const i=o[o.length-1];return t.removeColumns(e,{at:i}),1}}function te(t,e){const i=[],n=e.getRows(t);for(let e=0;e<n;e++)t.getChild(e).isEmpty&&i.push(e);if(0<i.length){const n=i[i.length-1];return e.removeRows(t,{at:n}),1}}function ie(e,t){ee(e,t)||te(e,t)}function ne(e,t){const i=Array.from(new y(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(i.every(({cellHeight:e})=>1===e))return t.lastRow;e=i[0].cellHeight-1;return t.lastRow+e}function oe(e,t){const i=Array.from(new y(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(i.every(({cellWidth:e})=>1===e))return t.lastColumn;e=i[0].cellWidth-1;return t.lastColumn+e}class n extends a.Command{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,l=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],c=this.value,d=this.direction;e.change(e=>{const t="right"==d||"down"==d,i=t?l:c,n=t?c:l,o=n.parent;r=i,a=e,re(s=n)||(re(r)&&a.remove(a.createRangeIn(r)),a.move(a.createRangeIn(s),a.createPositionAt(r,"end"))),a.remove(s);var r=this.isHorizontal?"colspan":"rowspan",a=parseInt(l.getAttribute(r)||1),s=parseInt(c.getAttribute(r)||1),r=(e.setAttribute(r,a+s,i),e.setSelection(e.createRangeIn(i)),this.editor.plugins.get("TableUtils"));ie(o.findAncestor("table"),r)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),i=t.getTableCellsContainingSelection(e.selection)[0];if(i){const r=(this.isHorizontal?function(e,t,i){const n=e.parent.parent,o="right"==t?e.nextSibling:e.previousSibling,r=0<(n.getAttribute("headingColumns")||0);if(o){const a="right"==t?e:o,s="right"==t?o:e,l=i.getCellLocation(a)["column"],c=i.getCellLocation(s)["column"],d=parseInt(a.getAttribute("colspan")||1),u=z(i,a),m=z(i,s);if(!r||u==m)return l+d===c?o:void 0}}:function(t,n,e){const i=t.parent,o=i.parent,r=o.getChildIndex(i);if(!("down"==n&&r===e.getRows(o)-1||"up"==n&&0===r)){var e=parseInt(t.getAttribute("rowspan")||1),a=o.getAttribute("headingRows")||0,e="down"==n&&r+e===a,s="up"==n&&r===a;if(!a||!e&&!s){const l=parseInt(t.getAttribute("rowspan")||1),c="down"==n?r+l:r,d=[...new y(o,{endRow:c})],u=d.find(e=>e.cell===t).column,m=d.find(({row:e,cellHeight:t,column:i})=>i===u&&("down"==n?e===c:c===e+t));return m&&m.cell}}})(i,this.direction,t);var n,o;if(r)return n=this.isHorizontal?"rowspan":"colspan",o=parseInt(i.getAttribute(n)||1),parseInt(r.getAttribute(n)||1)===o?r:void 0}}}function re(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}class ae extends a.Command{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];var n,o;i?(n=i.findAncestor("table"),n=this.editor.plugins.get("TableUtils").getRows(n)-1,o=0===(o=e.getRowIndexes(t)).first&&o.last===n,this.isEnabled=!o):this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),t=i.getSelectionAffectedTableCells(e.document.selection),n=i.getRowIndexes(t),o=t[0],r=o.findAncestor("table"),a=i.getCellLocation(o).column;e.change(e=>{var t=n.last-n.first+1,t=(i.removeRows(r,{at:n.first,rows:t}),function(e,t,i,n){const o=e.getChild(Math.min(t,n-1));let r=o.getChild(0),a=0;for(const e of o.getChildren()){if(a>i)return r;r=e,a+=parseInt(e.getAttribute("colspan")||1)}return r}(r,n.first,a,i.getRows(r)));e.setSelection(e.createPositionAt(t,0))})}}class se extends a.Command{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];var n,o,r;i?(n=i.findAncestor("table"),n=e.getColumns(n),{first:o,last:r}=e.getColumnIndexes(t),this.isEnabled=r-o<n-1):this.isEnabled=!1}execute(){const r=this.editor.plugins.get("TableUtils"),[t,i]=function(e){const t=r.getSelectionAffectedTableCells(e),i=t[0],n=t.pop(),o=[i,n];return i.isBefore(n)?o:o.reverse()}(this.editor.model.document.selection),n=t.parent.parent,e=[...new y(n)],o={first:e.find(e=>e.cell===t).column,last:e.find(e=>e.cell===i).column},a=(s=e,l=t,c=i,d=o,1<parseInt(c.getAttribute("colspan")||1)?c:l.previousSibling||c.nextSibling?c.nextSibling||l.previousSibling:(d.first?s.reverse().find(({column:e})=>e<d.first):s.reverse().find(({column:e})=>d.last<e)).cell);var s,l,c,d;this.editor.model.change(e=>{var t=o.last-o.first+1;this.editor.plugins.get("TableUtils").removeColumns(n,{at:o.first,columns:t}),e.setSelection(e.createPositionAt(a,0))})}}class le extends a.Command{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),n=0<i.length;this.isEnabled=n,this.value=n&&i.every(e=>this._isInHeading(e,e.parent.parent))}execute(e={}){if(e.forceValue!==this.value){const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,n=t.getSelectionAffectedTableCells(i.document.selection),o=n[0].findAncestor("table"),{first:r,last:a}=t.getRowIndexes(n),s=this.value?r:a+1,l=o.getAttribute("headingRows")||0;i.change(e=>{var t;if(s)for({cell:t}of $(o,s,s>l?l:0))Q(t,s,e);b("headingRows",s,o,e,0)})}}_isInHeading(e,t){t=parseInt(t.getAttribute("headingRows")||0);return!!t&&e.parent.index<t}}class ce extends a.Command{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),n=0<i.length;this.isEnabled=n,this.value=n&&i.every(e=>z(t,e))}execute(e={}){if(e.forceValue!==this.value){const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,n=t.getSelectionAffectedTableCells(i.document.selection),o=n[0].findAncestor("table"),{first:r,last:a}=t.getColumnIndexes(n),s=this.value?r:a+1;i.change(e=>{var t,i;if(s)for({cell:t,column:i}of G(o,s))J(t,i,s,e);b("headingColumns",s,o,e,0)})}}}class m extends a.Plugin{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,i=t.parent,n=i.getChildIndex(t),o=new y(i,{row:n});for(const{cell:t,row:i,column:n}of o)if(t===e)return{row:i,column:n}}createTable(e,t){var i=e.createElement("table"),n=parseInt(t.rows)||2,o=parseInt(t.columns)||2;return de(e,i,0,n,o),t.headingRows&&b("headingRows",Math.min(t.headingRows,n),i,e,0),t.headingColumns&&b("headingColumns",Math.min(t.headingColumns,o),i,e,0),i}insertRows(r,e={}){const t=this.editor.model,a=e.at||0,s=e.rows||1,l=void 0!==e.copyStructureFromAbove,c=e.copyStructureFromAbove?a-1:a,d=this.getRows(r),u=this.getColumns(r);if(a>d)throw new w.CKEditorError("tableutils-insertrows-insert-out-of-range",this,{options:e});t.change(t=>{const i=r.getAttribute("headingRows")||0;if(i>a&&b("headingRows",i+s,r,t,0),l||0!==a&&a!==d){const e=l?Math.max(a,c):a,n=new y(r,{endRow:e}),o=new Array(u).fill(1);for(const{row:r,column:i,cellHeight:b,cellWidth:f,cell:e}of n){const d=r+b-1,y=r<=c&&c<=d;r<a&&a<=d?(t.setAttribute("rowspan",b+s,e),o[i]=-f):l&&y&&(o[i]=f)}for(let e=0;e<s;e++){const i=t.createElement("tableRow");t.insert(i,r,a);for(let e=0;e<o.length;e++){const a=o[e],b=t.createPositionAt(i,"end");0<a&&f(t,b,1<a?{colspan:a}:null),e+=Math.abs(a)-1}}}else de(t,r,a,s,u)})}insertColumns(l,e={}){const t=this.editor.model,c=e.at||0,d=e.columns||1;t.change(e=>{const t=l.getAttribute("headingColumns"),i=(c<t&&e.setAttribute("headingColumns",t+d,l),this.getColumns(l));if(0===c||i===c)for(const t of l.getChildren())t.is("element","tableRow")&&v(d,e,e.createPositionAt(t,c?"end":0));else{const n=new y(l,{column:c,includeAllSlots:!0});for(const l of n){const{row:t,cell:i,cellAnchorColumn:o,cellAnchorRow:r,cellWidth:a,cellHeight:s}=l;if(o<c){e.setAttribute("colspan",a+d,i);const l=r+s-1;for(let e=t;e<=l;e++)n.skipRow(e)}else v(d,e,l.getPositionBefore())}}})}removeRows(g,e){const t=this.editor.model,i=e.rows||1,n=this.getRows(g),p=e.at,f=p+i-1;if(f>n-1)throw new w.CKEditorError("tableutils-removerows-row-index-out-of-range",this,{table:g,options:e});t.change(t=>{const{cellsToMove:i,cellsToTrim:e}=function(e,t,i){const n=new Map,o=[];for(var{row:r,column:a,cellHeight:s,cell:l}of new y(e,{endRow:i})){const e=r+s-1;if(r>=t&&r<=i&&e>i){const e=s-(i-r+1);n.set(a,{cell:l,rowspan:e})}r<t&&e>=t&&(a=e>=i?i-t+1:e-t+1,o.push({cell:l,rowspan:s-a}))}return{cellsToMove:n,cellsToTrim:o}}(g,p,f);if(i.size){var n=g;var o=1+f;var r=i;var a=t;const d=[...new y(n,{includeAllSlots:!0,row:o})],u=n.getChild(o);let e;for(const{column:n,cell:o,isAnchor:m}of d)if(r.has(n)){const{cell:o,rowspan:d}=r.get(n),h=e?a.createPositionAfter(e):a.createPositionAt(u,0);a.move(a.createRangeOn(o),h),b("rowspan",d,o,a),e=o}else m&&(e=o)}for(let e=f;e>=p;e--)t.remove(g.getChild(e));for(const{rowspan:g,cell:i}of e)b("rowspan",g,i,t);var s,l,c;n=g,o=p,s=f,l=t,c=n.getAttribute("headingRows")||0,o<c&&b("headingRows",s<c?c-(s-o+1):o,n,l,0),ee(g,this)||te(g,this)})}removeColumns(a,e){const t=this.editor.model,s=e.at,i=e.columns||1,l=e.at+i-1;t.change(t=>{var e,i,n,o;e=a,i={first:s,last:l},n=t,(o=e.getAttribute("headingColumns")||0)&&i.first<o&&(i=Math.min(o-1,i.last)-i.first+1,n.setAttribute("headingColumns",o-i,e));for(let e=l;e>=s;e--)for(const{cell:s,column:r,cellWidth:l}of[...new y(a)])r<=e&&1<l&&r+l>e?b("colspan",l-1,s,t):r===e&&t.remove(s);te(a,this)||ee(a,this)})}splitCellVertically(c,d=2){const e=this.editor.model,u=c.parent.parent,m=parseInt(c.getAttribute("rowspan")||1),h=parseInt(c.getAttribute("colspan")||1);e.change(e=>{if(1<h){const{newCellsSpan:u,updatedSpan:i}=ue(h,d),n=(b("colspan",i,c,e),{});1<u&&(n.colspan=u),1<m&&(n.rowspan=m),v(h>d?d-1:h-1,e,e.createPositionAfter(c),n)}if(h<d){const o=d-h,r=[...new y(u)],a=r.find(({cell:e})=>e===c)["column"],s=r.filter(({cell:e,cellWidth:t,column:i})=>e!==c&&i===a||i<a&&i+t>a);for(const{cell:c,cellWidth:d}of s)e.setAttribute("colspan",d+o,c);const l={};1<m&&(l.rowspan=m),v(o,e,e.createPositionAfter(c),l);var t=u.getAttribute("headingColumns")||0;t>a&&b("headingColumns",t+o,u,e)}})}splitCellHorizontally(d,u=2){const e=this.editor.model,t=d.parent,m=t.parent,h=m.getChildIndex(t),g=parseInt(d.getAttribute("rowspan")||1),p=parseInt(d.getAttribute("colspan")||1);e.change(e=>{if(1<g){const n=[...new y(m,{startRow:h,endRow:h+g-1,includeAllSlots:!0})],{newCellsSpan:o,updatedSpan:r}=ue(g,u),a=(b("rowspan",r,d,e),n.find(({cell:e})=>e===d))["column"],s={};1<o&&(s.rowspan=o),1<p&&(s.colspan=p);for(const d of n){const{column:u,row:l}=d,b=u===a,m=(l+h+r)%o==0;l>=h+r&&b&&m&&v(1,e,d.getPositionBefore(),s)}}if(g<u){var t=u-g,i=[...new y(m,{startRow:0,endRow:h})];for(const{cell:u,cellHeight:b,row:m}of i)if(u!==d&&m+b>h){const d=b+t;e.setAttribute("rowspan",d,u)}const c={};1<p&&(c.colspan=p),de(e,m,h+1,t,1,c);i=m.getAttribute("headingRows")||0;i>h&&b("headingRows",i+t,m,e)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((e,t)=>e+parseInt(t.getAttribute("colspan")||1),0)}getRows(e){return Array.from(e.getChildren()).reduce((e,t)=>t.is("element","tableRow")?e+1:e,0)}createTableWalker(e,t={}){return new y(e,t)}getSelectedTableCells(e){const t=[];for(const i of this.sortRanges(e.getRanges())){const e=i.getContainedElement();e&&e.is("element","tableCell")&&t.push(e)}return t}getTableCellsContainingSelection(e){const t=[];for(const i of e.getRanges()){const e=i.start.findAncestor("tableCell");e&&t.push(e)}return t}getSelectionAffectedTableCells(e){var t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){e=e.map(e=>e.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){var e=t[0].findAncestor("table"),e=[...new y(e)].filter(e=>t.includes(e.cell)).map(e=>e.column);return this._getFirstLastIndexesObject(e)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,i=new Set;let n=0;for(const o of e){const{row:e,column:r}=this.getCellLocation(o),a=parseInt(o.getAttribute("rowspan")||1),s=parseInt(o.getAttribute("colspan")||1);t.add(e),i.add(r),1<a&&t.add(e+a-1),1<s&&i.add(r+s-1),n+=a*s}const o=function(e,t){e=Array.from(e.values()),t=Array.from(t.values());return(Math.max(...e)-Math.min(...e)+1)*(Math.max(...t)-Math.min(...t)+1)}(t,i);return o==n}sortRanges(e){return Array.from(e).sort(me)}_getFirstLastIndexesObject(e){e=e.sort((e,t)=>e-t);return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),i=this.getRowIndexes(e),n=parseInt(t.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(i,n))return!1;var o=parseInt(t.getAttribute("headingColumns")||0),e=this.getColumnIndexes(e);return this._areIndexesInSameSection(e,o)}_areIndexesInSameSection({first:e,last:t},i){return e<i==t<i}}function de(t,i,n,o,r,a={}){for(let e=0;e<o;e++){const o=t.createElement("tableRow");t.insert(o,i,n),v(r,t,t.createPositionAt(o,"end"),a)}}function v(t,i,n,o={}){for(let e=0;e<t;e++)f(i,n,o)}function ue(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var i=Math.floor(e/t);return{newCellsSpan:i,updatedSpan:e-i*t+i}}function me(e,t){const i=e.start,n=t.start;return i.isBefore(n)?-1:1}class he extends a.Command{refresh(){const e=this.editor.plugins.get(m),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t,this.editor.plugins.get(m))}execute(){const l=this.editor.model,c=this.editor.plugins.get(m);l.change(e=>{const t=c.getSelectedTableCells(l.document.selection),i=t.shift(),{mergeWidth:n,mergeHeight:o}=function(e,t,i){let n=0,o=0;for(const e of t){const{row:t,column:r}=i.getCellLocation(e);n=pe(e,r,n,"colspan"),o=pe(e,t,o,"rowspan")}const{row:r,column:a}=i.getCellLocation(e);return{mergeWidth:n-a,mergeHeight:o-r}}(i,t,c);b("colspan",n,i,e),b("rowspan",o,i,e);for(const l of t)r=l,a=i,s=e,ge(r)||(ge(a)&&s.remove(s.createRangeIn(a)),s.move(s.createRangeIn(r),s.createPositionAt(a,"end"))),s.remove(r);var r,a,s;ie(i.findAncestor("table"),c),e.setSelection(i,"in")})}}function ge(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}function pe(e,t,i,n){e=parseInt(e.getAttribute(n)||1);return Math.max(i,t+e)}class fe extends a.Command{constructor(e){super(e),this.affectsData=!1}refresh(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=0<e.length}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),n=e.getRowIndexes(i),o=i[0].findAncestor("table"),r=[];for(let e=n.first;e<=n.last;e++)for(const i of o.getChild(e).getChildren())r.push(t.createRangeOn(i));t.change(e=>{e.setSelection(r)})}}class be extends a.Command{constructor(e){super(e),this.affectsData=!1}refresh(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=0<e.length}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),n=i[0],o=i.pop(),r=n.findAncestor("table"),a=e.getCellLocation(n),s=e.getCellLocation(o),l=Math.min(a.column,s.column),c=Math.max(a.column,s.column),d=[];for(const e of new y(r,{startColumn:l,endColumn:c}))d.push(t.createRangeOn(e.cell));t.change(e=>{e.setSelection(d)})}}function we(s){s.document.registerPostFixer(e=>{{var i=e,n=s,o,r,e=n.document.differ.getChanges();let t=!1;const a=new Set;for(const n of e){let e;"table"==n.name&&"insert"==n.type&&(e=n.position.nodeAfter),"tableRow"!=n.name&&"tableCell"!=n.name||(e=n.position.findAncestor("table")),o=n,r=void 0,r="attribute"===o.type,o=o.attributeKey,(e=!r||"headingRows"!==o&&"colspan"!==o&&"rowspan"!==o?e:n.range.start.findAncestor("table"))&&!a.has(e)&&(t=function(e,t){let i=!1;var n=function(e){const t=parseInt(e.getAttribute("headingRows")||0),i=Array.from(e.getChildren()).reduce((e,t)=>t.is("element","tableRow")?e+1:e,0),n=[];for(var{row:o,cell:r,cellHeight:a}of new y(e))if(!(a<2)){const e=o<t?t:i;if(o+a>e){const t=e-o;n.push({cell:r,rowspan:t})}}return n}(e);if(n.length){i=!0;for(const e of n)b("rowspan",e.rowspan,e.cell,t,1)}return i}(e,i)||t,t=function(i,t){let e=!1;const n=function(e){const t=new Array(e.childCount).fill(0);for(var{rowIndex:i}of new y(e,{includeAllSlots:!0}))t[i]++;return t}(i),o=[];for(const[t,e]of n.entries())!e&&i.getChild(t).is("element","tableRow")&&o.push(t);if(o.length){e=!0;for(const e of o.reverse())t.remove(i.getChild(e)),n.splice(e,1)}const r=n.filter((e,t)=>i.getChild(t).is("element","tableRow")),a=r[0];if(!r.every(e=>e===a)){const n=r.reduce((e,t)=>e<t?t:e,0);for(const[o,a]of r.entries()){const r=n-a;if(r){for(let e=0;e<r;e++)f(t,t.createPositionAt(i.getChild(o),"end"));e=!0}}}return e}(e,i)||t,a.add(e))}return t}})}function ve(r){r.document.registerPostFixer(t=>{{var i=t,n=r,o,t=n.document.differ.getChanges();let e=!1;for(const n of t)"insert"==n.type&&"table"==n.name&&(e=function(e,t){let i=!1;for(const n of e.getChildren())n.is("element","tableRow")&&(i=ke(n,t)||i);return i}(n.position.nodeAfter,i)||e),"insert"==n.type&&"tableRow"==n.name&&(e=ke(n.position.nodeAfter,i)||e),"insert"==n.type&&"tableCell"==n.name&&(e=ye(n.position.nodeAfter,i)||e),o=n,o.position&&o.position.parent.is("element","tableCell")&&("insert"==o.type&&"$text"==o.name||"remove"==o.type)&&(e=ye(n.position.parent,i)||e);return e}})}function ke(e,t){let i=!1;for(const n of e.getChildren())i=ye(n,t)||i;return i}function ye(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var i=Array.from(e.getChildren()).filter(e=>e.is("$text"));for(const e of i)t.wrap(t.createRangeOn(e),"paragraph");return!!i.length}var e=_i(62),e=_i.n(e),t=_i(482);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class i extends a.Plugin{static get pluginName(){return"TableEditing"}static get requires(){return[m]}init(){const d=this.editor,u=d.model,e=u.schema,t=d.conversion,i=d.plugins.get(m);e.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),e.register("tableRow",{allowIn:"table",isLimit:!0}),e.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),t.for("upcast").add(e=>{e.on("element:figure",(e,t,i)=>{if(i.consumable.test(t.viewItem,{name:!0,classes:"table"})){var n=function(){for(const e of t.viewItem.getChildren())if(e.is("element","table"))return e}();if(n&&i.consumable.test(n,{name:!0})){i.consumable.consume(t.viewItem,{name:!0,classes:"table"});const o=i.convertItem(n,t.modelCursor),r=(0,w.first)(o.modelRange.getItems());r?(i.convertChildren(t.viewItem,i.writer.createPositionAt(r,"end")),i.updateConversionResult(r,t)):i.consumable.revert(t.viewItem,{name:!0,classes:"table"})}}})}),t.for("upcast").add(D()),t.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:O(i,{asWidget:!0})}),t.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:O(i)}),t.for("upcast").elementToElement({model:"tableRow",view:"tr"}),t.for("upcast").add(e=>{e.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()},{priority:"high"})}),t.for("downcast").elementToElement({model:"tableRow",view:(e,{writer:t})=>e.isEmpty?t.createEmptyElement("tr"):t.createContainerElement("tr")}),t.for("upcast").elementToElement({model:"tableCell",view:"td"}),t.for("upcast").elementToElement({model:"tableCell",view:"th"}),t.for("upcast").add(R("td")),t.for("upcast").add(R("th")),t.for("editingDowncast").elementToElement({model:"tableCell",view:F({asWidget:!0})}),t.for("dataDowncast").elementToElement({model:"tableCell",view:F()}),t.for("editingDowncast").elementToElement({model:"paragraph",view:H({asWidget:!0}),converterPriority:"high"}),t.for("dataDowncast").elementToElement({model:"paragraph",view:H(),converterPriority:"high"}),t.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),t.for("upcast").attributeToAttribute({model:{key:"colspan",value:_e("colspan")},view:"colspan"}),t.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),t.for("upcast").attributeToAttribute({model:{key:"rowspan",value:_e("rowspan")},view:"rowspan"}),d.data.mapper.on("modelToViewPosition",(e,t)=>{const i=t.modelPosition.parent,n=t.modelPosition.nodeBefore;var o;i.is("element","tableCell")&&n&&n.is("element","paragraph")&&(t.mapper.toViewElement(n)===(o=t.mapper.toViewElement(i))&&(t.viewPosition=t.mapper.findPositionIn(o,n.maxOffset)))}),d.config.define("table.defaultHeadings.rows",0),d.config.define("table.defaultHeadings.columns",0),d.commands.add("insertTable",new W(d)),d.commands.add("insertTableRowAbove",new q(d,{order:"above"})),d.commands.add("insertTableRowBelow",new q(d,{order:"below"})),d.commands.add("insertTableColumnLeft",new Z(d,{order:"left"})),d.commands.add("insertTableColumnRight",new Z(d,{order:"right"})),d.commands.add("removeTableRow",new ae(d)),d.commands.add("removeTableColumn",new se(d)),d.commands.add("splitTableCellVertically",new K(d,{direction:"vertically"})),d.commands.add("splitTableCellHorizontally",new K(d,{direction:"horizontally"})),d.commands.add("mergeTableCells",new he(d)),d.commands.add("mergeTableCellRight",new n(d,{direction:"right"})),d.commands.add("mergeTableCellLeft",new n(d,{direction:"left"})),d.commands.add("mergeTableCellDown",new n(d,{direction:"down"})),d.commands.add("mergeTableCellUp",new n(d,{direction:"up"})),d.commands.add("setTableColumnHeader",new ce(d)),d.commands.add("setTableRowHeader",new le(d)),d.commands.add("selectTableRow",new fe(d)),d.commands.add("selectTableColumn",new be(d)),we(u),ve(u),this.listenTo(u.document,"change:data",()=>{{var i=u,n=d.editing;const s=i.document.differ;for(const i of s.getChanges()){let e,t=!1;if("attribute"==i.type){const n=i.range.start.nodeAfter;if(!n||!n.is("element","table"))continue;if("headingRows"!=i.attributeKey&&"headingColumns"!=i.attributeKey)continue;e=n,t="headingRows"==i.attributeKey}else"tableRow"!=i.name&&"tableCell"!=i.name||(e=i.position.findAncestor("table"),t="tableRow"==i.name);if(e){var o=e.getAttribute("headingRows")||0,r=e.getAttribute("headingColumns")||0;for(const i of new y(e)){const s=i.row<o||i.column<r?"th":"td",l=n.mapper.toViewElement(i.cell);l&&l.is("element")&&l.name!=s&&n.reconvertItem(t?i.cell.parent:i.cell)}}}}{var e=u,a=d.editing;const t=e.document.differ,c=new Set;for(const e of t.getChanges()){const a=("attribute"==e.type?e.range.start:e.position).parent;a.is("element","tableCell")&&c.add(a)}for(const e of c.values()){const t=Array.from(e.getChildren()).filter(e=>{{var t=a.mapper;if(!e.is("element","paragraph"))return!1;const i=t.toViewElement(e);return!!i&&U(e)!==i.is("element","span")}});for(const e of t)a.reconvertItem(e)}return}})}}function _e(t){return e=>{e=parseInt(e.getAttribute(t));return Number.isNaN(e)||e<=0?null:e}}var k=_i(273),t=_i(272);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class xe extends k.View{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(e,t)=>t+"  "+e),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:t.to("label")}]}],on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(e,t)=>{var{row:t,column:i}=t.target.dataset;this.set({rows:parseInt(t),columns:parseInt(i)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const i=this.rows,n=this.columns;this.items.map((e,t)=>{t=Math.floor(t/10)<i&&t%10<n;e.set("isOn",t)})}_createGridCollection(){const t=[];for(let e=0;e<100;e++){var i=Math.floor(e/10),n=e%10;t.push(new Ce(this.locale,i+1,1+n))}return this.createCollection(t)}}class Ce extends k.View{constructor(e,t,i){super(e);const n=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",n.if("isOn","ck-on")],"data-row":t,"data-column":i}})}}class Te extends a.Plugin{static get pluginName(){return"TableUI"}init(){const o=this.editor,r=this.editor.t,i="ltr"===o.locale.contentLanguageDirection;o.ui.componentFactory.add("insertTable",e=>{const t=o.commands.get("insertTable"),i=(0,k.createDropdown)(e);let n;return i.bind("isEnabled").to(t),i.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:r("Insert table"),tooltip:!0}),i.on("change:isOpen",()=>{n||(n=new xe(e),i.panelView.children.add(n),n.delegate("execute").to(i),i.buttonView.on("open",()=>{n.rows=0,n.columns=0}),i.on("execute",()=>{o.execute("insertTable",{rows:n.rows,columns:n.columns}),o.editing.view.focus()}))}),i}),o.ui.componentFactory.add("tableColumn",e=>{var t=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',t,e)}),o.ui.componentFactory.add("tableRow",e=>{var t=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',t,e)}),o.ui.componentFactory.add("mergeTableCells",e=>{var t=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',t,e)})}_prepareDropdown(e,t,i,n){const o=this.editor,r=(0,k.createDropdown)(n),a=this._fillDropdownWithListOptions(r,i);return r.buttonView.set({label:e,icon:t,tooltip:!0}),r.bind("isEnabled").toMany(a,"isEnabled",(...e)=>e.some(e=>e)),this.listenTo(r,"execute",e=>{o.execute(e.source.commandName),o.editing.view.focus()}),r}_prepareMergeSplitButtonDropdown(e,t,i,n){const o=this.editor,r=(0,k.createDropdown)(n,k.SplitButtonView),a="mergeTableCells",s=o.commands.get(a),l=this._fillDropdownWithListOptions(r,i);return r.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),r.bind("isEnabled").toMany([s,...l],"isEnabled",(...e)=>e.some(e=>e)),this.listenTo(r.buttonView,"execute",()=>{o.execute(a),o.editing.view.focus()}),this.listenTo(r,"execute",e=>{o.execute(e.source.commandName),o.editing.view.focus()}),r}_fillDropdownWithListOptions(e,t){var i=this.editor,n=[],o=new w.Collection;for(const e of t){r=void 0;a=void 0;s=void 0;l=void 0;var r=e;var a=i;var s=n;var l=o;const c=r.model=new k.Model(r.model),{commandName:d,bindIsOn:u}=r.model;if("button"===r.type||"switchbutton"===r.type){const r=a.commands.get(d);s.push(r),c.set({commandName:d}),c.bind("isEnabled").to(r),u&&c.bind("isOn").to(r,"value")}c.set({withText:!0}),l.add(r)}return(0,k.addListToDropdown)(e,o,i.ui.componentFactory),n}}t=_i(475);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class l extends a.Plugin{static get pluginName(){return"TableSelection"}static get requires(){return[m,m]}init(){var e=this.editor.model;this.listenTo(e,"deleteContent",(e,t)=>this._handleDeleteContent(e,t),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(m),t=this.editor.model.document.selection,i=e.getSelectedTableCells(t);return 0==i.length?null:i}getSelectionAsFragment(){const c=this.editor.plugins.get(m),d=this.getSelectedTableCells();return d?this.editor.model.change(e=>{var t=e.createDocumentFragment(),{first:i,last:n}=c.getColumnIndexes(d),{first:o,last:r}=c.getRowIndexes(d),a=d[0].findAncestor("table");let s=r,l=n;if(c.isSelectionRectangular(d)){const c={firstColumn:i,lastColumn:n,firstRow:o,lastRow:r};s=ne(a,c),l=oe(a,c)}n=Y(a,{startRow:o,startColumn:i,endRow:s,endColumn:l},e);return e.insert(n,t,0),t}):null}setCellSelection(e,t){const i=this._getCellsToSelect(e,t);this.editor.model.change(t=>{t.setSelection(i.cells.map(e=>t.createRangeOn(e)),{backward:i.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=this.editor.model.document.selection,t=(0,w.first)(e.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const e=this.editor,s=new Set;e.conversion.for("editingDowncast").add(e=>e.on("selection",(e,t,i)=>{const n=i.writer;var o=n;for(const a of s)o.removeClass("ck-editor__editable_selected",a);s.clear();var r=this.getSelectedTableCells();if(r){for(const e of r){const t=i.mapper.toViewElement(e);n.addClass("ck-editor__editable_selected",t),s.add(t)}r=i.mapper.toViewElement(r[r.length-1]);n.setSelection(r,0)}},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();i&&n.model.change(e=>{var t=e.createPositionAt(i[0],0),t=n.model.schema.getNearestSelectionRange(t);e.setSelection(t)})}})}_handleDeleteContent(e,t){const i=this.editor.plugins.get(m),[n,o]=t,r=this.editor.model,a=!o||"backward"==o.direction,s=i.getSelectedTableCells(n);s.length&&(e.stop(),r.change(e=>{var t=s[a?s.length-1:0],t=(r.change(e=>{for(const t of s)r.deleteContent(e.createSelection(t,"in"))}),r.schema.getNearestSelectionRange(e.createPositionAt(t,0)));n.is("documentSelection")?e.setSelection(t):n.setTo(t)}))}_getCellsToSelect(e,t){const i=this.editor.plugins.get("TableUtils"),n=i.getCellLocation(e),o=i.getCellLocation(t),r=Math.min(n.row,o.row),a=Math.max(n.row,o.row),s=Math.min(n.column,o.column),l=Math.max(n.column,o.column),c=new Array(a-r+1).fill(null).map(()=>[]),d={startRow:r,endRow:a,startColumn:s,endColumn:l};for(const{row:t,cell:i}of new y(e.findAncestor("table"),d))c[t-r].push(i);t=o.row<n.row,e=o.column<n.column;return t&&c.reverse(),e&&c.forEach(e=>e.reverse()),{cells:c.flat(),backward:t||e}}}class Ie extends a.Plugin{static get pluginName(){return"TableClipboard"}static get requires(){return[l,m]}init(){var e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(e,t)=>this._onCopyCut(e,t)),this.listenTo(t,"cut",(e,t)=>this._onCopyCut(e,t)),this.listenTo(e.model,"insertContent",(e,t)=>this._onInsertContent(e,...t),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const i=this.editor.plugins.get(l);if(i.getSelectedTableCells()&&("cut"!=e.name||!this.editor.isReadOnly)){t.preventDefault(),e.stop();const n=this.editor.data,o=this.editor.editing.view.document,r=n.toView(i.getSelectionAsFragment());o.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:r,method:e.name})}}_onInsertContent(e,t,i){if(!i||i.is("documentSelection")){const n=this.editor.model,c=this.editor.plugins.get(m);let l=Ae(t,n);if(l){const d=c.getSelectionAffectedTableCells(n.document.selection);d.length?(e.stop(),n.change(t=>{const e={width:c.getColumns(l),height:c.getRows(l)},i=function(e,t,i,n){const o=e[0].findAncestor("table"),r=n.getColumnIndexes(e),a=n.getRowIndexes(e),s={firstColumn:r.first,lastColumn:r.last,firstRow:a.first,lastRow:a.last},l=1===e.length;{var c,d,u,d,t,m,h,n,e;(l&&(s.lastRow+=t.height-1,s.lastColumn+=t.width-1,t=o,m=s.lastRow+1,c=s.lastColumn+1,d=(u=n).getColumns(t),h=u.getRows(t),d<c&&u.insertColumns(t,{at:d,columns:c-d}),h<m&&u.insertRows(t,{at:h,rows:m-h})),l||!n.isSelectionRectangular(e))?(c=o,d=s,u=i,{firstRow:d,lastRow:t,firstColumn:m,lastColumn:h}=d,e={first:m,last:h},Le(c,m,n={first:d,last:t},u),Le(c,h+1,n,u),Se(c,d,e,u),Se(c,t+1,e,u,d)):(s.lastRow=ne(o,s),s.lastColumn=oe(o,s))}return s}(d,e,t,c),n=i.lastRow-i.firstRow+1,o=i.lastColumn-i.firstColumn+1,r={startRow:0,startColumn:0,endRow:Math.min(n,e.height)-1,endColumn:Math.min(o,e.width)-1},a=(l=Y(l,r,t),d[0].findAncestor("table")),s=this._replaceSelectedCellsWithPasted(l,e,a,i,t);if(this.editor.plugins.get("TableSelection").isEnabled){const e=c.sortRanges(s.map(e=>t.createRangeOn(e)));t.setSelection(e)}else t.setSelection(s[0],0)})):ie(l,c)}}}_replaceSelectedCellsWithPasted(e,t,i,n,o){const{width:r,height:a}=t,s=function(e,t,i){const n=new Array(i).fill(null).map(()=>new Array(t).fill(null));for(const{column:t,row:i,cell:o}of new y(e))n[i][t]=o;return n}(e,r,a),l=[...new y(i,{startRow:n.firstRow,endRow:n.lastRow,startColumn:n.firstColumn,endColumn:n.lastColumn,includeAllSlots:!0})],c=[];let d;for(const e of l){const{row:t,column:i}=e,l=(i===n.firstColumn&&(d=e.getPositionBefore()),t-n.firstRow),y=i-n.firstColumn,u=s[l%a][y%r],m=u?o.cloneElement(u):null,h=this._replaceTableSlotCell(e,m,d,o);h&&(X(h,t,i,n.lastRow,n.lastColumn,o),c.push(h),d=o.createPositionAfter(h))}const u=parseInt(i.getAttribute("headingRows")||0),m=parseInt(i.getAttribute("headingColumns")||0),h=n.firstRow<u&&u<=n.lastRow,g=n.firstColumn<m&&m<=n.lastColumn;if(h){const e=Se(i,u,{first:n.firstColumn,last:n.lastColumn},o,n.firstRow);c.push(...e)}if(g){const e=Le(i,m,{first:n.firstRow,last:n.lastRow},o);c.push(...e)}return c}_replaceTableSlotCell(e,t,i,n){var{cell:e,isAnchor:o}=e;return o&&n.remove(e),t?(n.insert(t,i),t):null}getTableIfOnlyTableInContent(e,t){return Ae(e,t)}}function Ae(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);const i=t.createRangeIn(e);for(const e of i.getItems())if(e.is("element","table")){var n=t.createRange(i.start,t.createPositionBefore(e));if(t.hasContent(n,{ignoreWhitespaces:!0}))return null;n=t.createRange(t.createPositionAfter(e),i.end);return t.hasContent(n,{ignoreWhitespaces:!0})?null:e}return null}function Se(e,t,i,n,o=0){if(!(t<1))return $(e,t,o).filter(({column:e,cellWidth:t})=>Ee(e,t,i)).map(({cell:e})=>Q(e,t,n))}function Le(e,i,n,o){if(!(i<1))return G(e,i).filter(({row:e,cellHeight:t})=>Ee(e,t,n)).map(({cell:e,column:t})=>J(e,t,i,o))}function Ee(e,t,i){var{first:i,last:n}=i;return i<=e&&e<=n||e<i&&i<=e+t-1}class Me extends a.Plugin{static get pluginName(){return"TableKeyboard"}static get requires(){return[l,m]}init(){var e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...e)=>this._onArrowKey(...e),{context:"table"}),this.listenTo(e,"tab",(...e)=>this._handleTabOnSelectedTable(...e),{context:"figure"}),this.listenTo(e,"tab",(...e)=>this._handleTab(...e),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const i=this.editor,n=i.model.document.selection.getSelectedElement();n&&n.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),i.model.change(e=>{e.setSelection(e.createRangeIn(n.getChild(0).getChild(0)))}))}_handleTab(e,i){const n=this.editor,t=this.editor.plugins.get(m),o=n.model.document.selection,r=!i.shiftKey;let a=t.getTableCellsContainingSelection(o)[0];if(a=a||this.editor.plugins.get("TableSelection").getFocusCell()){i.preventDefault(),i.stopPropagation(),e.stop();const s=a.parent,l=s.parent,c=l.getChildIndex(s),d=s.getChildIndex(a),u=0===d;if(!r&&u&&0===c)n.model.change(e=>{e.setSelection(e.createRangeOn(l))});else{i=d===s.childCount-1,e=c===t.getRows(l)-1;if(r&&e&&i&&(n.execute("insertTableRowBelow"),c===t.getRows(l)-1))n.model.change(e=>{e.setSelection(e.createRangeOn(l))});else{let t;if(r&&i){const e=l.getChild(c+1);t=e.getChild(0)}else if(!r&&u){const e=l.getChild(c-1);t=e.getChild(e.childCount-1)}else t=s.getChild(d+(r?1:-1));n.model.change(e=>{e.setSelection(e.createRangeIn(t))})}}}}_onArrowKey(e,t){var i=this.editor,n=t.keyCode,n=(0,w.getLocalizedArrowKeyCodeDirection)(n,i.locale.contentLanguageDirection);this._handleArrowKeys(n,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const i=this.editor.plugins.get(m),n=this.editor.model,o=n.document.selection,r=["right","down"].includes(e),a=i.getSelectedTableCells(o);if(a.length)return s=t?this.editor.plugins.get("TableSelection").getFocusCell():r?a[a.length-1]:a[0],this._navigateFromCellInDirection(s,e,t),!0;var s=o.focus.findAncestor("tableCell");if(!s)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==r&&!o.containsEntireContent(s))return!1}else{const e=o.getSelectedElement();if(!e||!n.schema.isObject(e))return!1}return!!this._isSelectionAtCellEdge(o,s,r)&&(this._navigateFromCellInDirection(s,e,t),!0)}_isSelectionAtCellEdge(e,t,i){const n=this.editor.model,o=this.editor.model.schema,r=i?e.getLastPosition():e.getFirstPosition();if(!o.getLimitElement(r).is("element","tableCell"))return n.createPositionAt(t,i?"end":0).isTouching(r);e=n.createSelection(r);return n.modifySelection(e,{direction:i?"forward":"backward"}),r.isEqual(e.focus)}_navigateFromCellInDirection(t,e,i=!1){const n=this.editor.model,o=t.findAncestor("table"),r=[...new y(o,{includeAllSlots:!0})],{row:a,column:s}=r[r.length-1],l=r.find(({cell:e})=>e==t);let{row:c,column:d}=l;switch(e){case"left":d--;break;case"up":c--;break;case"right":d+=l.cellWidth;break;case"down":c+=l.cellHeight}if(c<0||c>a||d<0&&c<=0||d>s&&c>=a)n.change(e=>{e.setSelection(e.createRangeOn(o))});else{d<0?(d=i?0:s,c--):d>s&&(d=i?s:0,c++);const u=r.find(e=>e.row==c&&e.column==d).cell,m=["right","down"].includes(e),h=this.editor.plugins.get("TableSelection");if(i&&h.isEnabled){const e=h.getAnchorCell()||t;h.setCellSelection(e,u)}else{const t=n.createPositionAt(u,m?0:"end");n.change(e=>{e.setSelection(t)})}}}}var d=_i(492);class Ne extends d.DomEventObserver{constructor(e){super(e),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class Ve extends a.Plugin{static get pluginName(){return"TableMouse"}static get requires(){return[l,m]}init(){this.editor.editing.view.addObserver(Ne),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const o=this.editor,r=o.plugins.get(m);let a=!1;const s=o.plugins.get(l);this.listenTo(o.editing.view.document,"mousedown",(e,t)=>{var i,n=o.model.document.selection;this.isEnabled&&s.isEnabled&&t.domEvent.shiftKey&&(n=s.getAnchorCell()||r.getTableCellsContainingSelection(n)[0])&&(i=this._getModelTableCellFromDomEvent(t))&&je(n,i)&&(a=!0,s.setCellSelection(n,i),t.preventDefault())}),this.listenTo(o.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(o.editing.view.document,"selectionChange",e=>{a&&e.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let n,o,r=!1,a=!1;const s=e.plugins.get(l);this.listenTo(e.editing.view.document,"mousedown",(e,t)=>{this.isEnabled&&s.isEnabled&&(t.domEvent.shiftKey||t.domEvent.ctrlKey||t.domEvent.altKey||(n=this._getModelTableCellFromDomEvent(t)))}),this.listenTo(e.editing.view.document,"mousemove",(e,t)=>{var i;t.domEvent.buttons&&n&&((i=this._getModelTableCellFromDomEvent(t))&&je(n,i)&&(o=i,r||o==n||(r=!0)),r&&(a=!0,s.setCellSelection(n,o),t.preventDefault()))}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1,a=!1,n=null,o=null}),this.listenTo(e.editing.view.document,"selectionChange",e=>{a&&e.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){e=e.target,e=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(e).parent.findAncestor("tableCell",{includeSelf:!0})}}function je(e,t){return e.parent.parent==t.parent.parent}t=_i(660);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class Pe extends a.Plugin{static get requires(){return[i,Te,l,Ve,Me,Ie,c.Widget]}static get pluginName(){return"Table"}}class ze extends a.Plugin{static get pluginName(){return"PlainTableOutput"}static get requires(){return[Pe]}init(){const e=this.editor;if(e.conversion.for("dataDowncast").elementToStructure({model:"table",view:De,converterPriority:"high"}),e.plugins.has("TableCaption")&&e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(e,{writer:t})=>{if("table"===e.parent.name)return t.createContainerElement("caption")},converterPriority:"high"}),e.plugins.has("TableProperties")){var t=e;for(const[s,i]of Object.entries({"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"}))t.conversion.for("dataDowncast").add(e=>e.on(`attribute:${i}:table`,(e,t,i)=>{const{item:n,attributeNewValue:o}=t,{mapper:r,writer:a}=i;i.consumable.consume(n,e.name)&&(t=r.toViewElement(n),o?a.setStyle(s,o,t):a.removeStyle(s,t))},{priority:"high"}))}}}function De(e,{writer:t}){const i=e.getAttribute("headingRows")||0,n=t.createSlot(e=>e.is("element","tableRow")&&e.index<i),o=t.createSlot(e=>e.is("element","tableRow")&&e.index>=i),r=t.createSlot(e=>!e.is("element","tableRow")),a=t.createContainerElement("thead",null,n),s=t.createContainerElement("tbody",null,o),l=[];return i&&l.push(a),i<e.childCount&&l.push(s),t.createContainerElement("table",null,[r,...l])}function Re(e){e=e.getSelectedElement();return e&&Be(e)?e:null}function u(e){let t=e.getFirstPosition().parent;for(;t;){if(t.is("element")&&Be(t))return t;t=t.parent}return null}function Be(e){return e.getCustomProperty("table")&&(0,c.isWidget)(e)}class Oe extends a.Plugin{static get requires(){return[c.WidgetToolbarRepository]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get(c.WidgetToolbarRepository),n=e.config.get("table.contentToolbar"),o=e.config.get("table.tableToolbar");n&&i.register("tableContent",{ariaLabel:t("Table toolbar"),items:n,getRelatedElement:u}),o&&i.register("table",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:Re})}}t=_i(252);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class Fe extends k.View{constructor(e,t){super(e);const i=this.bindTemplate;this.set("value",""),this.set("id"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.set("ariaDescribedById"),this.options=t,this._dropdownView=this._createDropdownView(),this._inputView=this._createInputTextView(),this._stillTyping=!1,this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color",i.if("hasError","ck-error")],id:i.to("id"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},children:[this._dropdownView,this._inputView]}),this.on("change:value",(e,t,i)=>this._setInputValue(i))}focus(){this._inputView.focus()}_createDropdownView(){const e=this.locale,t=e.t,i=this.bindTemplate,n=this._createColorGrid(e),o=(0,k.createDropdown)(e),r=new k.View,a=this._createRemoveColorButton();return r.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:i.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",i.if("value","ck-hidden",e=>""!=e)]}}]}),o.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),o.buttonView.children.add(r),o.buttonView.tooltip=t("Color picker"),o.panelPosition="rtl"===e.uiLanguageDirection?"se":"sw",o.panelView.children.add(a),o.panelView.children.add(n),o.bind("isEnabled").to(this,"isReadOnly",e=>!e),o}_createInputTextView(){const e=this.locale,i=new k.InputTextView(e);return i.extendTemplate({on:{blur:i.bindTemplate.to("blur")}}),i.value=this.value,i.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(i),i.on("input",()=>{const t=i.element.value,e=this.options.colorDefinitions.find(e=>t===e.label);this._stillTyping=!0,this.value=e&&e.color||t}),i.on("blur",()=>{this._stillTyping=!1,this._setInputValue(i.element.value)}),i.delegate("input").to(this),i}_createRemoveColorButton(){const e=this.locale,t=e.t,i=new k.ButtonView(e),n=this.options.defaultColorValue||"",o=t(n?"Restore default":"Remove color");return i.class="ck-input-color__remove-color",i.withText=!0,i.icon=a.icons.eraser,i.label=o,i.on("execute",()=>{this.value=n,this._dropdownView.isOpen=!1,this.fire("input")}),i}_createColorGrid(e){const t=new k.ColorGridView(e,{colorDefinitions:this.options.colorDefinitions,columns:this.options.columns});return t.on("execute",(e,t)=>{this.value=t.value,this._dropdownView.isOpen=!1,this.fire("input")}),t.bind("selectedColor").to(this,"value"),t}_setInputValue(e){if(!this._stillTyping){const t=He(e),i=this.options.colorDefinitions.find(e=>t===He(e.color));this._inputView.value=i?i.label:e||""}}}function He(e){return e.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}function Ue(e){return{none:e("None"),solid:e("Solid"),dotted:e("Dotted"),dashed:e("Dashed"),double:e("Double"),groove:e("Groove"),ridge:e("Ridge"),inset:e("Inset"),outset:e("Outset")}}function We(e){return e('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function qe(e){return e('The value is invalid. Try "10px" or "2em" or simply "2".')}function h(e){return""===(e=e.trim())||(0,d.isColor)(e)}function g(e){return""===(e=e.trim())||$e(e)||(0,d.isLength)(e)||(0,d.isPercentage)(e)}function Ze(e){return""===(e=e.trim())||$e(e)||(0,d.isLength)(e)}function Ke(e,t){const i=new w.Collection,n=Ue(e.t);for(const o in n){const r={type:"button",model:new k.Model({_borderStyleValue:o,label:n[o],withText:!0})};"none"===o?r.model.bind("isOn").to(e,"borderStyle",e=>"none"===t?!e:e===o):r.model.bind("isOn").to(e,"borderStyle",e=>e===o),i.add(r)}return i}function Ye(e){const{view:t,icons:i,toolbar:n,labels:o,propertyName:r,nameToValue:a,defaultValue:s}=e;for(const e in o){const l=new k.ButtonView(t.locale),c=(l.set({label:o[e],icon:i[e],tooltip:o[e]}),a?a(e):e);l.bind("isOn").to(t,r,e=>{let t=e;return""===e&&s&&(t=s),c===t}),l.on("execute",()=>{t[r]=c}),n.items.add(l)}}const o=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function p(o){return(e,t,i)=>{const n=new Fe(e.locale,{colorDefinitions:o.colorConfig.map(e=>({color:e.model,label:e.label,options:{hasBorder:e.hasBorder}})),columns:o.columns,defaultColorValue:o.defaultColorValue});return n.set({id:t,ariaDescribedById:i}),n.bind("isReadOnly").to(e,"isEnabled",e=>!e),n.bind("hasError").to(e,"errorText",e=>!!e),n.on("input",()=>{e.errorText=null}),e.bind("isEmpty","isFocused").to(n),n}}function $e(e){var t=parseFloat(e);return!Number.isNaN(t)&&e===String(t)}t=_i(333);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class _ extends k.View{constructor(e,t={}){super(e);const i=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach(e=>this.children.add(e)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",i.to("class")],role:i.to("_role"),"aria-labelledby":i.to("_ariaLabelledBy")},children:this.children})}}t=_i(934),e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals,t=_i(686),e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals,t=_i(773);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;const Qe={left:a.icons.alignLeft,center:a.icons.alignCenter,right:a.icons.alignRight,justify:a.icons.alignJustify,top:a.icons.alignTop,middle:a.icons.alignMiddle,bottom:a.icons.alignBottom};class Ge extends k.View{constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=t;var{borderStyleDropdown:t,borderWidthInput:i,borderColorInput:n,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:r,backgroundInput:a}=this._createBackgroundFields(),{widthInput:s,operatorLabel:l,heightInput:c,dimensionsLabel:d}=this._createDimensionFields(),{horizontalAlignmentToolbar:u,verticalAlignmentToolbar:m,alignmentLabel:h}=this._createAlignmentFields(),{saveButtonView:g,cancelButtonView:p}=(this.focusTracker=new w.FocusTracker,this.keystrokes=new w.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=t,this.borderWidthInput=i,this.borderColorInput=n,this.backgroundInput=a,this.paddingInput=this._createPaddingField(),this.widthInput=s,this.heightInput=c,this.horizontalAlignmentToolbar=u,this.verticalAlignmentToolbar=m,this._createActionButtons());this.saveButtonView=g,this.cancelButtonView=p,this._focusables=new k.ViewCollection,this._focusCycler=new k.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new k.FormHeaderView(e,{label:this.t("Cell properties")})),this.children.add(new _(e,{labelView:o,children:[o,t,n,i],class:"ck-table-form__border-row"})),this.children.add(new _(e,{labelView:r,children:[r,a],class:"ck-table-form__background-row"})),this.children.add(new _(e,{children:[new _(e,{labelView:d,children:[d,s,l,c],class:"ck-table-form__dimensions-row"}),new _(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new _(e,{labelView:h,children:[h,u,m],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new _(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,k.submitHandler)({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,o={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},t=p({colorConfig:this.options.borderColors,columns:5,defaultColorValue:o.color}),i=this.locale,n=this.t,r=new k.LabelView(i),a=(r.text=n("Border"),Ue(n)),s=new k.LabeledFieldView(i,k.createLabeledDropdown),l=(s.set({label:n("Style"),class:"ck-table-form__border-style"}),s.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:n("Style")}),s.fieldView.buttonView.bind("label").to(this,"borderStyle",e=>a[e||"none"]),s.fieldView.on("execute",e=>{this.borderStyle=e.source._borderStyleValue}),s.bind("isEmpty").to(this,"borderStyle",e=>!e),(0,k.addListToDropdown)(s.fieldView,Ke(this,o.style)),new k.LabeledFieldView(i,k.createLabeledInputText)),c=(l.set({label:n("Width"),class:"ck-table-form__border-width"}),l.fieldView.bind("value").to(this,"borderWidth"),l.bind("isEnabled").to(this,"borderStyle",x),l.fieldView.on("input",()=>{this.borderWidth=l.fieldView.element.value}),new k.LabeledFieldView(i,t));return c.set({label:n("Color"),class:"ck-table-form__border-color"}),c.fieldView.bind("value").to(this,"borderColor"),c.bind("isEnabled").to(this,"borderStyle",x),c.fieldView.on("input",()=>{this.borderColor=c.fieldView.value}),this.on("change:borderStyle",(e,t,i,n)=>{x(i)||(this.borderColor="",this.borderWidth=""),x(n)||(this.borderColor=o.color,this.borderWidth=o.width)}),{borderRowLabel:r,borderStyleDropdown:s,borderColorInput:c,borderWidthInput:l}}_createBackgroundFields(){const e=this.locale,t=this.t,i=new k.LabelView(e),n=(i.text=t("Background"),p({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor})),o=new k.LabeledFieldView(e,n);return o.set({label:t("Color"),class:"ck-table-cell-properties-form__background"}),o.fieldView.bind("value").to(this,"backgroundColor"),o.fieldView.on("input",()=>{this.backgroundColor=o.fieldView.value}),{backgroundRowLabel:i,backgroundInput:o}}_createDimensionFields(){const e=this.locale,t=this.t,i=new k.LabelView(e),n=(i.text=t("Dimensions"),new k.LabeledFieldView(e,k.createLabeledInputText)),o=(n.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),n.fieldView.bind("value").to(this,"width"),n.fieldView.on("input",()=>{this.width=n.fieldView.element.value}),new k.View(e)),r=(o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]}),new k.LabeledFieldView(e,k.createLabeledInputText));return r.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),r.fieldView.bind("value").to(this,"height"),r.fieldView.on("input",()=>{this.height=r.fieldView.element.value}),{dimensionsLabel:i,widthInput:n,operatorLabel:o,heightInput:r}}_createPaddingField(){const e=this.locale,t=this.t,i=new k.LabeledFieldView(e,k.createLabeledInputText);return i.set({label:t("Padding"),class:"ck-table-cell-properties-form__padding"}),i.fieldView.bind("value").to(this,"padding"),i.fieldView.on("input",()=>{this.padding=i.fieldView.element.value}),i}_createAlignmentFields(){const e=this.locale,t=this.t,i=new k.LabelView(e),n=(i.text=t("Table cell text alignment"),new k.ToolbarView(e)),o="rtl"===this.locale.contentLanguageDirection,r=(n.set({isCompact:!0,ariaLabel:t("Horizontal text alignment toolbar")}),Ye({view:this,icons:Qe,toolbar:n,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:e=>{if(o){if("left"===e)return"right";if("right"===e)return"left"}return e},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment}),new k.ToolbarView(e));return r.set({isCompact:!0,ariaLabel:t("Vertical text alignment toolbar")}),Ye({view:this,icons:Qe,toolbar:r,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:n,verticalAlignmentToolbar:r,alignmentLabel:i}}_createActionButtons(){const e=this.locale,t=this.t,i=new k.ButtonView(e),n=new k.ButtonView(e),o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return i.set({label:t("Save"),icon:a.icons.check,class:"ck-button-save",type:"submit",withText:!0}),i.bind("isEnabled").toMany(o,"errorText",(...e)=>e.every(e=>!e)),n.set({label:t("Cancel"),icon:a.icons.cancel,class:"ck-button-cancel",withText:!0}),n.delegate("execute").to(this,"cancel"),{saveButtonView:i,cancelButtonView:n}}get _horizontalAlignmentLabels(){const e=this.locale,t=this.t,i=t("Align cell text to the left"),n=t("Align cell text to the center"),o=t("Align cell text to the right"),r=t("Justify cell text");return"rtl"===e.uiLanguageDirection?{right:o,center:n,left:i,justify:r}:{left:i,center:n,right:o,justify:r}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function x(e){return"none"!==e}const C=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var t="object"==typeof global&&global&&global.Object===Object&&global,r="object"==typeof self&&self&&self.Object===Object&&self;function Je(){return Xe.Date.now()}const Xe=t||r||Function("return this")();var et=/\s/;var tt=/^\s+/;const it=function(e){return e&&e.slice(0,function(e){for(var t=e.length;t--&&et.test(e.charAt(t)););return t}(e)+1).replace(tt,"")};var t=Xe.Symbol,r=Object.prototype,nt=r.hasOwnProperty,ot=r.toString,s=t?t.toStringTag:void 0;var rt=Object.prototype.toString;var at=t?t.toStringTag:void 0;function st(e){if(null==e)return void 0===e?"[object Undefined]":"[object Null]";if(at&&at in Object(e)){var t=e,i=nt.call(t,s),n=t[s];try{var o=!(t[s]=void 0)}catch(t){}var r=ot.call(t);return o&&(i?t[s]=n:delete t[s]),r}return rt.call(e)}const lt=function(e){return"symbol"==typeof e||null!=(t=e)&&"object"==typeof t&&"[object Symbol]"==st(e);var t};var ct=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ut=/^0o[0-7]+$/i,mt=parseInt;function ht(e){if("number"==typeof e)return e;if(lt(e))return NaN;if(C(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=C(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=it(e);var t=dt.test(e);return t||ut.test(e)?mt(e.slice(2),t?2:8):ct.test(e)?NaN:+e}var gt=Math.max,pt=Math.min;function ft(n,i,e){var o,r,a,s,l,c,d=0,u=!1,m=!1,t=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function h(e){var t=o,i=r;return o=r=void 0,d=e,s=n.apply(i,t)}function g(e){var t=e-c;return void 0===c||i<=t||t<0||m&&a<=e-d}function p(){var e,t=Je();if(g(t))return f(t);l=setTimeout(p,(e=i-(t-c),m?pt(e,a-(t-d)):e))}function f(e){return l=void 0,t&&o?h(e):(o=r=void 0,s)}function b(){var e=Je(),t=g(e);if(o=arguments,r=this,c=e,t){if(void 0===l)return d=e=c,l=setTimeout(p,i),u?h(e):s;if(m)return clearTimeout(l),l=setTimeout(p,i),h(c)}return void 0===l&&(l=setTimeout(p,i)),s}return i=ht(i)||0,C(e)&&(u=!!e.leading,a=(m="maxWait"in e)?gt(ht(e.maxWait)||0,i):a,t="trailing"in e?!!e.trailing:t),b.cancel=function(){void 0!==l&&clearTimeout(l),o=c=r=l=void(d=0)},b.flush=function(){return void 0===l?s:f(Je())},b}const T=k.BalloonPanelView.defaultPositions,bt=[T.northArrowSouth,T.northArrowSouthWest,T.northArrowSouthEast,T.southArrowNorth,T.southArrowNorthWest,T.southArrowNorthEast,T.viewportStickyNorth];function wt(e,t){const i=e.plugins.get("ContextualBalloon");u(e.editing.view.document.selection)&&(t=("cell"===t?kt:vt)(e),i.updatePosition(t))}function vt(e){var t=e.model.document.selection.getFirstPosition().findAncestor("table"),t=e.editing.mapper.toViewElement(t);return{target:e.editing.view.domConverter.viewToDom(t),positions:bt}}function kt(o){const e=o.editing.mapper,t=o.editing.view.domConverter,r=o.model.document.selection;if(1<r.rangeCount)return{target:()=>{{var e=r.getRanges();const t=o.editing.mapper,i=o.editing.view.domConverter,n=Array.from(e).map(e=>{e=yt(e.start),e=t.toViewElement(e);return new w.Rect(i.viewToDom(e))});return w.Rect.getBoundingRect(n)}},positions:bt};var i=yt(r.getFirstPosition()),i=e.toViewElement(i);return{target:t.viewToDom(i),positions:bt}}function yt(e){return e.nodeAfter&&e.nodeAfter.is("element","tableCell")?e.nodeAfter:e.findAncestor("tableCell")}function I(e){if(!e||!C(e))return e;var{top:e,right:t,bottom:i,left:n}=e;return e==t&&t==i&&i==n?e:void 0}function A(e,t){var i=parseFloat(e);return Number.isNaN(i)||String(i)!==String(e)?e:""+i+t}function S(e,t={}){const i=Object.assign({borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:""},e);return t.includeAlignmentProperty&&!i.alignment&&(i.alignment="center"),t.includePaddingProperty&&!i.padding&&(i.padding=""),t.includeVerticalAlignmentProperty&&!i.verticalAlignment&&(i.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!i.horizontalAlignment&&(i.horizontalAlignment=t.isRightToLeftContent?"right":"left"),i}const _t={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",width:"tableCellWidth",height:"tableCellHeight",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class xt extends a.Plugin{static get requires(){return[k.ContextualBalloon]}static get pluginName(){return"TableCellPropertiesUI"}constructor(e){super(e),e.config.define("table.tableCellProperties",{borderColors:o,backgroundColors:o})}init(){const i=this.editor,n=i.t;this._defaultTableCellProperties=S(i.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===i.locale.contentLanguageDirection}),this._balloon=i.plugins.get(k.ContextualBalloon),this.view=this._createPropertiesView(),this._undoStepBatch=null,i.ui.componentFactory.add("tableCellProperties",e=>{const t=new k.ButtonView(e);t.set({label:n("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(t,"execute",()=>this._showView());e=Object.values(_t).map(e=>i.commands.get(e));return t.bind("isEnabled").toMany(e,"isEnabled",(...e)=>e.some(e=>e)),t})}destroy(){super.destroy(),this.view.destroy()}_createPropertiesView(){const e=this.editor,t=e.editing.view.document,i=e.config.get("table.tableCellProperties"),n=(0,k.normalizeColorOptions)(i.borderColors),o=(0,k.getLocalizedColorOptions)(e.locale,n),r=(0,k.normalizeColorOptions)(i.backgroundColors),a=(0,k.getLocalizedColorOptions)(e.locale,r),s=new Ge(e.locale,{borderColors:o,backgroundColors:a,defaultTableCellProperties:this._defaultTableCellProperties}),l=e.t;s.render(),this.listenTo(s,"submit",()=>{this._hideView()}),this.listenTo(s,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),s.keystrokes.set("Esc",(e,t)=>{this._hideView(),t()}),this.listenTo(e.ui,"update",()=>{u(t.selection)?this._isViewVisible&&wt(e,"cell"):this._hideView()}),(0,k.clickOutsideHandler)({emitter:s,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});var c=We(l),d=qe(l);return s.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle",this._defaultTableCellProperties.borderStyle)),s.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:s.borderColorInput,commandName:"tableCellBorderColor",errorText:c,validator:h,defaultValue:this._defaultTableCellProperties.borderColor})),s.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:s.borderWidthInput,commandName:"tableCellBorderWidth",errorText:d,validator:Ze,defaultValue:this._defaultTableCellProperties.borderWidth})),s.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:s.paddingInput,commandName:"tableCellPadding",errorText:d,validator:g,defaultValue:this._defaultTableCellProperties.padding})),s.on("change:width",this._getValidatedPropertyChangeCallback({viewField:s.widthInput,commandName:"tableCellWidth",errorText:d,validator:g,defaultValue:this._defaultTableCellProperties.width})),s.on("change:height",this._getValidatedPropertyChangeCallback({viewField:s.heightInput,commandName:"tableCellHeight",errorText:d,validator:g,defaultValue:this._defaultTableCellProperties.height})),s.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:s.backgroundInput,commandName:"tableCellBackgroundColor",errorText:c,validator:h,defaultValue:this._defaultTableCellProperties.backgroundColor})),s.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment",this._defaultTableCellProperties.horizontalAlignment)),s.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment",this._defaultTableCellProperties.verticalAlignment)),s}_fillViewFormFromCommandValues(){const n=this.editor.commands,i=n.get("tableCellBorderStyle");Object.entries(_t).map(([e,t])=>{var i=this._defaultTableCellProperties[e]||"";return[e,n.get(t).value||i]}).forEach(([e,t])=>{("borderColor"!==e&&"borderWidth"!==e||"none"!==i.value)&&this.view.set(e,t)})}_showView(){const e=this.editor;this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:kt(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){var e;this._isViewInBalloon&&(e=this.editor,this.stopListening(e.ui,"update"),this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus())}get _isViewVisible(){return this._balloon.visibleView===this.view}get _isViewInBalloon(){return this._balloon.hasView(this.view)}_getPropertyChangeCallback(o,r){return(e,t,i,n)=>{!n&&r===i||this.editor.execute(o,{value:i,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:o,viewField:r,validator:a,errorText:t,defaultValue:s}=e,l=ft(()=>{r.errorText=t},500);return(e,t,i,n)=>{l.cancel(),!n&&s===i||(a(i)?(this.editor.execute(o,{value:i,batch:this._undoStepBatch}),r.errorText=null):l())}}}function Ct(e,t){const{viewElement:i,defaultValue:n,modelAttribute:o,styleName:r,reduceBoxSides:a=!1}=t;e.for("upcast").attributeToAttribute({view:{name:i,styles:{[r]:/[\s\S]+/}},model:{key:o,value:e=>{e=e.getNormalizedStyle(r),e=a?M(e):e;if(n!==e)return e}}})}function Tt(e,t,r,a){e.for("upcast").add(e=>e.on("element:"+t,(e,t,i)=>{var n,o;t.modelRange&&(o=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(e=>t.viewItem.hasStyle(e))).length&&i.consumable.test(t.viewItem,o={styles:o})&&(n=[...t.modelRange.getItems({shallow:!0})].pop(),i.consumable.consume(t.viewItem,o),(o={style:M((o={style:t.viewItem.getNormalizedStyle("border-style"),color:t.viewItem.getNormalizedStyle("border-color"),width:t.viewItem.getNormalizedStyle("border-width")}).style),color:M(o.color),width:M(o.width)}).style!==a.style&&i.writer.setAttribute(r.style,o.style,n),o.color!==a.color&&i.writer.setAttribute(r.color,o.color,n),o.width!==a.width&&i.writer.setAttribute(r.width,o.width,n))}))}function L(e,{modelElement:t,modelAttribute:i,styleName:n}){e.for("downcast").attributeToAttribute({model:{name:t,key:i},view:e=>({key:"style",value:{[n]:e}})})}function E(e,{modelAttribute:t,styleName:s}){e.for("downcast").add(e=>e.on(`attribute:${t}:table`,(e,t,i)=>{const{item:n,attributeNewValue:o}=t,{mapper:r,writer:a}=i;i.consumable.consume(t.item,e.name)&&(i=[...r.toViewElement(n).getChildren()].find(e=>e.is("element","table")),o?a.setStyle(s,o,i):a.removeStyle(s,i))}))}function M(t){if(t)return["top","right","bottom","left"].map(e=>t[e]).reduce((e,t)=>e==t?e:null)||t}class N extends a.Command{constructor(e,t,i){super(e),this.attributeName=t,this._defaultValue=i}refresh(){var e=this.editor,e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!e.length,this.value=this._getSingleValue(e)}execute(e={}){const{value:t,batch:i}=e,n=this.editor.model,o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n.document.selection),r=this._getValueToSet(t);n.enqueueChange(i,t=>{r?o.forEach(e=>t.setAttribute(this.attributeName,r,e)):o.forEach(e=>t.removeAttribute(this.attributeName,e))})}_getAttribute(e){if(e)return e=e.getAttribute(this.attributeName),e!==this._defaultValue?e:void 0}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const t=this._getAttribute(e[0]);return e.every(e=>this._getAttribute(e)===t)?t:void 0}}class It extends N{constructor(e,t){super(e,"tableCellPadding",t)}_getAttribute(e){if(e)return e=I(e.getAttribute(this.attributeName)),e!==this._defaultValue?e:void 0}_getValueToSet(e){if((e=A(e,"px"))!==this._defaultValue)return e}}class At extends N{constructor(e,t){super(e,"tableCellWidth",t)}_getValueToSet(e){if((e=A(e,"px"))!==this._defaultValue)return e}}class St extends N{constructor(e,t){super(e,"tableCellHeight",t)}_getValueToSet(e){return(e=A(e,"px"))===this._defaultValue?null:e}}class Lt extends N{constructor(e,t){super(e,"tableCellBackgroundColor",t)}}class Et extends N{constructor(e,t){super(e,"tableCellVerticalAlignment",t)}}class Mt extends N{constructor(e,t){super(e,"tableCellHorizontalAlignment",t)}}class Nt extends N{constructor(e,t){super(e,"tableCellBorderStyle",t)}_getAttribute(e){if(e)return e=I(e.getAttribute(this.attributeName)),e!==this._defaultValue?e:void 0}}class Vt extends N{constructor(e,t){super(e,"tableCellBorderColor",t)}_getAttribute(e){if(e)return e=I(e.getAttribute(this.attributeName)),e!==this._defaultValue?e:void 0}}class jt extends N{constructor(e,t){super(e,"tableCellBorderWidth",t)}_getAttribute(e){if(e)return e=I(e.getAttribute(this.attributeName)),e!==this._defaultValue?e:void 0}_getValueToSet(e){if((e=A(e,"px"))!==this._defaultValue)return e}}const Pt=/^(top|middle|bottom)$/,zt=/^(left|center|right|justify)$/;class Dt extends a.Plugin{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[i]}init(){const e=this.editor,t=e.model.schema,i=e.conversion;e.config.define("table.tableCellProperties.defaultProperties",{});var n,o,r,a,s,l,c=S(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===e.locale.contentLanguageDirection});e.data.addStyleProcessorRules(d.addBorderRules),r=t,a=i,s={color:c.borderColor,style:c.borderStyle,width:c.borderWidth},l={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"},r.extend("tableCell",{allowAttributes:Object.values(l)}),Tt(a,"td",l,s),Tt(a,"th",l,s),L(a,{modelElement:"tableCell",modelAttribute:l.style,styleName:"border-style"}),L(a,{modelElement:"tableCell",modelAttribute:l.color,styleName:"border-color"}),L(a,{modelElement:"tableCell",modelAttribute:l.width,styleName:"border-width"}),e.commands.add("tableCellBorderStyle",new Nt(e,c.borderStyle)),e.commands.add("tableCellBorderColor",new Vt(e,c.borderColor)),e.commands.add("tableCellBorderWidth",new jt(e,c.borderWidth)),Rt(t,i,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:c.width}),e.commands.add("tableCellWidth",new At(e,c.width)),Rt(t,i,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:c.height}),e.commands.add("tableCellHeight",new St(e,c.height)),e.data.addStyleProcessorRules(d.addPaddingRules),Rt(t,i,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:c.padding}),e.commands.add("tableCellPadding",new It(e,c.padding)),e.data.addStyleProcessorRules(d.addBackgroundRules),Rt(t,i,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:c.backgroundColor}),e.commands.add("tableCellBackgroundColor",new Lt(e,c.backgroundColor)),r=t,s=i,o=c.horizontalAlignment,r.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),s.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:e=>({key:"style",value:{"text-align":e}})}),s.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":zt}},model:{key:"tableCellHorizontalAlignment",value:e=>{e=e.getStyle("text-align");return e===o?null:e}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:zt}},model:{key:"tableCellHorizontalAlignment",value:e=>{e=e.getAttribute("align");return e===o?null:e}}}),e.commands.add("tableCellHorizontalAlignment",new Mt(e,c.horizontalAlignment)),a=i,n=c.verticalAlignment,t.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),a.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:e=>({key:"style",value:{"vertical-align":e}})}),a.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":Pt}},model:{key:"tableCellVerticalAlignment",value:e=>{e=e.getStyle("vertical-align");return e===n?null:e}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:Pt}},model:{key:"tableCellVerticalAlignment",value:e=>{e=e.getAttribute("valign");return e===n?null:e}}}),e.commands.add("tableCellVerticalAlignment",new Et(e,c.verticalAlignment))}}function Rt(e,t,i){var n=i["modelAttribute"];e.extend("tableCell",{allowAttributes:[n]}),Ct(t,{viewElement:/^(td|th)$/,...i}),L(t,{modelElement:"tableCell",...i})}class Bt extends a.Plugin{static get pluginName(){return"TableCellProperties"}static get requires(){return[Dt,xt]}}class V extends a.Command{constructor(e,t,i){super(e),this.attributeName=t,this._defaultValue=i}refresh(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e,this.value=this._getValue(e)}execute(e={}){const t=this.editor.model,i=t.document.selection,{value:n,batch:o}=e,r=i.getFirstPosition().findAncestor("table"),a=this._getValueToSet(n);t.enqueueChange(o,e=>{a?e.setAttribute(this.attributeName,a,r):e.removeAttribute(this.attributeName,r)})}_getValue(e){if(e)return e=e.getAttribute(this.attributeName),e!==this._defaultValue?e:void 0}_getValueToSet(e){if(e!==this._defaultValue)return e}}class Ot extends V{constructor(e,t){super(e,"tableBackgroundColor",t)}}class Ft extends V{constructor(e,t){super(e,"tableBorderColor",t)}_getValue(e){if(e)return e=I(e.getAttribute(this.attributeName)),e!==this._defaultValue?e:void 0}}class Ht extends V{constructor(e,t){super(e,"tableBorderStyle",t)}_getValue(e){if(e)return e=I(e.getAttribute(this.attributeName)),e!==this._defaultValue?e:void 0}}class Ut extends V{constructor(e,t){super(e,"tableBorderWidth",t)}_getValue(e){if(e)return e=I(e.getAttribute(this.attributeName)),e!==this._defaultValue?e:void 0}_getValueToSet(e){if((e=A(e,"px"))!==this._defaultValue)return e}}class Wt extends V{constructor(e,t){super(e,"tableWidth",t)}_getValueToSet(e){if((e=A(e,"px"))!==this._defaultValue)return e}}class qt extends V{constructor(e,t){super(e,"tableHeight",t)}_getValueToSet(e){return(e=A(e,"px"))===this._defaultValue?null:e}}class Zt extends V{constructor(e,t){super(e,"tableAlignment",t)}}const Kt=/^(left|center|right)$/,Yt=/^(left|none|right)$/;class $t extends a.Plugin{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[i]}init(){const e=this.editor,t=e.model.schema,i=e.conversion;e.config.define("table.tableProperties.defaultProperties",{});var n,o,r,a,s,l=S(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});e.data.addStyleProcessorRules(d.addBorderRules),o=t,r=i,a={color:l.borderColor,style:l.borderStyle,width:l.borderWidth},s={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"},o.extend("table",{allowAttributes:Object.values(s)}),Tt(r,"table",s,a),E(r,{modelAttribute:s.color,styleName:"border-color"}),E(r,{modelAttribute:s.style,styleName:"border-style"}),E(r,{modelAttribute:s.width,styleName:"border-width"}),e.commands.add("tableBorderColor",new Ft(e,l.borderColor)),e.commands.add("tableBorderStyle",new Ht(e,l.borderStyle)),e.commands.add("tableBorderWidth",new Ut(e,l.borderWidth)),o=t,a=i,n=l.alignment,o.extend("table",{allowAttributes:["tableAlignment"]}),a.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:e=>({key:"style",value:{float:"center"===e?"none":e}}),converterPriority:"high"}),a.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Yt}},model:{key:"tableAlignment",value:e=>{let t=e.getStyle("float");return(t="none"===t?"center":t)===n?null:t}}}).attributeToAttribute({view:{attributes:{align:Kt}},model:{name:"table",key:"tableAlignment",value:e=>{e=e.getAttribute("align");return e===n?null:e}}}),e.commands.add("tableAlignment",new Zt(e,l.alignment)),Qt(t,i,{modelAttribute:"tableWidth",styleName:"width",defaultValue:l.width}),e.commands.add("tableWidth",new Wt(e,l.width)),Qt(t,i,{modelAttribute:"tableHeight",styleName:"height",defaultValue:l.height}),e.commands.add("tableHeight",new qt(e,l.height)),e.data.addStyleProcessorRules(d.addBackgroundRules),r=i,s={modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:l.backgroundColor},o=s.modelAttribute,t.extend("table",{allowAttributes:[o]}),Ct(r,{viewElement:"table",...s}),E(r,s),e.commands.add("tableBackgroundColor",new Ot(e,l.backgroundColor))}}function Qt(e,t,i){var n=i["modelAttribute"];e.extend("table",{allowAttributes:[n]}),Ct(t,{viewElement:/^(table|figure)$/,...i}),L(t,{modelElement:"table",...i})}r=_i(99);e()(r.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),r.Z.locals;const Gt={left:a.icons.objectLeft,center:a.icons.objectCenter,right:a.icons.objectRight};class Jt extends k.View{constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=t;var{borderStyleDropdown:t,borderWidthInput:i,borderColorInput:n,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:r,backgroundInput:a}=this._createBackgroundFields(),{widthInput:s,operatorLabel:l,heightInput:c,dimensionsLabel:d}=this._createDimensionFields(),{alignmentToolbar:u,alignmentLabel:m}=this._createAlignmentFields(),{saveButtonView:h,cancelButtonView:g}=(this.focusTracker=new w.FocusTracker,this.keystrokes=new w.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=t,this.borderWidthInput=i,this.borderColorInput=n,this.backgroundInput=a,this.widthInput=s,this.heightInput=c,this.alignmentToolbar=u,this._createActionButtons());this.saveButtonView=h,this.cancelButtonView=g,this._focusables=new k.ViewCollection,this._focusCycler=new k.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new k.FormHeaderView(e,{label:this.t("Table properties")})),this.children.add(new _(e,{labelView:o,children:[o,t,n,i],class:"ck-table-form__border-row"})),this.children.add(new _(e,{labelView:r,children:[r,a],class:"ck-table-form__background-row"})),this.children.add(new _(e,{children:[new _(e,{labelView:d,children:[d,s,l,c],class:"ck-table-form__dimensions-row"}),new _(e,{labelView:m,children:[m,u],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new _(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,k.submitHandler)({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,o={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},t=p({colorConfig:this.options.borderColors,columns:5,defaultColorValue:o.color}),i=this.locale,n=this.t,r=new k.LabelView(i),a=(r.text=n("Border"),Ue(this.t)),s=new k.LabeledFieldView(i,k.createLabeledDropdown),l=(s.set({label:n("Style"),class:"ck-table-form__border-style"}),s.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:n("Style")}),s.fieldView.buttonView.bind("label").to(this,"borderStyle",e=>a[e||"none"]),s.fieldView.on("execute",e=>{this.borderStyle=e.source._borderStyleValue}),s.bind("isEmpty").to(this,"borderStyle",e=>!e),(0,k.addListToDropdown)(s.fieldView,Ke(this,o.style)),new k.LabeledFieldView(i,k.createLabeledInputText)),c=(l.set({label:n("Width"),class:"ck-table-form__border-width"}),l.fieldView.bind("value").to(this,"borderWidth"),l.bind("isEnabled").to(this,"borderStyle",Xt),l.fieldView.on("input",()=>{this.borderWidth=l.fieldView.element.value}),new k.LabeledFieldView(i,t));return c.set({label:n("Color"),class:"ck-table-form__border-color"}),c.fieldView.bind("value").to(this,"borderColor"),c.bind("isEnabled").to(this,"borderStyle",Xt),c.fieldView.on("input",()=>{this.borderColor=c.fieldView.value}),this.on("change:borderStyle",(e,t,i,n)=>{Xt(i)||(this.borderColor="",this.borderWidth=""),Xt(n)||(this.borderColor=o.color,this.borderWidth=o.width)}),{borderRowLabel:r,borderStyleDropdown:s,borderColorInput:c,borderWidthInput:l}}_createBackgroundFields(){const e=this.locale,t=this.t,i=new k.LabelView(e),n=(i.text=t("Background"),p({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor})),o=new k.LabeledFieldView(e,n);return o.set({label:t("Color"),class:"ck-table-properties-form__background"}),o.fieldView.bind("value").to(this,"backgroundColor"),o.fieldView.on("input",()=>{this.backgroundColor=o.fieldView.value}),{backgroundRowLabel:i,backgroundInput:o}}_createDimensionFields(){const e=this.locale,t=this.t,i=new k.LabelView(e),n=(i.text=t("Dimensions"),new k.LabeledFieldView(e,k.createLabeledInputText)),o=(n.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),n.fieldView.bind("value").to(this,"width"),n.fieldView.on("input",()=>{this.width=n.fieldView.element.value}),new k.View(e)),r=(o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]}),new k.LabeledFieldView(e,k.createLabeledInputText));return r.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),r.fieldView.bind("value").to(this,"height"),r.fieldView.on("input",()=>{this.height=r.fieldView.element.value}),{dimensionsLabel:i,widthInput:n,operatorLabel:o,heightInput:r}}_createAlignmentFields(){const e=this.locale,t=this.t,i=new k.LabelView(e),n=(i.text=t("Alignment"),new k.ToolbarView(e));return n.set({isCompact:!0,ariaLabel:t("Table alignment toolbar")}),Ye({view:this,icons:Gt,toolbar:n,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:i,alignmentToolbar:n}}_createActionButtons(){const e=this.locale,t=this.t,i=new k.ButtonView(e),n=new k.ButtonView(e),o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return i.set({label:t("Save"),icon:a.icons.check,class:"ck-button-save",type:"submit",withText:!0}),i.bind("isEnabled").toMany(o,"errorText",(...e)=>e.every(e=>!e)),n.set({label:t("Cancel"),icon:a.icons.cancel,class:"ck-button-cancel",withText:!0}),n.delegate("execute").to(this,"cancel"),{saveButtonView:i,cancelButtonView:n}}get _alignmentLabels(){const e=this.locale,t=this.t,i=t("Align table to the left"),n=t("Center table"),o=t("Align table to the right");return"rtl"===e.uiLanguageDirection?{right:o,center:n,left:i}:{left:i,center:n,right:o}}}function Xt(e){return"none"!==e}const ei={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class ti extends a.Plugin{static get requires(){return[k.ContextualBalloon]}static get pluginName(){return"TablePropertiesUI"}constructor(e){super(e),e.config.define("table.tableProperties",{borderColors:o,backgroundColors:o})}init(){const i=this.editor,n=i.t;this._defaultTableProperties=S(i.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=i.plugins.get(k.ContextualBalloon),this.view=this._createPropertiesView(),this._undoStepBatch=null,i.ui.componentFactory.add("tableProperties",e=>{const t=new k.ButtonView(e);t.set({label:n("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(t,"execute",()=>this._showView());e=Object.values(ei).map(e=>i.commands.get(e));return t.bind("isEnabled").toMany(e,"isEnabled",(...e)=>e.some(e=>e)),t})}destroy(){super.destroy(),this.view.destroy()}_createPropertiesView(){const e=this.editor,t=e.config.get("table.tableProperties"),i=(0,k.normalizeColorOptions)(t.borderColors),n=(0,k.getLocalizedColorOptions)(e.locale,i),o=(0,k.normalizeColorOptions)(t.backgroundColors),r=(0,k.getLocalizedColorOptions)(e.locale,o),a=new Jt(e.locale,{borderColors:n,backgroundColors:r,defaultTableProperties:this._defaultTableProperties}),s=e.t;a.render(),this.listenTo(a,"submit",()=>{this._hideView()}),this.listenTo(a,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),a.keystrokes.set("Esc",(e,t)=>{this._hideView(),t()}),(0,k.clickOutsideHandler)({emitter:a,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});var l=We(s),c=qe(s);return a.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle",this._defaultTableProperties.borderStyle)),a.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:a.borderColorInput,commandName:"tableBorderColor",errorText:l,validator:h,defaultValue:this._defaultTableProperties.borderColor})),a.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:a.borderWidthInput,commandName:"tableBorderWidth",errorText:c,validator:Ze,defaultValue:this._defaultTableProperties.borderWidth})),a.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:a.backgroundInput,commandName:"tableBackgroundColor",errorText:l,validator:h,defaultValue:this._defaultTableProperties.backgroundColor})),a.on("change:width",this._getValidatedPropertyChangeCallback({viewField:a.widthInput,commandName:"tableWidth",errorText:c,validator:g,defaultValue:this._defaultTableProperties.width})),a.on("change:height",this._getValidatedPropertyChangeCallback({viewField:a.heightInput,commandName:"tableHeight",errorText:c,validator:g,defaultValue:this._defaultTableProperties.height})),a.on("change:alignment",this._getPropertyChangeCallback("tableAlignment",this._defaultTableProperties.alignment)),a}_fillViewFormFromCommandValues(){const n=this.editor.commands,i=n.get("tableBorderStyle");Object.entries(ei).map(([e,t])=>{var i=this._defaultTableProperties[e]||"";return[e,n.get(t).value||i]}).forEach(([e,t])=>{("borderColor"!==e&&"borderWidth"!==e||"none"!==i.value)&&this.view.set(e,t)})}_showView(){const e=this.editor;this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:vt(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){var e=this.editor;this.stopListening(e.ui,"update"),this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){var e=this.editor;u(e.editing.view.document.selection)?this._isViewVisible&&wt(e,"table"):this._hideView()}get _isViewVisible(){return this._balloon.visibleView===this.view}get _isViewInBalloon(){return this._balloon.hasView(this.view)}_getPropertyChangeCallback(o,r){return(e,t,i,n)=>{!n&&r===i||this.editor.execute(o,{value:i,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:o,viewField:r,validator:a,errorText:t,defaultValue:s}=e,l=ft(()=>{r.errorText=t},500);return(e,t,i,n)=>{l.cancel(),!n&&s===i||(a(i)?(this.editor.execute(o,{value:i,batch:this._undoStepBatch}),r.errorText=null):l())}}}class ii extends a.Plugin{static get pluginName(){return"TableProperties"}static get requires(){return[$t,ti]}}function ni(s){s.document.registerPostFixer(t=>{{var i=t,n=s;const o=n.document.differ.getChanges();let e=!1;for(const n of o)if("insert"==n.type&&(n.position.parent.is("element","table")||"table"==n.name)){const o="table"==n.name?n.position.nodeAfter:n.position.parent,r=Array.from(o.getChildren()).filter(e=>e.is("element","caption")),a=r.shift();if(a){for(const n of r)i.move(i.createRangeIn(n),a,"end"),i.remove(n);a.nextSibling&&(i.move(i.createRangeOn(a),o,"end"),e=!0),e=!!r.length||e}}return e}})}function oi(e){return e&&e.is("element","table")}function ri(e){for(const t of e.getChildren())if(t.is("element","caption"))return t;return null}function ai(e){const t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("table")||"caption"==e.name&&t&&"table"==t.name?{name:!0}:null}function si(e){const t=e.getSelectedElement();return t&&t.is("element","table")?t:e.getFirstPosition().findAncestor("table")}class li extends a.Command{refresh(){var e=si(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?this.value=!!ri(e):this.value=!1}execute(e={}){const t=e["focusCaptionOnShow"];this.editor.model.change(e=>{this.value?this._hideTableCaption(e):this._showTableCaption(e,t)})}_showTableCaption(e,t){var i=si(this.editor.model.document.selection),n=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(i)||e.createElement("caption");e.append(n,i),t&&e.setSelection(n,"in")}_hideTableCaption(e){const t=si(this.editor.model.document.selection),i=this.editor.plugins.get("TableCaptionEditing"),n=ri(t);i._saveCaption(t,n),e.setSelection(e.createRangeIn(t.getChild(0).getChild(0))),e.remove(n)}}class ci extends a.Plugin{static get pluginName(){return"TableCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema,i=e.editing.view,n=e.t;t.isRegistered("caption")?t.extend("caption",{allowIn:"table"}):t.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new li(this.editor)),e.conversion.for("upcast").elementToElement({view:ai,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(e,{writer:t})=>oi(e.parent)?t.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(e,{writer:t})=>{if(!oi(e.parent))return null;e=t.createEditableElement("figcaption");return t.setCustomProperty("tableCaption",!0,e),(0,d.enablePlaceholder)({view:i,element:e,text:n("Enter table caption"),keepOnFocus:!0}),(0,c.toWidgetEditable)(e,t)}}),ni(e.model)}_getSavedCaption(e){e=this._savedCaptionsMap.get(e);return e?d.Element.fromJSON(e):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}}class di extends a.Plugin{static get pluginName(){return"TableCaptionUI"}init(){const o=this.editor,r=o.editing.view,i=o.t;o.ui.componentFactory.add("toggleTableCaption",e=>{const n=o.commands.get("toggleTableCaption"),t=new k.ButtonView(e);return t.set({icon:a.icons.caption,tooltip:!0,isToggleable:!0}),t.bind("isOn","isEnabled").to(n,"value","isEnabled"),t.bind("label").to(n,"value",e=>i(e?"Toggle caption off":"Toggle caption on")),this.listenTo(t,"execute",()=>{if(o.execute("toggleTableCaption",{focusCaptionOnShow:!0}),n.value){const t=(e=si(o.model.document.selection))?ri(e):null,i=o.editing.mapper.toViewElement(t);i&&(r.scrollToTheSelection(),r.change(e=>{e.addClass("table__caption_highlighted",i)}))}var e}),t})}}t=_i(665);e()(t.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.Z.locals;class ui extends a.Plugin{static get pluginName(){return"TableCaption"}static get requires(){return[ci,di]}}function mi(e){return parseFloat(w.global.window.getComputedStyle(e).width)}function hi(t,i){var e=function(){const e=i.editing.mapper.toViewElement(t);return[...[...e.getChildren()].find(e=>e.is("element","table")).getChildren()].find(e=>e.is("element","tbody"))}();return mi(i.editing.view.domConverter.mapViewToDom(e))}function gi(e,t){const i=hi(e,t);return e.getAttribute("columnWidths").split(",").map(e=>e.trim()).map(e=>e.endsWith("px")?parseFloat(e):parseFloat(e)*i/100)}function pi(e,t){return 4e3/hi(e,t)}function fi(e,t){return t.plugins.get("TableUtils").getColumns(e)}function j(e){var t=Math.pow(10,2),e=parseFloat(e);return Math.round(e*t)/t}function bi(e,t,i){return j(e<=t?t:i<=e?i:e)}function wi(e,t){return Array(e).fill(t)}function P(e){return e.map(e=>parseFloat(e)).filter(e=>!Number.isNaN(e)).reduce((e,t)=>e+t,0)}function vi(){return e=>e.on("attribute:columnWidths:table",(e,t,i)=>{var n=i.writer,o=t.item,i=[...i.mapper.toViewElement(o).getChildren()].find(e=>e.is("element","table"));if(t.attributeNewValue){if(t.attributeNewValue!==t.attributeOldValue){var r=n,a=i,s=t.attributeNewValue,l=s.split(",");let e=[...a.getChildren()].find(e=>e.is("element","colgroup"));for(const a of[...(e=e||r.createContainerElement("colgroup")).getChildren()])r.remove(a);for(const a of Array(l.length).keys()){const s=r.createEmptyElement("col");r.setStyle("width",l[a],s),r.insert(r.createPositionAt(e,"end"),s)}r.insert(r.createPositionAt(a,"start"),e)}}else o=n,(t=[...i.getChildren()].find(e=>e.is("element","colgroup")))&&o.remove(t)})}class ki extends a.Plugin{static get requires(){return[i]}static get pluginName(){return"TableColumnResizeEditing"}constructor(e){super(e),this._isResizingActive=!1,this._isResizingAllowed=!0,this._resizingData=null,this._columnIndexMap=new Map,this._cellsModified=new Map}init(){this._extendSchema(),this._setupConversion(),this._setupPostFixer(),this._setupColumnResizers(),this._registerColgroupFixer(),this._registerResizerInserter();const e=this.editor,t=e.plugins.get("TableColumnResize");this.bind("_isResizingAllowed").to(e,"isReadOnly",t,"isEnabled",(e,t)=>!e&&t)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth","columnWidths"]})}_setupConversion(){const e=this.editor,t=e.conversion;var l;t.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:e=>e.getStyle("width")}}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:e=>({name:"figure",key:"style",value:{width:e}})}),t.for("upcast").add((l=e,e=>e.on("element:colgroup",(e,t,i)=>{var n=t.modelCursor.findAncestor("table");if(n){const o=i.writer,r=t.viewItem,a=fi(n,l),s=[...Array(a).keys()].map(e=>{const t=r.getChild(e);if(!t||!t.is("element","col"))return"auto";const i=t.getStyle("width");return i&&i.endsWith("%")?i:"auto"}).join(",");o.setAttribute("columnWidths",s,n)}}))),t.for("downcast").add(vi())}_setupPostFixer(){const w=this.editor,v=this._columnIndexMap,k=this._cellsModified;w.model.document.registerPostFixer(n=>{const o=w.model.document.differ.getChanges();let r=!1;for(const u of function(t,i){const n=new Set;for(const r of t){let e=null;switch(r.type){case"insert":case"remove":e=["table","tableRow","tableCell"].includes(r.name)?r.position:null;break;case"attribute":r.range.start.nodeAfter&&(e=["table","tableRow","tableCell"].includes(r.range.start.nodeAfter.name)?r.range.start:null)}const a=[];if(e){const n=e.nodeAfter&&"table"===e.nodeAfter.name?e.nodeAfter:e.findAncestor("table");if(n){const t=i.createRangeOn(n);for(const i of t.getItems())i.is("element")&&"table"===i.name&&a.push(i)}}var o=a;if(o)for(const t of o)n.add(t)}return n}(o,w.model))if(this.fire("disableResize",u)){if(u.hasAttribute("columnWidths")){n.removeAttribute("columnWidths",u);for(const{cell:w}of new y(u))v.delete(w),k.set(w,"remove");r=!0}}else{const o=fi(u,w);if(!u.hasAttribute("columnWidths")){const w=wi(o,"auto").join(",");n.setAttribute("columnWidths",w,u),r=!0}const m=function(o){const e=function(){const e=o.split(",").map(e=>e.trim()),t=e.filter(e=>"auto"===e).length;if(0===t)return e.map(e=>j(e));const i=P(e),n=Math.max((100-i)/t,5);return e.map(e=>"auto"===e?n:e).map(e=>j(e))}(),t=P(e);return 100===t?e:e.map(e=>j(100*e/t)).map((e,t,i)=>t!==i.length-1?e:j(e+100-P(i)))}(u.getAttribute("columnWidths"));let e=null,t=!1,i=!1;for(var{cell:a,cellWidth:s,column:l}of new y(u))if(v.has(a)){const y=v.get(a),h=y>l;if(y<l){if(!t){const k=pi(u,w),n=v.get(a.previousSibling)===l?e:wi(l-y,k);m.splice(y,0,...n),t=!0}v.set(a,l),k.set(a,"insert"),r=!0}if(h&&(i||(e=m.splice(l,y-l),a.nextSibling&&v.get(a.nextSibling)===l||(m[0<l?l-1:l]+=P(e)),i=!0),v.set(a,l),k.set(a,"insert"),r=!0),a.hasAttribute("width")&&1===s)if(function(e,t){{const i=t.editing.mapper.toViewElement(e);return[...[...i.getChildren()].find(e=>e.is("element","table")).getChildren()].find(e=>e.is("element","colgroup"))}}(u,w)){const v=hi(u,w),k=gi(u,w),g=pi(u,w),p=parseFloat(a.getAttribute("width")),f=a.getAttribute("width").endsWith("px"),y=a.getAttribute("width").endsWith("%");if(f||y){if(a.nextSibling){const n=bi(f?100*p/v:p,g,100*(k[l]+k[l+1]-40)/v)-m[l];m[l]+=n,m[l+1]-=n}else{const r=mi(w.editing.view.getDomRoot()),y=o-1,b=k[y];let t;if(f){const w=40,n=r-(v-b);k[y]=bi(p,40,n),t=P(k);for(let e=0;e<=y;e++)m[e]=j(100*k[e]/t)}else{const w=g,n=100-100*(v-b)/r;m[y]=bi(p,w,n),t=100*(v-b)/(100-m[y]);for(let e=0;e<=y-1;e++)m[e]=j(100*k[e]/t)}n.setAttribute("width",j(100*t/r)+"%",u)}n.removeAttribute("width",a),r=!0}}else n.removeAttribute("width",a),r=!0}else v.set(a,l),k.set(a,"insert"),r=!0;var c=o>m.length,d=o<m.length;if(c){const v=pi(u,w),k=wi(o-m.length,v);m.splice(m.length,0,...k)}if(d){const w=m.splice(o);m[o-1]+=P(w)}c=m.map(e=>e+"%").join(",");u.getAttribute("columnWidths")!==c&&(n.setAttribute("columnWidths",c,u),r=!0)}return r})}_setupColumnResizers(){const e=this.editor.editing.view,t=(e.addObserver(Ne),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),Object.create(w.DomEmitterMixin));t.listenTo(w.global.window.document,"mouseup",this._onMouseUpHandler.bind(this)),t.listenTo(w.global.window.document,"mousemove",function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return C(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),ft(e,t,{leading:n,maxWait:t,trailing:o})}(this._onMouseMoveHandler.bind(this),50))}_onMouseDownHandler(e,t){const i=this.editor.editing.view;t.target.hasClass("table-column-resizer")&&this._isResizingAllowed&&(t.preventDefault(),e.stop(),this._isResizingActive=!0,this._resizingData=this._getResizingData(t),i.change(e=>{e.addClass("table-column-resizer__active",this._resizingData.elements.viewResizer)}))}_onMouseUpHandler(){const e=this.editor,t=e.editing.view;if(this._isResizingActive){const{modelTable:i,viewColgroup:n,viewFigure:o,viewResizer:r}=this._resizingData.elements,a=i.getAttribute("columnWidths"),s=[...n.getChildren()].map(e=>e.getStyle("width")).join(","),l=a!==s,c=i.getAttribute("tableWidth"),d=o.getStyle("width"),u=c!==d;(l||u)&&(this._isResizingAllowed?e.model.change(e=>{l&&e.setAttribute("columnWidths",s,i),u&&e.setAttribute("tableWidth",j(d)+"%",i)}):t.change(e=>{if(l){const t=a.split(",");for(const i of n.getChildren())e.setStyle("width",t.shift(),i)}u&&(c?e.setStyle("width",c,o):e.removeStyle("width",o))})),t.change(e=>{e.removeClass("table-column-resizer__active",r)}),this._isResizingActive=!1,this._resizingData=null}}_onMouseMoveHandler(e,t){const i=this.editor.editing.view;if(this._isResizingActive)if(this._isResizingAllowed){const{columnPosition:n,flags:{isRightEdge:o,isLtrContent:r,isTableCentered:a},widths:{viewFigureParentWidth:s,tableWidth:l,leftColumnWidth:c,rightColumnWidth:d},elements:{viewFigure:u,viewLeftColumn:m,viewRightColumn:h}}=this._resizingData,g=40-c,p=o?s-l:d-40,f=(r?1:-1)*(o&&a?2:1),b=bi((t.clientX-n)*f,Math.min(g,0),Math.max(p,0));0!==b&&i.change(e=>{const t=j(100*(c+b)/l);if(e.setStyle("width",t+"%",m),o){const t=j(100*(l+b)/s);e.setStyle("width",t+"%",u)}else{const t=j(100*(d-b)/l);e.setStyle("width",t+"%",h)}})}else this._onMouseUpHandler()}_getResizingData(e){const t=this.editor,i=e.domEvent.clientX,n=e.target,o=n.findAncestor("td")||n.findAncestor("th"),r=t.editing.mapper.toModelElement(o),a=r.findAncestor("table"),s=function(e,t){t=t.get(e);return{leftEdge:t,rightEdge:t+(e.getAttribute("colspan")||1)-1}}(r,this._columnIndexMap).rightEdge,l=s===fi(a,t)-1,c=!a.hasAttribute("tableAlignment"),d="rtl"!==t.locale.contentLanguageDirection,u=o.findAncestor("table"),m=u.findAncestor("figure"),h=[...u.getChildren()].find(e=>e.is("element","colgroup")),g=h.getChild(s),p=l?void 0:h.getChild(s+1),f=mi(t.editing.view.domConverter.mapViewToDom(m.parent)),b=hi(a,t),w=gi(a,t);return{columnPosition:i,elements:{modelTable:a,viewFigure:m,viewColgroup:h,viewLeftColumn:g,viewRightColumn:p,viewResizer:n},widths:{viewFigureParentWidth:f,tableWidth:b,leftColumnWidth:w[s],rightColumnWidth:l?void 0:w[s+1]},flags:{isRightEdge:l,isTableCentered:c,isLtrContent:d}}}_registerColgroupFixer(){const n=this.editor;this.listenTo(n.editing.view.document,"layoutChanged",()=>{const e=n.model.document.selection.getFirstPosition().findAncestor("table"),t=n.editing.view.document.selection.getFirstPosition().getAncestors().reverse().find(e=>"table"===e.name),i=t&&[...t.getChildren()].find(e=>e.is("element","colgroup"));e&&e.hasAttribute("columnWidths")&&t&&!i&&n.editing.reconvertItem(e)},{priority:"low"})}_registerResizerInserter(){const t=this.editor,i=t.editing.view,r=this._cellsModified;i.on("render",()=>{for(const[e,o]of r.entries()){const r=t.editing.mapper.toViewElement(e);i.change(e=>{var t,i,n;"insert"===o?(t=e,[...(i=r).getChildren()].find(e=>e.hasClass("table-column-resizer"))||(n=t.createUIElement("div",{class:"table-column-resizer"}),t.insert(t.createPositionAt(i,"end"),n))):"remove"===o&&(t=e,(i=[...(i=r).getChildren()].find(e=>e.hasClass("table-column-resizer")))&&t.remove(i))})}r.clear()},{priority:"lowest"})}}r=_i(975);e()(r.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),r.Z.locals;class yi extends a.Plugin{static get requires(){return[ki]}static get pluginName(){return"TableColumnResize"}}})(),(window.CKEditor5=window.CKEditor5||{}).table=xi})(),(()=>{var i={945:(e,t,i)=>{e.exports=i(79)("./src/clipboard.js")},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},331:(e,t,i)=>{e.exports=i(79)("./src/enter.js")},468:(e,t,i)=>{e.exports=i(79)("./src/select-all.js")},181:(e,t,i)=>{e.exports=i(79)("./src/typing.js")},254:(e,t,i)=>{e.exports=i(79)("./src/undo.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return i[e](t,t.exports,s),t.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};(()=>{"use strict";s.r(l),s.d(l,{Essentials:()=>a});var e=s(704),t=s(945),i=s(331),n=s(468),o=s(181),r=s(254);class a extends e.Plugin{static get requires(){return[t.Clipboard,i.Enter,n.SelectAll,i.ShiftEnter,o.Typing,r.Undo]}static get pluginName(){return"Essentials"}}})(),(window.CKEditor5=window.CKEditor5||{}).essentials=l})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Decrease indent":"Decrease indent","Increase indent":"Increase indent"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function g(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return i[e](t,t.exports,g),t.exports}g.d=(e,t)=>{for(var i in t)g.o(t,i)&&!g.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),g.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};(()=>{"use strict";g.r(p),g.d(p,{Indent:()=>n,IndentBlock:()=>h,IndentEditing:()=>e,IndentUI:()=>i});var t=g(704);class e extends t.Plugin{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new t.MultiCommand(e)),e.commands.add("outdent",new t.MultiCommand(e))}}var s=g(273);const r='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',a='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class i extends t.Plugin{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,i=e.t,n="ltr"==t.uiLanguageDirection?r:a,o="ltr"==t.uiLanguageDirection?a:r;this._defineButton("indent",i("Increase indent"),n),this._defineButton("outdent",i("Decrease indent"),o)}_defineButton(n,o,r){const a=this.editor;a.ui.componentFactory.add(n,e=>{const t=a.commands.get(n),i=new s.ButtonView(e);return i.set({label:o,icon:r,tooltip:!0}),i.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(i,"execute",()=>{a.execute(n),a.editing.view.focus()}),i})}}class n extends t.Plugin{static get pluginName(){return"Indent"}static get requires(){return[e,i]}}var l=g(492),o=g(209);class c extends t.Command{constructor(e,t){super(e),this._indentBehavior=t}refresh(){const e=this.editor.model,t=(0,o.first)(e.document.selection.getSelectedBlocks());t&&e.schema.checkAttribute(t,"blockIndent")?this.isEnabled=this._indentBehavior.checkEnabled(t.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const e=this.editor.model,n=function(e){const t=e.document.selection,i=e.schema;return Array.from(t.getSelectedBlocks()).filter(e=>i.checkAttribute(e,"blockIndent"))}(e);e.change(e=>{for(const t of n){const n=t.getAttribute("blockIndent"),i=this._indentBehavior.getNextIndent(n);i?e.setAttribute("blockIndent",i,t):e.removeAttribute("blockIndent",t)}})}}class d{constructor(e){this.isForward="forward"===e.direction,this.offset=e.offset,this.unit=e.unit}checkEnabled(e){e=parseFloat(e||0);return this.isForward||0<e}getNextIndent(e){var t=parseFloat(e||0);if(e&&!e.endsWith(this.unit))return this.isForward?this.offset+this.unit:void 0;e=t+(this.isForward?this.offset:-this.offset);return 0<e?e+this.unit:void 0}}class u{constructor(e){this.isForward="forward"===e.direction,this.classes=e.classes}checkEnabled(e){e=this.classes.indexOf(e);return this.isForward?e<this.classes.length-1:0<=e}getNextIndent(e){var e=this.classes.indexOf(e),t=this.isForward?1:-1;return this.classes[e+t]}}const m=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class h extends t.Plugin{constructor(e){super(e),e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const e=this.editor,t=e.config.get("indentBlock"),i=!t.classes||!t.classes.length,n=Object.assign({direction:"forward"},t),o=Object.assign({direction:"backward"},t);i?(e.data.addStyleProcessorRules(l.addMarginRules),this._setupConversionUsingOffset(e.conversion),e.commands.add("indentBlock",new c(e,new d(n))),e.commands.add("outdentBlock",new c(e,new d(o)))):(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new c(e,new u(n))),e.commands.add("outdentBlock",new c(e,new u(o))))}afterInit(){const e=this.editor,t=e.model.schema,i=e.commands.get("indent"),n=e.commands.get("outdent"),o=e.config.get("heading.options");(o&&o.map(e=>e.model)||m).forEach(e=>{t.isRegistered(e)&&t.extend(e,{allowAttributes:"blockIndent"})}),t.setAttributeProperties("blockIndent",{isFormatting:!0}),i.registerChildCommand(e.commands.get("indentBlock")),n.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const e=this.editor.conversion,t="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[t]:/[\s\S]+/}},model:{key:"blockIndent",value:e=>e.getStyle(t)}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:e=>({key:"style",value:{[t]:e}})})}_setupConversionUsingClasses(e){const t={model:{key:"blockIndent",values:[]},view:{}};for(const i of e)t.model.values.push(i),t.view[i]={key:"class",value:[i]};this.editor.conversion.attributeToAttribute(t)}}})(),(window.CKEditor5=window.CKEditor5||{}).indent=p})(),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Choose language":"Choose language",Language:"Language","Remove language":"Remove language"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var i={176:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});t=i(609),i=i.n(t)()(function(e){return e[1]});i.push([e.id,".ck-content span[lang]{font-style:italic}",""]);const n=i},609:e=>{"use strict";e.exports=function(i){var l=[];return l.toString=function(){return this.map(function(e){var t=i(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},l.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),l.push(s))}},l}},62:(e,t,o)=>{"use strict";n={};var i,n,r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]},c=[];function d(e){for(var t=-1,i=0;i<c.length;i++)if(c[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s=i[a]||0,l="".concat(a," ").concat(s),a=(i[a]=s+1,d(l)),s={css:r[1],media:r[2],sourceMap:r[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var i,n,o;{var r;o=e.singleton?(r=g++,i=h=h||u(e),n=m.bind(null,i,r,!1),m.bind(null,i,r,!0)):(i=u(e),n=function(e,t,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):o()}}(s,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=o.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function m(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=l(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var h=null,g=0;e.exports=function(e,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=s(e=e||[],r);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=d(a[t]);c[i].references--}for(var e=s(e,r),n=0;n<a.length;n++){var o=d(a[n]);0===c[o].references&&(c[o].updater(),c.splice(o,1))}a=e}}}},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},79:e=>{"use strict";e.exports=CKEditor5.dll}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,s),t.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nc=void 0;var l={};(()=>{"use strict";s.r(l),s.d(l,{TextPartLanguage:()=>a,TextPartLanguageEditing:()=>i,TextPartLanguageUI:()=>r});var e=s(704),d=s(209);function u(e,t){return e+":"+(t=t||(0,d.getLanguageDirection)(e))}class t extends e.Command{refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"language")}execute({languageCode:e,textDirection:t}={}){const i=this.editor.model,n=i.document.selection,o=!!e&&u(e,t);i.change(e=>{if(n.isCollapsed)o?e.setSelectionAttribute("language",o):e.removeSelectionAttribute("language");else{var t=i.schema.getValidRanges(n.getRanges(),"language");for(const i of t)o?e.setAttribute("language",o,i):e.removeAttribute("language",i)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.getAttribute("language")||!1;for(const e of i.getRanges())for(const i of e.getItems())if(t.checkAttribute(i,"language"))return i.getAttribute("language")||!1;return!1}}class i extends e.Plugin{static get pluginName(){return"TextPartLanguageEditing"}constructor(e){super(e),e.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"language"}),e.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),e.commands.add("textPartLanguage",new t(e))}_defineConverters(){const e=this.editor.conversion;e.for("upcast").elementToAttribute({model:{key:"language",value:e=>u(e.getAttribute("lang"),e.getAttribute("dir"))},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),e.for("downcast").attributeToElement({model:"language",view:(i,{writer:e},t)=>{var n;if(i&&(t.item.is("$textProxy")||t.item.is("documentSelection")))return{languageCode:t,textDirection:n}=function(){var[e,t]=i.split(":");return{languageCode:e,textDirection:t}}(),e.createAttributeElement("span",{lang:t,dir:n})}})}}var m=s(273),n=s(62),n=s.n(n),o=s(176);n()(o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),o.Z.locals;class r extends e.Plugin{static get pluginName(){return"TextPartLanguageUI"}init(){const r=this.editor,e=r.t,a=r.config.get("language.textPartLanguage"),s=e("Choose language"),l=e("Remove language"),c=e("Language");r.ui.componentFactory.add("textPartLanguage",t=>{const e=new d.Collection,i={},n=r.commands.get("textPartLanguage");e.add({type:"button",model:new m.Model({label:l,languageCode:!1,withText:!0})}),e.add({type:"separator"});for(const r of a){const d={type:"button",model:new m.Model({label:r.title,languageCode:r.languageCode,textDirection:r.textDirection,withText:!0})},t=u(r.languageCode,r.textDirection);d.model.bind("isOn").to(n,"value",e=>e===t),e.add(d),i[t]=r.title}const o=(0,m.createDropdown)(t);return(0,m.addListToDropdown)(o,e),o.buttonView.set({isOn:!1,withText:!0,tooltip:c}),o.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),o.bind("isEnabled").to(n,"isEnabled"),o.buttonView.bind("label").to(n,"value",e=>i[e]||s),this.listenTo(o,"execute",e=>{n.execute({languageCode:e.source.languageCode,textDirection:e.source.textDirection}),r.editing.view.focus()}),o})}}class a extends e.Plugin{static get requires(){return[i,r]}static get pluginName(){return"TextPartLanguage"}}})(),(window.CKEditor5=window.CKEditor5||{}).language=l})();