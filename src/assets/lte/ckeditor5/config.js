const config = {
    plugins: [
    CKEditor5.alignment.Alignment,
    CKEditor5.autoformat.Autoformat,
    CKEditor5.basicStyles.Bold,
    CKEditor5.basicStyles.Italic,
    CKEditor5.basicStyles.Underline,
    CKEditor5.basicStyles.Strikethrough,
    CKEditor5.basicStyles.Code,
    CKEditor5.basicStyles.Subscript,
    CKEditor5.basicStyles.Superscript,
    CKEditor5.blockQuote.BlockQuote,
    CKEditor5.codeBlock.CodeBlock,
    CKEditor5.findAndReplace.FindAndReplace,
    CKEditor5.font.Font,
    CKEditor5.heading.Heading,
    CKEditor5.highlight.Highlight,
    CKEditor5.horizontalLine.HorizontalLine,
    CKEditor5.htmlEmbed.HtmlEmbed,
    CKEditor5.image.Image,
    CKEditor5.image.ImageToolbar,
    CKEditor5.image.ImageCaption,
    CKEditor5.image.ImageStyle,
    CKEditor5.image.ImageResize,
    CKEditor5.image.ImageUpload,
    CKEditor5.image.AutoImage,
    CKEditor5.link.LinkImage,
    CKEditor5.link.Link,
    CKEditor5.list.List,
    CKEditor5.list.TodoList,
    CKEditor5.list.ListProperties,
    CKEditor5.mediaEmbed.MediaEmbed,
    CKEditor5.pageBreak.PageBreak,
    CKEditor5.pasteFromOffice.PasteFromOffice,
    CKEditor5.removeFormat.RemoveFormat,
    CKEditor5.sourceEditing.SourceEditing,
    CKEditor5.specialCharacters.SpecialCharacters,
    CKEditor5.specialCharacters.SpecialCharactersEssentials,
    CKEditor5.table.Table,
    CKEditor5.table.TableToolbar,
    CKEditor5.table.TableColumnResize,
    CKEditor5.table.TableProperties,
    CKEditor5.table.TableCellProperties,
    CKEditor5.table.TableCaption,
    CKEditor5.essentials.Essentials,
    CKEditor5.indent.Indent,
    CKEditor5.paragraph.Paragraph,
    CKEditor5.language.TextPartLanguage,
    CKEditor5.upload.SimpleUploadAdapter,
    ],
    toolbar: {
    items: [
        "undo",
        "redo",
        "|",
        "findAndReplace",
        "selectAll",
        "|",
        "link",
        "blockQuote",
        "insertTable",
        "imageUpload",
        "mediaEmbed",
        "codeBlock",
        "htmlEmbed",
        "|",
        "bulletedList",
        "numberedList",
        "todoList",
        "|",
        "outdent",
        "indent",
        "alignment",
        "|",
        "sourceEditing",
        "-",
        "heading",
        "|",
        "removeFormat",
        "bold",
        "italic",
        "strikethrough",
        "underline",
        "code",
        "subscript",
        "superscript",
        "|",
        "specialCharacters",
        "horizontalLine",
        "pageBreak",
        "|",
        "highlight",
        "fontSize",
        "fontFamily",
        "fontColor",
        "fontBackgroundColor",
    ],
    shouldNotGroupWhenFull: true,
    },
    image: {
    toolbar: [
        "imageStyle:inline",
        "imageStyle:block",
        "imageStyle:side",
        "linkImage",
        "|",
        "toggleImageCaption",
        "imageResize",
        "imageTextAlternative",
    ],
    },
    table: {
    defaultHeadings: { rows: 1 },
    contentToolbar: [
        "tableColumn",
        "tableRow",
        "mergeTableCells",
        "toggleTableCaption",
        "tableProperties",
        "tableCellProperties",
    ],
    },
    list: {
    properties: {
        styles: true,
        startIndex: true,
        reversed: true,
    },
    },
    simpleUpload: {
    // The URL that the images are uploaded to.
    uploadUrl:
        "/admin/resources/quick_upload/?command=QuickUpload&type=Images",

    // Enable the XMLHttpRequest.withCredentials property.
    withCredentials: true,

    // Headers sent along with the XMLHttpRequest to the upload server.
    headers: {
        "X-CSRF-TOKEN": "CSRF-Token",
        Authorization: "Bearer <JSON Web Token>",
    },
    },
    mediaEmbed: {
    previewsInData: true,
    },
};

var allEditors = document.querySelectorAll('.ckeditor');
for (var i = 0; i < allEditors.length; ++i) {
    CKEditor5.editorClassic.ClassicEditor
    .create( allEditors[i], config )
    .then( editor => {
        window.editor = editor;
    } );
}